/*! For license information please see 832.5db3644b.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkequate=self.webpackChunkequate||[]).push([[832],{3165:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(7784).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},7832:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var r=a(5043),s=a(1130);const l=(0,a(7784).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var o=a(8646),n=a(8006),i=a(3944),d=a(4918),c=a(5347),m=a(3165),u=a(614),x=a(5746),h=a(8929),b=a(7925),g=a(369),f=a(8693),p=a(6667),v=a(8629),w=a(3107),y=a(579);const j=e=>{var t,a;let{db:s,teams:l,gameDate:o,onSuccess:n,onClose:i}=e;const[d,c]=(0,r.useState)((null===(t=l[0])||void 0===t?void 0:t.name)||""),[x,h]=(0,r.useState)("0"),[b,g]=(0,r.useState)((null===(a=l[1])||void 0===a?void 0:a.name)||""),[j,N]=(0,r.useState)("0"),[k,S]=(0,r.useState)(!1),[A,D]=(0,r.useState)(null);return(0,y.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&i()},children:(0,y.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-amber-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,y.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-amber-200/40 rounded-full blur-3xl"}),(0,y.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-orange-200/40 rounded-full blur-3xl"})]}),(0,y.jsx)("button",{onClick:i,className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,y.jsx)(u.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,y.jsxs)("div",{className:"mb-6",children:[(0,y.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,y.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg",children:(0,y.jsx)(m.A,{className:"w-6 h-6 text-white"})}),(0,y.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Enter Game Score"})]}),(0,y.jsxs)("p",{className:"text-sm text-slate-600",children:["Game Date: ",o.toLocaleDateString()]})]}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Team 1"}),(0,y.jsxs)("select",{value:d,onChange:e=>{c(e.target.value),D(null)},className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium",disabled:k,children:[(0,y.jsx)("option",{value:"",children:"Select team"}),l.map(e=>(0,y.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Team 1 Score"}),(0,y.jsx)("input",{type:"number",value:x,onChange:e=>{h(e.target.value),D(null)},min:"0",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium",disabled:k})]}),(0,y.jsx)("div",{className:"text-center text-2xl font-bold text-slate-400",children:"VS"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Team 2"}),(0,y.jsxs)("select",{value:b,onChange:e=>{g(e.target.value),D(null)},className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium",disabled:k,children:[(0,y.jsx)("option",{value:"",children:"Select team"}),l.map(e=>(0,y.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Team 2 Score"}),(0,y.jsx)("input",{type:"number",value:j,onChange:e=>{N(e.target.value),D(null)},min:"0",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium",disabled:k})]}),A&&(0,y.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold",children:A}),(0,y.jsxs)("button",{onClick:async()=>{if(!s)return void D("Database connection not ready.");if(!d||!b)return void D("Please select both teams.");if(d===b)return void D("Teams must be different.");const e=parseInt(x),t=parseInt(j);if(isNaN(e)||isNaN(t)||e<0||t<0)D("Scores must be non-negative numbers.");else{D(null),S(!0);try{const a=v.ON.gameResults(),r=(0,p.rJ)(s,a),l=(0,w.sq)(o),c=(0,p.P)(r,(0,p._M)("gameDate","==",l));if(!(await(0,p.GG)(c)).empty)return D("Score has already been entered for this game."),void S(!1);await(0,p.gS)(r,{gameDate:l,team1Name:d,team1Score:e,team2Name:b,team2Score:t,createdAt:p.Dc.now()}),n&&n(),i()}catch(a){console.error("Error submitting game score:",a),D("Failed to save score: ".concat(a.message))}finally{S(!1)}}},disabled:k||!d||!b,className:"w-full flex items-center justify-center gap-2 px-6 py-3 text-base font-bold text-white bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,y.jsx)(f.A,{size:20}),k?"Saving...":"Save Score"]})]})]})})},N=e=>{var t;let{db:a,teams:f=[],userRole:N="user",userId:k="",userEmail:S="",players:A=[],onNavigateToLeaderboard:D}=e;const C=(0,b.d)(a),[P,z]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),[M,E]=(0,r.useState)(null),[G,O]=(0,r.useState)(!1),[q,_]=(0,r.useState)(!1),[H,J]=(0,r.useState)(!1),[W,B]=(0,r.useState)(!1),[F,R]=(0,r.useState)(!1),[L,U]=(0,r.useState)(!1),[Y,K]=(0,r.useState)(!1),[V,X]=(0,r.useState)(""),[Q,Z]=(0,r.useState)(""),[$,ee]=(0,r.useState)(null),[te,ae]=(0,r.useState)(!1),[re,se]=(0,r.useState)(null),[le,oe]=(0,r.useState)(""),[ne,ie]=(0,r.useState)(""),[de,ce]=(0,r.useState)(null),[me,ue]=(0,r.useState)(!1),[xe,he]=(0,r.useState)(""),[be,ge]=(0,r.useState)(""),[fe,pe]=(0,r.useState)(""),[ve,we]=(0,r.useState)(null),[ye,je]=(0,r.useState)(!1),[Ne,ke]=(0,r.useState)(null),[Se,Ae]=(0,r.useState)(""),[De,Ce]=(0,r.useState)("0"),[Pe,ze]=(0,r.useState)("0"),[Te,Ie]=(0,r.useState)(null),[Me,Ee]=(0,r.useState)(!1),[Ge,Oe]=(0,r.useState)(null),qe="admin"===N,_e=qe?A:A.filter(e=>e.userId!==k&&e.registeredBy!==k),He=qe?A:A.filter(e=>e.userId===k||e.registeredBy===k),Je=(0,w.bb)((null===C||void 0===C?void 0:C.schedule)||null),We=C?(0,w.v)(C.schedule):null;(0,r.useEffect)(()=>{var e;q&&console.log("GameInfoPanel Debug - Enter Score Button:",{isAdmin:qe,userRole:N,teams:f,teamsIsArray:Array.isArray(f),teamsLength:null===f||void 0===f?void 0:f.length,teamsWithNames:null===f||void 0===f||null===(e=f.filter(e=>null===e||void 0===e?void 0:e.name))||void 0===e?void 0:e.map(e=>e.name),showGameCompletePanel:q,todayGame:T})},[q,qe,N,f,T]),(0,r.useEffect)(()=>{if(!C)return;const e=()=>{const e=new Date,t=(0,h.z)(C),a=new Date(e);a.setDate(a.getDate()-1);const r=a.getDay();let s=null;if(C.schedule&&C.schedule[r]){const[e,t]=C.schedule[r].split(":").map(Number),l=new Date(a);l.setHours(e,t,0,0);const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][l.getDay()],i=o[l.getMonth()],d=l.getDate(),c=l.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});s={date:l,formatted:"".concat(n,", ").concat(i," ").concat(d," at ").concat(c),dayOfWeek:r}}let l=null;if(t){const a=new Date(t.date);(0,g.de)(a,e)&&(l=t)}if(!l&&s){const t=new Date(s.date);(0,g.de)(t,e)&&(l=s)}I(l);let o=null;if(l){const t=new Date(l.date),a=new Date(t);a.setDate(t.getDate()+2),a.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0),r.getTime()>=a.getTime()&&(o=(0,h.S)(C))}else o=(0,h.S)(C);if(z(o),l){const t=new Date(l.date),a=new Date(t.getTime()+72e5),r=e.getTime()>=a.getTime()&&(0,g.de)(t,e);O(r),_(r)}else O(!1),_(!1);const n=l||o;n&&"number"===typeof n.dayOfWeek&&C.location&&C.location[n.dayOfWeek]?E(C.location[n.dayOfWeek]):E(null)};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[C]);return T||P?(0,y.jsxs)("div",{className:"max-w-5xl mx-auto px-2 sm:px-3 md:px-4",style:{minHeight:q?"auto":"180px",contain:"layout style paint"},children:[(0,y.jsxs)("div",{className:"w-full rounded-2xl sm:rounded-3xl shadow-xl sm:shadow-2xl backdrop-blur-sm relative overflow-hidden transition-all duration-300 ".concat(q?"bg-gradient-to-br from-amber-50/95 via-yellow-50/95 to-orange-50/95 border-2 border-amber-300/70 shadow-amber-200/20":G&&T?"bg-gradient-to-br from-emerald-50/95 via-green-50/95 to-teal-50/95 border-2 border-emerald-300/70 shadow-emerald-200/20":"bg-gradient-to-br from-indigo-100/95 via-purple-100/95 to-pink-100/95 border-2 border-indigo-300/70 shadow-indigo-200/20"),children:[(0,y.jsx)("div",{className:"absolute inset-0 ".concat(q?"bg-gradient-to-r from-amber-500/5 via-yellow-500/5 to-orange-500/5":G&&T?"bg-gradient-to-r from-emerald-500/5 via-green-500/5 to-teal-500/5":"bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-pink-500/5")}),(0,y.jsx)("div",{className:"relative z-10 p-5 sm:p-6 md:p-8",children:(0,y.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-5 lg:gap-8",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,y.jsx)("div",{className:"p-4 sm:p-5 rounded-2xl shadow-xl flex-shrink-0 relative transition-transform hover:scale-110 ".concat(q?"bg-gradient-to-br from-amber-500 to-orange-600 shadow-amber-500/30":G&&T?"bg-gradient-to-br from-emerald-500 to-teal-600 shadow-emerald-500/30":"bg-gradient-to-br from-indigo-500 to-purple-600 shadow-indigo-500/30"),children:q?(0,y.jsx)(s.A,{className:"text-white",size:28}):G&&T?(0,y.jsx)(l,{className:"text-white",size:28}):(0,y.jsx)(o.A,{className:"text-white",size:28})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("p",{className:"text-sm sm:text-base font-bold uppercase tracking-wide mb-2 flex flex-wrap items-center gap-2 ".concat(q?"text-amber-700":G&&T?"text-emerald-700":"text-slate-700"),children:[(0,y.jsx)("span",{children:q?"Game Complete!":T?"Today's Game":"Next Game"}),G&&T&&!q&&(0,y.jsxs)("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg bg-emerald-100 text-emerald-700 text-xs font-bold shadow-sm",children:[(0,y.jsx)(l,{size:12}),"Played"]})]}),(0,y.jsx)("p",{className:"text-lg sm:text-xl md:text-2xl font-bold break-words ".concat(q?"bg-gradient-to-r from-amber-700 via-orange-700 to-red-700 bg-clip-text text-transparent":G&&T?"bg-gradient-to-r from-emerald-700 via-green-700 to-teal-700 bg-clip-text text-transparent":"bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-700 bg-clip-text text-transparent"),children:null===(t=T||P)||void 0===t?void 0:t.formatted}),q&&(0,y.jsx)("p",{className:"text-sm sm:text-base text-slate-600 mt-2 font-medium",children:"Share your thoughts about today's game"})]})]}),M&&(0,y.jsxs)("div",{className:"flex items-center gap-4 lg:pl-8 lg:border-l-2 border-indigo-300/50 lg:min-w-[220px]",children:[(0,y.jsx)("div",{className:"p-4 sm:p-5 rounded-2xl shadow-xl flex-shrink-0 transition-transform hover:scale-110 ".concat(q?"bg-gradient-to-br from-orange-500 to-red-600 shadow-orange-500/30":"bg-gradient-to-br from-purple-500 to-pink-600 shadow-purple-500/30"),children:(0,y.jsx)(n.A,{className:"text-white",size:28})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsx)("p",{className:"text-sm sm:text-base font-bold text-slate-600 uppercase tracking-wide mb-2",children:"Location"}),(0,y.jsx)("p",{className:"text-lg sm:text-xl font-bold break-words ".concat(q?"bg-gradient-to-r from-orange-700 via-red-700 to-rose-700 bg-clip-text text-transparent":"bg-gradient-to-r from-purple-700 via-pink-700 to-rose-700 bg-clip-text text-transparent"),children:M})]})]})]})}),q&&T&&(0,y.jsxs)("div",{className:"relative z-10 px-5 sm:px-6 md:px-8 pb-5 sm:pb-6 md:pb-6 pt-5 border-t-2 border-amber-200/50",children:[(0,y.jsxs)("div",{className:"mb-4",children:[(0,y.jsxs)("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-slate-800 mb-1 flex items-center gap-2",children:[(0,y.jsx)("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-500 to-orange-600 rounded-full"}),(0,y.jsx)("span",{children:"Post-Game Actions"})]}),(0,y.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 ml-3",children:"Celebrate achievements and record game statistics"})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 ".concat(qe?"lg:grid-cols-3":"lg:grid-cols-2"," gap-3 lg:gap-4 mb-6"),children:[(0,y.jsxs)("button",{onClick:()=>B(!0),className:"group relative overflow-hidden flex items-center gap-3 p-3 lg:p-4 bg-gradient-to-br from-white via-amber-50/30 to-yellow-50/40 hover:from-white hover:via-amber-50/50 hover:to-yellow-50/60 border-2 border-yellow-200/60 hover:border-yellow-400/80 rounded-xl shadow-lg hover:shadow-xl hover:shadow-yellow-500/20 transition-all duration-300 transform hover:scale-[1.01] active:scale-[0.98]",children:[(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/5 to-amber-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),(0,y.jsxs)("div",{className:"relative z-10 flex items-center gap-3 w-full min-w-0",children:[(0,y.jsx)("div",{className:"flex-shrink-0 p-2.5 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-lg shadow-md group-hover:scale-110 transition-all duration-300",children:(0,y.jsx)(i.A,{className:"text-white",size:20})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,y.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-0.5",children:"Man of the Match"}),(0,y.jsx)("p",{className:"text-xs text-slate-600 truncate",children:"Nominate the best player"})]})]})]}),(0,y.jsxs)("button",{onClick:()=>R(!0),className:"group relative overflow-hidden flex items-center gap-3 p-3 lg:p-4 bg-gradient-to-br from-white via-pink-50/30 to-rose-50/40 hover:from-white hover:via-pink-50/50 hover:to-rose-50/60 border-2 border-pink-200/60 hover:border-pink-400/80 rounded-xl shadow-lg hover:shadow-xl hover:shadow-pink-500/20 transition-all duration-300 transform hover:scale-[1.01] active:scale-[0.98]",children:[(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-rose-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),(0,y.jsxs)("div",{className:"relative z-10 flex items-center gap-3 w-full min-w-0",children:[(0,y.jsx)("div",{className:"flex-shrink-0 p-2.5 bg-gradient-to-br from-pink-500 to-rose-600 rounded-lg shadow-md group-hover:scale-110 transition-all duration-300",children:(0,y.jsx)(d.A,{className:"text-white",size:20})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,y.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-0.5",children:"Give Kudos"}),(0,y.jsx)("p",{className:"text-xs text-slate-600 truncate",children:"Appreciate teammates"})]})]})]}),(0,y.jsxs)("button",{onClick:()=>U(!0),className:"group relative overflow-hidden flex items-center gap-3 p-3 lg:p-4 bg-gradient-to-br from-white via-amber-50/30 to-orange-50/40 hover:from-white hover:via-amber-50/50 hover:to-orange-50/60 border-2 border-amber-200/60 hover:border-amber-400/80 rounded-xl shadow-lg hover:shadow-xl hover:shadow-amber-500/20 transition-all duration-300 transform hover:scale-[1.01] active:scale-[0.98]",children:[(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-orange-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),(0,y.jsxs)("div",{className:"relative z-10 flex items-center gap-3 w-full min-w-0",children:[(0,y.jsx)("div",{className:"flex-shrink-0 p-2.5 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg shadow-md group-hover:scale-110 transition-all duration-300",children:(0,y.jsx)(c.A,{className:"text-white",size:20})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,y.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-0.5",children:"Rate Players"}),(0,y.jsx)("p",{className:"text-xs text-slate-600 truncate",children:"Add performance points"})]})]})]}),(0,y.jsxs)("button",{onClick:()=>{Je&&0!==He.length&&K(!0)},disabled:!Je||0===He.length,className:"group relative overflow-hidden flex items-center gap-3 p-3 lg:p-4 border-2 rounded-xl shadow-lg transition-all duration-300 transform ".concat(Je&&He.length>0?"bg-gradient-to-br from-white via-emerald-50/30 to-green-50/40 hover:from-white hover:via-emerald-50/50 hover:to-green-50/60 border-emerald-200/60 hover:border-emerald-400/80 hover:shadow-xl hover:shadow-emerald-500/20 hover:scale-[1.01] active:scale-[0.98] cursor-pointer":"bg-gradient-to-br from-gray-50 to-gray-100/50 border-gray-200/60 opacity-60 cursor-not-allowed"),children:[Je&&He.length>0&&(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-green-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),(0,y.jsxs)("div",{className:"relative z-10 flex items-center gap-3 w-full min-w-0",children:[(0,y.jsx)("div",{className:"flex-shrink-0 p-2.5 rounded-lg shadow-md transition-all duration-300 ".concat(Je&&He.length>0?"bg-gradient-to-br from-green-500 to-emerald-600 group-hover:scale-110":"bg-gradient-to-br from-gray-400 to-gray-500"),children:(0,y.jsx)(m.A,{className:"text-white",size:20})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,y.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-0.5",children:"Goals & Assists"}),(0,y.jsx)("p",{className:"text-xs text-slate-600 truncate",children:Je?0===He.length?"No players available":"Submit player stats":"Available after game"})]})]})]}),qe&&(0,y.jsxs)("button",{onClick:()=>{!Array.isArray(f)||f.length<2||!f.every(e=>null===e||void 0===e?void 0:e.name)?alert("Please generate teams first. You need at least 2 teams with names to enter scores."):J(!0)},disabled:!Array.isArray(f)||f.length<2||!f.every(e=>null===e||void 0===e?void 0:e.name),className:"group relative overflow-hidden flex items-center gap-3 p-3 lg:p-4 border-2 rounded-xl shadow-lg transition-all duration-300 transform ".concat(Array.isArray(f)&&f.length>=2&&f.every(e=>null===e||void 0===e?void 0:e.name)?"bg-gradient-to-br from-white via-green-50/30 to-emerald-50/40 hover:from-white hover:via-green-50/50 hover:to-emerald-50/60 border-green-200/60 hover:border-green-400/80 hover:shadow-xl hover:shadow-green-500/20 hover:scale-[1.01] active:scale-[0.98] cursor-pointer":"bg-gradient-to-br from-gray-50 to-gray-100/50 border-gray-200/60 opacity-60 cursor-not-allowed"),children:[Array.isArray(f)&&f.length>=2&&f.every(e=>null===e||void 0===e?void 0:e.name)&&(0,y.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-emerald-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),(0,y.jsxs)("div",{className:"relative z-10 flex items-center gap-3 w-full min-w-0",children:[(0,y.jsx)("div",{className:"flex-shrink-0 p-2.5 rounded-lg shadow-md transition-all duration-300 ".concat(Array.isArray(f)&&f.length>=2&&f.every(e=>null===e||void 0===e?void 0:e.name)?"bg-gradient-to-br from-green-500 to-emerald-600 group-hover:scale-110":"bg-gradient-to-br from-gray-400 to-gray-500"),children:(0,y.jsx)(m.A,{className:"text-white",size:20})}),(0,y.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,y.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-0.5",children:"Enter Score"}),(0,y.jsx)("p",{className:"text-xs text-slate-600 truncate",children:!Array.isArray(f)||f.length<2?"Generate teams first":f.every(e=>null===e||void 0===e?void 0:e.name)?"Record game result":"Teams need names"})]})]})]})]}),D&&(0,y.jsx)("div",{className:"pt-4 border-t-2 border-amber-200/50",children:(0,y.jsxs)("button",{onClick:D,className:"w-full md:w-auto md:max-w-md mx-auto md:mx-0 flex items-center justify-center gap-2 px-6 py-3 text-base font-bold text-white bg-gradient-to-r from-amber-600 via-orange-600 to-red-600 hover:from-amber-700 hover:via-orange-700 hover:to-red-700 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-amber-500/30 transform hover:scale-[1.02] active:scale-[0.98]",children:[(0,y.jsx)(s.A,{className:"w-5 h-5"}),(0,y.jsx)("span",{children:"View Statistics"})]})})]})]}),W&&T&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&(B(!1),ee(null),X(""),Z(""))},children:(0,y.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-yellow-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,y.jsx)("div",{className:"absolute -top-24 -right-24 w-56 h-56 bg-yellow-300/30 rounded-full blur-3xl animate-pulse"}),(0,y.jsx)("div",{className:"absolute -bottom-20 -left-20 w-48 h-48 bg-amber-300/30 rounded-full blur-3xl"}),(0,y.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-orange-200/20 rounded-full blur-3xl"})]}),(0,y.jsx)("button",{onClick:()=>{B(!1),ee(null),X(""),Z("")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,y.jsx)(u.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,y.jsxs)("div",{className:"relative z-10",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,y.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-yellow-500 via-amber-500 to-orange-500 flex items-center justify-center shadow-xl shadow-yellow-500/30",children:(0,y.jsx)(i.A,{className:"w-7 h-7 text-white"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-yellow-700 via-amber-700 to-orange-700 bg-clip-text text-transparent mb-1",children:"Nominate Man of the Match"}),(0,y.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Recognize outstanding performance"})]})]}),(0,y.jsxs)("div",{className:"mb-8 p-5 bg-gradient-to-r from-yellow-50/80 via-amber-50/80 to-orange-50/80 backdrop-blur-sm border-2 border-yellow-200/60 rounded-2xl shadow-lg",children:[(0,y.jsx)("p",{className:"text-xs font-bold uppercase tracking-wide text-yellow-700 mb-2",children:"Game Date"}),(0,y.jsx)("p",{className:"text-base sm:text-lg text-yellow-800 font-bold",children:T.formatted})]}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"Select Player"]}),(0,y.jsxs)("select",{value:V,onChange:e=>{X(e.target.value),ee(null)},className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-yellow-500/30 focus:border-yellow-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-yellow-300",required:!0,disabled:te,children:[(0,y.jsx)("option",{value:"",children:"Choose a player..."}),_e.map(e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id))]}),!qe&&0===_e.length&&(0,y.jsxs)("p",{className:"mt-3 text-xs text-slate-500 italic flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-400"}),"You cannot nominate yourself or players you registered."]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"Reason ",(0,y.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"(Optional)"})]}),(0,y.jsx)("textarea",{value:Q,onChange:e=>{Z(e.target.value),ee(null)},placeholder:"Why did this player deserve Man of the Match? Share your thoughts...",rows:5,className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-yellow-500/30 focus:border-yellow-500 transition-all duration-200 resize-none bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-yellow-300 placeholder:text-slate-400",disabled:te})]}),$&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(u.A,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-red-800",children:$})]}),re&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(l,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-green-800",children:re})]}),(0,y.jsxs)("button",{onClick:async()=>{if(V)if(a&&k&&S){ee(null),ae(!0);try{const e=v.ON.motm(),t=(0,p.rJ)(a,e),r=A.find(e=>e.id===V);if(!r)throw new Error("Player not found");const s=(0,w.X2)((null===C||void 0===C?void 0:C.schedule)||null)||(new Date).toDateString();if(await(0,p.gS)(t,{gameDate:s,nominatedPlayerId:V,nominatedPlayerName:r.name,nominatedBy:k,nominatedByEmail:S,reason:Q.trim()||void 0,createdAt:p.Dc.now()}),r.userId){const e=v.ON.userNotifications(),t=(0,p.rJ)(a,e);await(0,p.gS)(t,{userId:r.userId,type:"motm",message:"".concat(S," nominated you for Man of the Match!"),fromUserEmail:S,relatedPlayerId:V,relatedPlayerName:r.name,createdAt:p.Dc.now(),read:!1})}se("Nomination submitted successfully!"),X(""),Z(""),B(!1),setTimeout(()=>se(null),3e3)}catch(e){console.error("Error submitting nomination:",e),ee("Failed to submit nomination: ".concat(e.message))}finally{ae(!1)}}else ee("Missing required information.");else ee("Please select a player.")},disabled:te||!V,className:"w-full flex items-center justify-center gap-3 px-6 py-4 text-base font-black text-white bg-gradient-to-r from-yellow-600 via-amber-600 to-orange-600 hover:from-yellow-700 hover:via-amber-700 hover:to-orange-700 rounded-2xl transition-all duration-300 shadow-xl shadow-yellow-500/30 hover:shadow-2xl hover:shadow-yellow-500/40 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[(0,y.jsx)(i.A,{size:22}),(0,y.jsx)("span",{children:te?"Submitting...":"Submit Nomination"})]})]})]})]})}),F&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&(R(!1),ce(null),oe(""),ie(""))},children:(0,y.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-pink-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,y.jsx)("div",{className:"absolute -top-24 -right-24 w-56 h-56 bg-pink-300/30 rounded-full blur-3xl animate-pulse"}),(0,y.jsx)("div",{className:"absolute -bottom-20 -left-20 w-48 h-48 bg-rose-300/30 rounded-full blur-3xl"}),(0,y.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-fuchsia-200/20 rounded-full blur-3xl"})]}),(0,y.jsx)("button",{onClick:()=>{R(!1),ce(null),oe(""),ie("")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,y.jsx)(u.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,y.jsxs)("div",{className:"relative z-10",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,y.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-pink-500 via-rose-500 to-fuchsia-500 flex items-center justify-center shadow-xl shadow-pink-500/30",children:(0,y.jsx)(d.A,{className:"w-7 h-7 text-white"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-pink-700 via-rose-700 to-fuchsia-700 bg-clip-text text-transparent mb-1",children:"Give Kudos"}),(0,y.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Appreciate your teammates"})]})]}),(0,y.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),le&&ne.trim())if(a&&k&&S){ce(null),ue(!0);try{const e=v.ON.kudos(),t=(0,p.rJ)(a,e),r=A.find(e=>e.id===le);if(!r)throw new Error("Player not found");if(await(0,p.gS)(t,{fromUserId:k,fromUserEmail:S,toPlayerId:le,toPlayerName:r.name,message:ne.trim(),createdAt:p.Dc.now()}),r.userId){const e=v.ON.userNotifications(),t=(0,p.rJ)(a,e);await(0,p.gS)(t,{userId:r.userId,type:"kudos",message:"".concat(S," gave you kudos!"),fromUserEmail:S,relatedPlayerId:le,relatedPlayerName:r.name,createdAt:p.Dc.now(),read:!1})}oe(""),ie(""),R(!1),ce(null)}catch(t){console.error("Error submitting kudos:",t),ce("Failed to submit kudos. Please try again.")}finally{ue(!1)}}else ce("Missing required information.");else ce("Please select a player and enter a message.")},className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-pink-500"}),"Select Player"]}),(0,y.jsxs)("select",{value:le,onChange:e=>{oe(e.target.value),ce(null)},className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-pink-500/30 focus:border-pink-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-pink-300",required:!0,disabled:me,children:[(0,y.jsx)("option",{value:"",children:"Choose a player..."}),_e.map(e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id))]}),!qe&&0===_e.length&&(0,y.jsxs)("p",{className:"mt-3 text-xs text-slate-500 italic flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-400"}),"You cannot give kudos to yourself or players you registered."]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-pink-500"}),"Your Message"]}),(0,y.jsx)("textarea",{value:ne,onChange:e=>{ie(e.target.value),ce(null)},placeholder:"Share your appreciation... e.g., Great goal today! Amazing teamwork in defense...",rows:5,className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-pink-500/30 focus:border-pink-500 transition-all duration-200 resize-none bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-pink-300 placeholder:text-slate-400",required:!0,disabled:me})]}),de&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(u.A,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-red-800",children:de})]}),(0,y.jsxs)("button",{type:"submit",className:"w-full flex items-center justify-center gap-3 px-6 py-4 text-base font-black text-white bg-gradient-to-r from-pink-600 via-rose-600 to-fuchsia-600 hover:from-pink-700 hover:via-rose-700 hover:to-fuchsia-700 rounded-2xl transition-all duration-300 shadow-xl shadow-pink-500/30 hover:shadow-2xl hover:shadow-pink-500/40 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",disabled:me,children:[(0,y.jsx)(x.A,{size:22}),(0,y.jsx)("span",{children:me?"Sending...":"Send Kudos"})]})]})]})]})}),L&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&(U(!1),we(null),he(""),ge(""),pe(""))},children:(0,y.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-amber-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,y.jsx)("div",{className:"absolute -top-24 -right-24 w-56 h-56 bg-amber-300/30 rounded-full blur-3xl animate-pulse"}),(0,y.jsx)("div",{className:"absolute -bottom-20 -left-20 w-48 h-48 bg-orange-300/30 rounded-full blur-3xl"}),(0,y.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-yellow-200/20 rounded-full blur-3xl"})]}),(0,y.jsx)("button",{onClick:()=>{U(!1),we(null),he(""),ge(""),pe("")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,y.jsx)(u.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,y.jsxs)("div",{className:"relative z-10",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,y.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-500 via-orange-500 to-yellow-500 flex items-center justify-center shadow-xl shadow-amber-500/30",children:(0,y.jsx)(c.A,{className:"w-7 h-7 text-white"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-amber-700 via-orange-700 to-yellow-700 bg-clip-text text-transparent mb-1",children:"Rate Player Performance"}),(0,y.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Add performance points (1-5)"})]})]}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),"Select Player"]}),(0,y.jsxs)("select",{value:xe,onChange:e=>{he(e.target.value),we(null)},className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-amber-500/30 focus:border-amber-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-amber-300",required:!0,disabled:ye,children:[(0,y.jsx)("option",{value:"",children:"Choose a player..."}),_e.map(e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id))]}),!qe&&0===_e.length&&(0,y.jsxs)("p",{className:"mt-3 text-xs text-slate-500 italic flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-400"}),"You cannot add points for yourself or players you registered."]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),"Points ",(0,y.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"(1-5)"})]}),(0,y.jsx)("input",{type:"number",value:be,onChange:e=>{ge(e.target.value),we(null)},placeholder:"Enter points from 1 to 5",min:"1",max:"5",className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-amber-500/30 focus:border-amber-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-amber-300 placeholder:text-slate-400",required:!0,disabled:ye})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"}),"Performance Note"]}),(0,y.jsx)("textarea",{value:fe,onChange:e=>{pe(e.target.value),we(null)},placeholder:"Describe the performance... e.g., Great goal, Excellent defense, Man of the match performance...",rows:5,className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-amber-500/30 focus:border-amber-500 transition-all duration-200 resize-none bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-amber-300 placeholder:text-slate-400",required:!0,disabled:ye})]}),ve&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(u.A,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-red-800",children:ve})]}),Ne&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(l,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-green-800",children:Ne})]}),(0,y.jsxs)("button",{onClick:async()=>{if(!xe||!be||!fe.trim())return void we("Please fill in all fields.");if(!a||!k||!S)return void we("Missing required information.");const e=parseInt(be);if(isNaN(e)||e<1||e>5)we("Points must be between 1 and 5.");else{we(null),je(!0);try{const t="".concat(v.ON.playerPoints(),"/").concat(xe),r=(0,p.H9)(a,t),s=A.find(e=>e.id===xe);if(!s)throw new Error("Player not found");const l=await(0,p.x7)(r);let o=0,n=[];if(l.exists()){const e=l.data();o=e.totalPoints||0,n=e.pointsHistory||[]}const i=(new Date).toDateString(),d=o+e,c={points:e,reason:fe.trim(),addedBy:S,addedAt:p.Dc.now(),matchDate:i};await(0,p.BN)(r,{playerId:xe,playerName:s.name,totalPoints:d,pointsHistory:[...n,c]},{merge:!1}),ke("Points added successfully!"),he(""),ge(""),pe(""),U(!1),setTimeout(()=>ke(null),3e3)}catch(t){console.error("Error adding points:",t),we("Failed to add points: ".concat(t.message))}finally{je(!1)}}},disabled:ye||!xe||!be||!fe.trim(),className:"w-full flex items-center justify-center gap-3 px-6 py-4 text-base font-black text-white bg-gradient-to-r from-amber-600 via-orange-600 to-yellow-600 hover:from-amber-700 hover:via-orange-700 hover:to-yellow-700 rounded-2xl transition-all duration-300 shadow-xl shadow-amber-500/30 hover:shadow-2xl hover:shadow-amber-500/40 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[(0,y.jsx)(c.A,{size:22}),(0,y.jsx)("span",{children:ye?"Adding...":"Add Points"})]})]})]})]})}),Y&&Je&&(0,y.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&(K(!1),Ie(null),Ae(""),Ce("0"),ze("0"))},children:(0,y.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-emerald-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,y.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,y.jsx)("div",{className:"absolute -top-24 -right-24 w-56 h-56 bg-green-300/30 rounded-full blur-3xl animate-pulse"}),(0,y.jsx)("div",{className:"absolute -bottom-20 -left-20 w-48 h-48 bg-emerald-300/30 rounded-full blur-3xl"}),(0,y.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-teal-200/20 rounded-full blur-3xl"})]}),(0,y.jsx)("button",{onClick:()=>{K(!1),Ie(null),Ae(""),Ce("0"),ze("0")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,y.jsx)(u.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,y.jsxs)("div",{className:"relative z-10",children:[(0,y.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,y.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500 via-emerald-500 to-teal-500 flex items-center justify-center shadow-xl shadow-green-500/30",children:(0,y.jsx)(m.A,{className:"w-7 h-7 text-white"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("h2",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-green-700 via-emerald-700 to-teal-700 bg-clip-text text-transparent mb-1",children:"Submit Goals & Assists"}),(0,y.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Record player statistics"})]})]}),We&&(0,y.jsxs)("div",{className:"mb-8 p-5 bg-gradient-to-r from-green-50/80 via-emerald-50/80 to-teal-50/80 backdrop-blur-sm border-2 border-green-200/60 rounded-2xl shadow-lg",children:[(0,y.jsx)("p",{className:"text-xs font-bold uppercase tracking-wide text-green-700 mb-2",children:"Game Date"}),(0,y.jsx)("p",{className:"text-base sm:text-lg text-green-800 font-bold",children:We})]}),(0,y.jsxs)("div",{className:"space-y-6",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Select Player"]}),(0,y.jsxs)("select",{value:Se,onChange:e=>{Ae(e.target.value),Ie(null)},className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-green-300",required:!0,disabled:Me,children:[(0,y.jsx)("option",{value:"",children:"Choose a player..."}),He.map(e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Goals Scored"]}),(0,y.jsx)("input",{type:"number",value:De,onChange:e=>{Ce(e.target.value),Ie(null)},placeholder:"Enter number of goals",min:"0",className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-green-300 placeholder:text-slate-400",required:!0,disabled:Me})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,y.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Assists Made"]}),(0,y.jsx)("input",{type:"number",value:Pe,onChange:e=>{ze(e.target.value),Ie(null)},placeholder:"Enter number of assists",min:"0",className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl focus:ring-4 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 bg-white/90 backdrop-blur-sm shadow-md hover:shadow-lg hover:border-green-300 placeholder:text-slate-400",required:!0,disabled:Me})]}),Te&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(u.A,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-red-800",children:Te})]}),Ge&&(0,y.jsxs)("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,y.jsx)("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,y.jsx)(l,{className:"w-3 h-3 text-white"})}),(0,y.jsx)("span",{className:"text-green-800",children:Ge})]}),(0,y.jsxs)("button",{onClick:async()=>{if(!Se||!We)return void Ie("Please select a player and ensure a game was played recently.");const e=parseInt(De),t=parseInt(Pe);if(isNaN(e)||e<0)Ie("Goals must be a non-negative number.");else if(isNaN(t)||t<0)Ie("Assists must be a non-negative number.");else if(0!==e||0!==t){Ie(null),Ee(!0);try{const r=v.ON.goalsAssistsSubmissions(),s=(0,p.rJ)(a,r),l=A.find(e=>e.id===Se);if(!l)throw new Error("Player not found");const o=await(0,p.GG)(s);if(o.docs.find(e=>{const t=e.data();return t.playerId===Se&&t.gameDate===We&&"pending"===t.status}))return Ie("You have already submitted stats for this player for this game. Please wait for admin approval."),void Ee(!1);await(0,p.gS)(s,{playerId:Se,playerName:l.name,gameDate:We,goals:e,assists:t,submittedBy:k,submittedByEmail:S,status:"pending",createdAt:p.Dc.now()}),Oe("Stats submitted successfully! Waiting for admin approval."),Ae(""),Ce("0"),ze("0"),K(!1),setTimeout(()=>Oe(null),5e3)}catch(r){console.error("Error submitting stats:",r),Ie("Failed to submit stats: ".concat(r.message))}finally{Ee(!1)}}else Ie("Please enter at least one goal or assist.")},disabled:Me||!Se||0===parseInt(De)&&0===parseInt(Pe),className:"w-full flex items-center justify-center gap-3 px-6 py-4 text-base font-black text-white bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 rounded-2xl transition-all duration-300 shadow-xl shadow-green-500/30 hover:shadow-2xl hover:shadow-green-500/40 transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[(0,y.jsx)(m.A,{size:22}),(0,y.jsx)("span",{children:Me?"Submitting...":"Submit Stats"})]})]})]})]})}),H&&T&&f.length>=2&&(0,y.jsx)(j,{db:a,teams:f,gameDate:T.date,onSuccess:()=>{J(!1)},onClose:()=>J(!1)})]}):(0,y.jsx)("div",{className:"max-w-5xl mx-auto px-2 sm:px-3 md:px-4 mb-4",style:{minHeight:"0px",height:"0px",overflow:"hidden"},"aria-hidden":"true"})}},8006:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(7784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8646:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(7784).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8929:(e,t,a)=>{function r(e){if(!e||!e.schedule||0===Object.keys(e.schedule).length)return null;const t=new Date,a=e.schedule,r=t.getDay();if(a[r]){const[e,s]=a[r].split(":").map(Number),o=new Date(t);return o.setHours(e,s,0,0),{date:o,formatted:l(o),dayOfWeek:r}}return null}function s(e){var t;if(!e||!e.schedule||0===Object.keys(e.schedule).length)return null;const a=new Date,r=e.schedule,s=a.getDay();if(r[s]){const[e,t]=r[s].split(":").map(Number),o=new Date(a);return o.setHours(e,t,0,0),o>a?{date:o,formatted:l(o),dayOfWeek:s}:null}let o=null,n=null,i=1/0;for(let l=1;l<=7;l++){const e=(s+l)%7;if(r[e]){const[t,s]=r[e].split(":").map(Number),d=new Date(a);d.setDate(a.getDate()+l),d.setHours(t,s,0,0),l<i&&(i=l,o=d,n=e)}}if(!o){const e=Object.keys(r).map(Number).sort((e,t)=>e-t);if(e.length>0){const t=e[0],l=t>=s?t-s:7-s+t,[i,d]=r[t].split(":").map(Number);o=new Date(a),o.setDate(a.getDate()+l),o.setHours(i,d,0,0),n=t}}return o?{date:o,formatted:l(o),dayOfWeek:null!==(t=n)&&void 0!==t?t:void 0}:null}function l(e){const t=new Date,a=new Date(t);a.setDate(a.getDate()+1);const r=e.toDateString()===t.toDateString(),s=e.toDateString()===a.toDateString(),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let o="";if(r)o="Today";else if(s)o="Tomorrow";else{const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=l[e.getMonth()],r=e.getDate();o="".concat(t,", ").concat(a," ").concat(r)}const n=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return"".concat(o," at ").concat(n)}a.d(t,{S:()=>s,z:()=>r})}}]);
//# sourceMappingURL=832.5db3644b.chunk.js.map