{"version":3,"file":"static/js/461.ecfbff96.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/circle-check-big.ts","../node_modules/lucide-react/src/icons/target.ts","../node_modules/lucide-react/src/icons/trending-up.ts","../node_modules/lucide-react/src/icons/footprints.ts","../node_modules/lucide-react/src/icons/chart-column.ts","../node_modules/lucide-react/src/icons/calendar.ts","utils/timestampHelpers.ts","utils/gameSchedule.ts","components/players/PlayerProfileModal.tsx","components/league/LeagueTable.tsx","utils/leagueTable.ts","components/leaderboard/Leaderboard.tsx","components/kudos/KudosBoard.tsx","components/motm/ManOfTheMatch.tsx","components/statistics/StatisticsDashboard.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('circle-check-big', __iconNode);\n\nexport default CircleCheckBig;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('target', __iconNode);\n\nexport default Target;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 7h6v6', key: 'box55l' }],\n  ['path', { d: 'm22 7-8.5 8.5-5-5L2 17', key: '1t1m79' }],\n];\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgN2g2djYiIC8+CiAgPHBhdGggZD0ibTIyIDctOC41IDguNS01LTVMMiAxNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('trending-up', __iconNode);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z',\n      key: '1dudjm',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z',\n      key: 'l2t8xc',\n    },\n  ],\n  ['path', { d: 'M16 17h4', key: '1dejxt' }],\n  ['path', { d: 'M4 13h4', key: '1bwh8b' }],\n];\n\n/**\n * @component @name Footprints\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNnYtMi4zOEM0IDExLjUgMi45NyAxMC41IDMgOGMuMDMtMi43MiAxLjQ5LTYgNC41LTZDOS4zNyAyIDEwIDMuOCAxMCA1LjVjMCAzLjExLTIgNS42Ni0yIDguNjhWMTZhMiAyIDAgMSAxLTQgMFoiIC8+CiAgPHBhdGggZD0iTTIwIDIwdi0yLjM4YzAtMi4xMiAxLjAzLTMuMTIgMS01LjYyLS4wMy0yLjcyLTEuNDktNi00LjUtNkMxNC42MyA2IDE0IDcuOCAxNCA5LjVjMCAzLjExIDIgNS42NiAyIDguNjhWMjBhMiAyIDAgMSAwIDQgMFoiIC8+CiAgPHBhdGggZD0iTTE2IDE3aDQiIC8+CiAgPHBhdGggZD0iTTQgMTNoNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/footprints\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Footprints = createLucideIcon('footprints', __iconNode);\n\nexport default Footprints;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 3v16a2 2 0 0 0 2 2h16', key: 'c24i48' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n];\n\n/**\n * @component @name ChartColumn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE2YTIgMiAwIDAgMCAyIDJoMTYiIC8+CiAgPHBhdGggZD0iTTE4IDE3VjkiIC8+CiAgPHBhdGggZD0iTTEzIDE3VjUiIC8+CiAgPHBhdGggZD0iTTggMTd2LTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-column\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartColumn = createLucideIcon('chart-column', __iconNode);\n\nexport default ChartColumn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","/**\n * Utility functions for handling Firestore Timestamps\n * Centralizes date/time conversion logic\n */\n\nimport { Timestamp } from \"firebase/firestore\";\n\n/**\n * Convert a Firestore timestamp to a JavaScript Date\n */\nexport function timestampToDate(timestamp: Timestamp | any): Date | null {\n  if (!timestamp) return null;\n  \n  if (timestamp.toDate && typeof timestamp.toDate === \"function\") {\n    return timestamp.toDate();\n  }\n  \n  if (timestamp.seconds) {\n    return new Date(timestamp.seconds * 1000);\n  }\n  \n  return null;\n}\n\n/**\n * Get formatted date string from timestamp\n */\nexport function getFormattedDate(timestamp: Timestamp | any): string {\n  const date = timestampToDate(timestamp);\n  if (!date) return \"N/A\";\n  \n  return date.toLocaleString();\n}\n\n/**\n * Get timestamp in milliseconds for sorting\n */\nexport function getTimestampMs(timestamp: Timestamp | any): number {\n  if (!timestamp) return 0;\n  \n  if (timestamp.toMillis && typeof timestamp.toMillis === \"function\") {\n    return timestamp.toMillis();\n  }\n  \n  if (timestamp.seconds) {\n    return timestamp.seconds * 1000;\n  }\n  \n  return 0;\n}\n\n/**\n * Sort array by timestamp (descending - newest first)\n */\nexport function sortByTimestamp<T extends { createdAt?: Timestamp | any }>(\n  items: T[]\n): T[] {\n  return [...items].sort((a, b) => {\n    const aTime = getTimestampMs(a.createdAt);\n    const bTime = getTimestampMs(b.createdAt);\n    return bTime - aTime;\n  });\n}\n\n","/**\n * Utility functions for calculating next game date/time from schedule\n */\n\nexport interface GameSchedule {\n  schedule: { [day: number]: string }; // Map of day (0-6) to time string (HH:MM)\n  location?: { [day: number]: string }; // Map of day (0-6) to location string\n}\n\n/**\n * Get today's game info if today is a game day\n */\nexport function getTodayGame(schedule: GameSchedule | null): { date: Date; formatted: string; dayOfWeek: number } | null {\n  if (!schedule || !schedule.schedule || Object.keys(schedule.schedule).length === 0) {\n    return null;\n  }\n\n  const now = new Date();\n  const scheduleMap = schedule.schedule;\n  const today = now.getDay();\n  \n  if (scheduleMap[today]) {\n    const [hours, minutes] = scheduleMap[today].split(':').map(Number);\n    const todayGameTime = new Date(now);\n    todayGameTime.setHours(hours, minutes, 0, 0);\n    \n    return {\n      date: todayGameTime,\n      formatted: formatGameDateTime(todayGameTime),\n      dayOfWeek: today,\n    };\n  }\n  \n  return null;\n}\n\n/**\n * Calculate the next game date and time based on the schedule\n * This returns the next game from tomorrow onwards (not today)\n */\nexport function calculateNextGame(schedule: GameSchedule | null): { date: Date; formatted: string; dayOfWeek?: number } | null {\n  if (!schedule || !schedule.schedule || Object.keys(schedule.schedule).length === 0) {\n    return null;\n  }\n\n  const now = new Date();\n  const scheduleMap = schedule.schedule;\n  \n  // Get today's day of week (0 = Sunday, 6 = Saturday)\n  const today = now.getDay();\n  \n  // Check if there's a game today\n  if (scheduleMap[today]) {\n    const [hours, minutes] = scheduleMap[today].split(':').map(Number);\n    const todayGameTime = new Date(now);\n    todayGameTime.setHours(hours, minutes, 0, 0);\n    \n    // If game time hasn't passed yet, show it as next game\n    if (todayGameTime > now) {\n      return {\n        date: todayGameTime,\n        formatted: formatGameDateTime(todayGameTime),\n        dayOfWeek: today,\n      };\n    }\n    // If game time has passed today, don't show next game until tomorrow\n    // Return null so next game only shows from tomorrow\n    return null;\n  }\n  \n  // Look for the next game day in the current week\n  let nextGameDate: Date | null = null;\n  let nextGameDay: number | null = null;\n  let minDaysUntil = Infinity;\n  \n  for (let i = 1; i <= 7; i++) {\n    const checkDay = (today + i) % 7;\n    if (scheduleMap[checkDay]) {\n      const [hours, minutes] = scheduleMap[checkDay].split(':').map(Number);\n      const gameDate = new Date(now);\n      gameDate.setDate(now.getDate() + i);\n      gameDate.setHours(hours, minutes, 0, 0);\n      \n      if (i < minDaysUntil) {\n        minDaysUntil = i;\n        nextGameDate = gameDate;\n        nextGameDay = checkDay;\n      }\n    }\n  }\n  \n  // If no game found in next 7 days, find the earliest day in the schedule\n  if (!nextGameDate) {\n    const sortedDays = Object.keys(scheduleMap).map(Number).sort((a, b) => a - b);\n    if (sortedDays.length > 0) {\n      const earliestDay = sortedDays[0];\n      const daysUntil = earliestDay >= today \n        ? earliestDay - today \n        : 7 - today + earliestDay;\n      \n      const [hours, minutes] = scheduleMap[earliestDay].split(':').map(Number);\n      nextGameDate = new Date(now);\n      nextGameDate.setDate(now.getDate() + daysUntil);\n      nextGameDate.setHours(hours, minutes, 0, 0);\n      nextGameDay = earliestDay;\n    }\n  }\n  \n  if (!nextGameDate) {\n    return null;\n  }\n  \n  return {\n    date: nextGameDate,\n    formatted: formatGameDateTime(nextGameDate),\n    dayOfWeek: nextGameDay ?? undefined,\n  };\n}\n\n/**\n * Format game date and time for display\n */\nfunction formatGameDateTime(date: Date): string {\n  const today = new Date();\n  const tomorrow = new Date(today);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n  \n  const isToday = date.toDateString() === today.toDateString();\n  const isTomorrow = date.toDateString() === tomorrow.toDateString();\n  \n  const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n  const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  \n  let dateStr = '';\n  if (isToday) {\n    dateStr = 'Today';\n  } else if (isTomorrow) {\n    dateStr = 'Tomorrow';\n  } else {\n    const dayName = dayNames[date.getDay()];\n    const month = monthNames[date.getMonth()];\n    const day = date.getDate();\n    dateStr = `${dayName}, ${month} ${day}`;\n  }\n  \n  const timeStr = date.toLocaleTimeString('en-US', { \n    hour: 'numeric', \n    minute: '2-digit',\n    hour12: true \n  });\n  \n  return `${dateStr} at ${timeStr}`;\n}\n\n","import React, { useState, useEffect, useMemo } from \"react\";\nimport { X, Trophy, Star, Target, Footprints, Users, TrendingUp, Award, Calendar } from \"lucide-react\";\nimport { collection, query, where, getDocs, Timestamp } from \"firebase/firestore\";\nimport { FirestorePaths } from \"../../utils/firestorePaths\";\nimport { getFormattedDate, getTimestampMs } from \"../../utils/timestampHelpers\";\nimport { Player } from \"../../types/player\";\n\ninterface PlayerProfileModalProps {\n  player: Player;\n  playerStats: {\n    totalPoints: number;\n    motmAwards: number;\n    goals: number;\n    assists: number;\n    gamesPlayed: number;\n    pointsHistory: any[];\n  };\n  db: any;\n  onClose: () => void;\n}\n\ninterface MOTMAward {\n  gameDate: string;\n  voteCount: number;\n  awardedAt: Timestamp | any;\n}\n\n\nconst PlayerProfileModal: React.FC<PlayerProfileModalProps> = ({\n  player,\n  playerStats,\n  db,\n  onClose,\n}) => {\n  const [motmAwards, setMotmAwards] = useState<MOTMAward[]>([]);\n  const [attendanceRate, setAttendanceRate] = useState<number>(0);\n\n  // Calculate attendance rate\n  useEffect(() => {\n    if (!playerStats.pointsHistory || playerStats.gamesPlayed === 0) {\n      setAttendanceRate(0);\n      return;\n    }\n\n    // Get unique game dates from points history\n    const gameDates = new Set<string>();\n    playerStats.pointsHistory.forEach((entry: any) => {\n      if (entry.reason === \"Played in game\" && entry.matchDate) {\n        gameDates.add(entry.matchDate);\n      }\n    });\n\n    // TODO: Get total games scheduled (this would require game schedule data)\n    // For now, use gamesPlayed as the denominator\n    const totalGames = playerStats.gamesPlayed;\n    const rate = totalGames > 0 ? (playerStats.gamesPlayed / totalGames) * 100 : 0;\n    setAttendanceRate(Math.round(rate));\n  }, [playerStats]);\n\n  // Fetch MOTM awards\n  useEffect(() => {\n    if (!db) return;\n\n    const fetchMOTMAwards = async () => {\n      try {\n        const awardsPath = FirestorePaths.motmAwards();\n        const awardsRef = collection(db, awardsPath);\n        const q = query(awardsRef, where(\"playerId\", \"==\", player.id));\n        const snapshot = await getDocs(q);\n        \n        const awards: MOTMAward[] = snapshot.docs.map((docSnap) => ({\n          gameDate: docSnap.data().gameDate,\n          voteCount: docSnap.data().voteCount || 0,\n          awardedAt: docSnap.data().awardedAt,\n        }));\n\n        // Sort by awardedAt timestamp (newest first)\n        const sortedAwards = [...awards].sort((a, b) => {\n          const aTime = getTimestampMs(a.awardedAt);\n          const bTime = getTimestampMs(b.awardedAt);\n          return bTime - aTime;\n        });\n        setMotmAwards(sortedAwards);\n      } catch (err) {\n        console.error(\"Error fetching MOTM awards:\", err);\n      }\n    };\n\n    fetchMOTMAwards();\n  }, [db, player.id]);\n\n\n  // Calculate goals per game and assists per game\n  const goalsPerGame = useMemo(() => {\n    return playerStats.gamesPlayed > 0 \n      ? (playerStats.goals / playerStats.gamesPlayed).toFixed(2)\n      : \"0.00\";\n  }, [playerStats.goals, playerStats.gamesPlayed]);\n\n  const assistsPerGame = useMemo(() => {\n    return playerStats.gamesPlayed > 0 \n      ? (playerStats.assists / playerStats.gamesPlayed).toFixed(2)\n      : \"0.00\";\n  }, [playerStats.assists, playerStats.gamesPlayed]);\n\n  // Points history sorted by date\n  const sortedPointsHistory = useMemo(() => {\n    const history = [...playerStats.pointsHistory];\n    return history.sort((a: any, b: any) => {\n      const aTime = getTimestampMs(a.addedAt);\n      const bTime = getTimestampMs(b.addedAt);\n      return bTime - aTime; // Newest first\n    });\n  }, [playerStats.pointsHistory]);\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200\"\n      onClick={(e) => {\n        if (e.target === e.currentTarget) {\n          onClose();\n        }\n      }}\n    >\n      <div\n        className=\"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-4xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-indigo-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Decorative background */}\n        <div className=\"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl\">\n          <div className=\"absolute -top-20 -right-20 w-40 h-40 bg-indigo-200/40 rounded-full blur-3xl\"></div>\n          <div className=\"absolute -bottom-16 -left-16 w-36 h-36 bg-purple-200/40 rounded-full blur-3xl\"></div>\n        </div>\n\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group\"\n          type=\"button\"\n          aria-label=\"Close modal\"\n        >\n          <X className=\"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors\" />\n        </button>\n\n        <div className=\"relative z-10\">\n          {/* Header */}\n          <div className=\"mb-6\">\n            <h2 className=\"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2\">\n              {player.name}\n            </h2>\n            <div className=\"flex items-center gap-4 text-sm text-slate-600\">\n              <span className=\"font-semibold\">{player.position}</span>\n              <span></span>\n              <span>Skill Level: {player.skillLevel}</span>\n            </div>\n          </div>\n\n          {/* Stats Grid */}\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4 mb-6\">\n            <div className=\"bg-gradient-to-br from-amber-100 to-orange-100 rounded-xl p-4 border-2 border-amber-300\">\n              <Trophy className=\"text-amber-600 mb-2\" size={24} />\n              <div className=\"text-2xl font-bold text-amber-700\">{playerStats.totalPoints}</div>\n              <div className=\"text-xs font-semibold text-amber-600\">Total Points</div>\n            </div>\n            <div className=\"bg-gradient-to-br from-yellow-100 to-amber-100 rounded-xl p-4 border-2 border-yellow-300\">\n              <Star className=\"text-yellow-600 mb-2\" size={24} />\n              <div className=\"text-2xl font-bold text-yellow-700\">{playerStats.motmAwards}</div>\n              <div className=\"text-xs font-semibold text-yellow-600\">MOTM Awards</div>\n            </div>\n            <div className=\"bg-gradient-to-br from-red-100 to-pink-100 rounded-xl p-4 border-2 border-red-300\">\n              <Target className=\"text-red-600 mb-2\" size={24} />\n              <div className=\"text-2xl font-bold text-red-700\">{playerStats.goals}</div>\n              <div className=\"text-xs font-semibold text-red-600\">Goals</div>\n            </div>\n            <div className=\"bg-gradient-to-br from-blue-100 to-cyan-100 rounded-xl p-4 border-2 border-blue-300\">\n              <Footprints className=\"text-blue-600 mb-2\" size={24} />\n              <div className=\"text-2xl font-bold text-blue-700\">{playerStats.assists}</div>\n              <div className=\"text-xs font-semibold text-blue-600\">Assists</div>\n            </div>\n            <div className=\"bg-gradient-to-br from-green-100 to-emerald-100 rounded-xl p-4 border-2 border-green-300\">\n              <Users className=\"text-green-600 mb-2\" size={24} />\n              <div className=\"text-2xl font-bold text-green-700\">{playerStats.gamesPlayed}</div>\n              <div className=\"text-xs font-semibold text-green-600\">Games Played</div>\n            </div>\n          </div>\n\n          {/* Performance Metrics */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6\">\n            <div className=\"bg-slate-100 rounded-xl p-4 border-2 border-slate-300\">\n              <div className=\"text-sm font-semibold text-slate-600 mb-1\">Goals per Game</div>\n              <div className=\"text-2xl font-bold text-slate-800\">{goalsPerGame}</div>\n            </div>\n            <div className=\"bg-slate-100 rounded-xl p-4 border-2 border-slate-300\">\n              <div className=\"text-sm font-semibold text-slate-600 mb-1\">Assists per Game</div>\n              <div className=\"text-2xl font-bold text-slate-800\">{assistsPerGame}</div>\n            </div>\n            <div className=\"bg-slate-100 rounded-xl p-4 border-2 border-slate-300\">\n              <div className=\"text-sm font-semibold text-slate-600 mb-1\">Attendance Rate</div>\n              <div className=\"text-2xl font-bold text-slate-800\">{attendanceRate}%</div>\n            </div>\n          </div>\n\n          {/* MOTM Awards */}\n          {motmAwards.length > 0 && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-xl font-bold text-slate-800 mb-3 flex items-center gap-2\">\n                <Award className=\"text-yellow-600\" size={20} />\n                Man of the Match Awards\n              </h3>\n              <div className=\"space-y-2 max-h-40 overflow-y-auto custom-scrollbar\">\n                {motmAwards.map((award, index) => (\n                  <div\n                    key={index}\n                    className=\"bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg p-3 border-2 border-yellow-200\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <div className=\"font-semibold text-yellow-800\">Game: {award.gameDate}</div>\n                        <div className=\"text-xs text-yellow-600\">\n                          {award.voteCount} {award.voteCount === 1 ? \"vote\" : \"votes\"}\n                        </div>\n                      </div>\n                      {award.awardedAt && (\n                        <div className=\"text-xs text-slate-500\">\n                          {getFormattedDate(award.awardedAt)}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Recent Points History */}\n          {sortedPointsHistory.length > 0 && (\n            <div className=\"mb-6\">\n              <h3 className=\"text-xl font-bold text-slate-800 mb-3 flex items-center gap-2\">\n                <TrendingUp className=\"text-indigo-600\" size={20} />\n                Recent Points History\n              </h3>\n              <div className=\"space-y-2 max-h-48 overflow-y-auto custom-scrollbar\">\n                {sortedPointsHistory.slice(0, 10).map((entry: any, index: number) => (\n                  <div\n                    key={index}\n                    className=\"bg-slate-50 rounded-lg p-3 border-2 border-slate-200\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"font-semibold text-slate-800\">+{entry.points} points</div>\n                        <div className=\"text-sm text-slate-600\">{entry.reason}</div>\n                        {entry.matchDate && (\n                          <div className=\"text-xs text-slate-500 mt-1 flex items-center gap-1\">\n                            <Calendar size={12} />\n                            {entry.matchDate}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"text-xs text-slate-500 text-right\">\n                        {entry.addedAt && getFormattedDate(entry.addedAt)}\n                        <div className=\"text-xs text-slate-400\">by {entry.addedBy || \"System\"}</div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PlayerProfileModal;\n\n","import React from \"react\";\nimport { Trophy, TrendingUp } from \"lucide-react\";\nimport { TeamStanding } from \"../../types/league\";\n\ninterface LeagueTableProps {\n  standings: TeamStanding[];\n  isLoading?: boolean;\n}\n\nconst LeagueTable: React.FC<LeagueTableProps> = ({ standings, isLoading = false }) => {\n  if (isLoading) {\n    return (\n      <div className=\"w-full rounded-2xl bg-white/90 backdrop-blur-xl p-6 border-2 border-amber-200 shadow-lg\">\n        <p className=\"text-center text-slate-600 font-medium\">Loading league table...</p>\n      </div>\n    );\n  }\n\n  if (standings.length === 0) {\n    return (\n      <div className=\"w-full rounded-2xl bg-gradient-to-br from-slate-50 to-amber-50 p-6 border-2 border-dashed border-amber-200 shadow-lg\">\n        <div className=\"text-center\">\n          <Trophy className=\"mx-auto text-amber-400 mb-3\" size={48} />\n          <p className=\"text-slate-600 font-medium\">No games played yet.</p>\n          <p className=\"text-sm text-slate-500 mt-1\">League table will appear after game scores are entered.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full rounded-2xl bg-white/90 backdrop-blur-xl border-2 border-amber-200 shadow-lg overflow-hidden\">\n      <div className=\"bg-gradient-to-r from-amber-500 to-orange-600 p-3 sm:p-4\">\n        <div className=\"flex items-center justify-center gap-2\">\n          <Trophy className=\"text-white\" size={24} />\n          <p className=\"text-white text-sm sm:text-base font-semibold\">Win = 3 pts | Draw = 1 pt | Loss = 0 pts</p>\n        </div>\n      </div>\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gradient-to-r from-amber-50 to-orange-50 border-b-2 border-amber-200\">\n            <tr>\n              <th className=\"px-3 sm:px-4 py-3 text-left text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">Pos</th>\n              <th className=\"px-3 sm:px-4 py-3 text-left text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">Team</th>\n              <th className=\"px-2 sm:px-3 py-3 text-center text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">P</th>\n              <th className=\"px-2 sm:px-3 py-3 text-center text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">W</th>\n              <th className=\"px-2 sm:px-3 py-3 text-center text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">D</th>\n              <th className=\"px-2 sm:px-3 py-3 text-center text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">L</th>\n              <th className=\"px-3 sm:px-4 py-3 text-center text-xs sm:text-sm font-bold text-slate-700 uppercase tracking-wide\">Pts</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-amber-100\">\n            {standings.map((standing, index) => (\n              <tr\n                key={standing.teamName}\n                className={`hover:bg-amber-50/50 transition-colors ${\n                  index === 0 ? \"bg-gradient-to-r from-yellow-50 to-amber-50 font-semibold\" : \"\"\n                }`}\n              >\n                <td className=\"px-3 sm:px-4 py-3 text-sm sm:text-base\">\n                  <div className=\"flex items-center gap-2\">\n                    {index === 0 && <Trophy className=\"text-yellow-500\" size={16} />}\n                    {index === 1 && <Trophy className=\"text-gray-400\" size={16} />}\n                    {index === 2 && <Trophy className=\"text-orange-600\" size={16} />}\n                    <span className={index < 3 ? \"font-bold\" : \"\"}>{index + 1}</span>\n                  </div>\n                </td>\n                <td className=\"px-3 sm:px-4 py-3 text-sm sm:text-base font-medium text-slate-800\">\n                  {standing.teamName}\n                </td>\n                <td className=\"px-2 sm:px-3 py-3 text-center text-sm sm:text-base text-slate-700\">\n                  {standing.played}\n                </td>\n                <td className=\"px-2 sm:px-3 py-3 text-center text-sm sm:text-base text-green-700 font-semibold\">\n                  {standing.won}\n                </td>\n                <td className=\"px-2 sm:px-3 py-3 text-center text-sm sm:text-base text-slate-700\">\n                  {standing.drawn}\n                </td>\n                <td className=\"px-2 sm:px-3 py-3 text-center text-sm sm:text-base text-red-700 font-semibold\">\n                  {standing.lost}\n                </td>\n                <td className=\"px-3 sm:px-4 py-3 text-center\">\n                  <span className=\"inline-flex items-center gap-1 text-sm sm:text-base font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent\">\n                    <TrendingUp className=\"text-amber-600\" size={16} />\n                    {standing.points}\n                  </span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default LeagueTable;\n\n","/**\n * League table utilities - calculate standings from game results\n */\n\nimport { GameResult, TeamStanding } from \"../types/league\";\n\n/**\n * Calculate league standings from game results\n * Points: Win = 3, Draw = 1, Loss = 0\n */\nexport function calculateStandings(gameResults: GameResult[]): TeamStanding[] {\n  const standingsMap = new Map<string, TeamStanding>();\n\n  // Initialize all teams\n  gameResults.forEach((result) => {\n    if (!standingsMap.has(result.team1Name)) {\n      standingsMap.set(result.team1Name, {\n        teamName: result.team1Name,\n        played: 0,\n        won: 0,\n        drawn: 0,\n        lost: 0,\n        points: 0,\n      });\n    }\n    if (!standingsMap.has(result.team2Name)) {\n      standingsMap.set(result.team2Name, {\n        teamName: result.team2Name,\n        played: 0,\n        won: 0,\n        drawn: 0,\n        lost: 0,\n        points: 0,\n      });\n    }\n  });\n\n  // Process each game result\n  gameResults.forEach((result) => {\n    const team1Standing = standingsMap.get(result.team1Name)!;\n    const team2Standing = standingsMap.get(result.team2Name)!;\n\n    // Increment games played for both teams\n    team1Standing.played++;\n    team2Standing.played++;\n\n    // Determine result\n    if (result.team1Score > result.team2Score) {\n      // Team 1 wins\n      team1Standing.won++;\n      team1Standing.points += 3;\n      team2Standing.lost++;\n    } else if (result.team2Score > result.team1Score) {\n      // Team 2 wins\n      team2Standing.won++;\n      team2Standing.points += 3;\n      team1Standing.lost++;\n    } else {\n      // Draw\n      team1Standing.drawn++;\n      team1Standing.points += 1;\n      team2Standing.drawn++;\n      team2Standing.points += 1;\n    }\n  });\n\n  // Convert to array and sort by points (descending), then by wins, then by goal difference\n  const standings = Array.from(standingsMap.values());\n  standings.sort((a, b) => {\n    // Primary sort: points\n    if (b.points !== a.points) {\n      return b.points - a.points;\n    }\n    // Secondary sort: wins\n    if (b.won !== a.won) {\n      return b.won - a.won;\n    }\n    // Tertiary sort: goal difference (need to calculate from results)\n    const aGoalDiff = calculateGoalDifference(a.teamName, gameResults);\n    const bGoalDiff = calculateGoalDifference(b.teamName, gameResults);\n    if (bGoalDiff !== aGoalDiff) {\n      return bGoalDiff - aGoalDiff;\n    }\n    // If still tied, sort alphabetically\n    return a.teamName.localeCompare(b.teamName);\n  });\n\n  return standings;\n}\n\n/**\n * Calculate goal difference for a team\n */\nfunction calculateGoalDifference(teamName: string, gameResults: GameResult[]): number {\n  let goalsFor = 0;\n  let goalsAgainst = 0;\n\n  gameResults.forEach((result) => {\n    if (result.team1Name === teamName) {\n      goalsFor += result.team1Score;\n      goalsAgainst += result.team2Score;\n    } else if (result.team2Name === teamName) {\n      goalsFor += result.team2Score;\n      goalsAgainst += result.team1Score;\n    }\n  });\n\n  return goalsFor - goalsAgainst;\n}\n\n","import React, { useState, useEffect, useMemo, useCallback } from \"react\";\nimport { Trophy, Award, Plus, TrendingUp, Star, X, Target, Users, Footprints, Search, Filter, XCircle } from \"lucide-react\";\nimport { useDebounce } from \"../../hooks/useDebounce\";\nimport { collection, onSnapshot, doc, setDoc, Timestamp, getDoc } from \"firebase/firestore\";\nimport { GameSchedule } from \"../../utils/gameSchedule\";\nimport { isTodayGameDayPassed } from \"../../utils/gamePoints\";\nimport PlayerProfileModal from \"../players/PlayerProfileModal\";\nimport { Player, Position, SkillLevel } from \"../../types/player\";\nimport { POSITION_LABELS, POSITIONS } from \"../../constants/player\";\nimport LeagueTable from \"../league/LeagueTable\";\nimport { GameResult, TeamStanding } from \"../../types/league\";\nimport { calculateStandings } from \"../../utils/leagueTable\";\nimport { FirestorePaths } from \"../../utils/firestorePaths\";\n\ndeclare const __app_id: string;\n\ninterface PlayerPoints {\n  playerId: string;\n  playerName: string;\n  totalPoints: number;\n  motmAwards?: number;\n  goals?: number;\n  assists?: number;\n  gamesPlayed?: number;\n  pointsHistory: {\n    points: number;\n    reason: string;\n    addedBy: string;\n    addedAt: Timestamp | any;\n    matchDate?: string;\n  }[];\n}\n\ninterface LeaderboardProps {\n  db: any;\n  userId: string;\n  userEmail: string;\n  userRole: string;\n  players: any[];\n  isActive?: boolean;\n}\n\nconst Leaderboard: React.FC<LeaderboardProps> = ({ db, userId, userEmail, userRole, players, isActive = false }) => {\n  const [playerPoints, setPlayerPoints] = useState<PlayerPoints[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddPointsModal, setShowAddPointsModal] = useState(false);\n  const [selectedPlayer, setSelectedPlayer] = useState<string>(\"\");\n  const [points, setPoints] = useState<string>(\"\");\n  const [reason, setReason] = useState<string>(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [gameSchedule, setGameSchedule] = useState<GameSchedule | null>(null);\n  const [selectedPlayerProfile, setSelectedPlayerProfile] = useState<{ player: Player; stats: PlayerPoints } | null>(null);\n  \n  // League table state\n  const [gameResults, setGameResults] = useState<GameResult[]>([]);\n  const [leagueStandings, setLeagueStandings] = useState<TeamStanding[]>([]);\n  const [loadingLeagueTable, setLoadingLeagueTable] = useState(true);\n  \n  // Search and filter state\n  const [searchQuery, setSearchQuery] = useState<string>(\"\");\n  const [filterPosition, setFilterPosition] = useState<Position | \"\">(\"\");\n  const [filterMinPoints, setFilterMinPoints] = useState<string>(\"\");\n  const [filterMaxPoints, setFilterMaxPoints] = useState<string>(\"\");\n  const [sortBy, setSortBy] = useState<\"points\" | \"goals\" | \"assists\" | \"games\">(\"points\");\n  const [showFilters, setShowFilters] = useState(false);\n\n  const isAdmin = userRole === \"admin\";\n\n  // Filter players that the current user can add points for\n  const getAvailablePlayers = () => {\n    if (isAdmin) {\n      // Admins can add points for anyone\n      return players;\n    }\n    // Regular users cannot add points for themselves or players they registered\n    return players.filter(\n      (player) => player.userId !== userId && player.registeredBy !== userId\n    );\n  };\n\n  const availablePlayers = getAvailablePlayers();\n\n  // Fetch game schedule\n  useEffect(() => {\n    if (!db) return;\n\n    const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n    const schedulePath = `artifacts/${appId}/public/data/gameSchedule/config`;\n    const scheduleRef = doc(db, schedulePath);\n\n    const unsubscribe = onSnapshot(\n      scheduleRef,\n      (snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.data() as GameSchedule;\n          setGameSchedule(data);\n        } else {\n          setGameSchedule(null);\n        }\n      },\n      (err) => {\n        console.error(\"Error fetching game schedule:\", err);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [db]);\n\n  // Fetch game results for league table\n  useEffect(() => {\n    if (!db) return;\n\n    setLoadingLeagueTable(true);\n    const gameResultsPath = FirestorePaths.gameResults();\n    const gameResultsRef = collection(db, gameResultsPath);\n\n    const unsubscribe = onSnapshot(\n      gameResultsRef,\n      (snapshot) => {\n        const results = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as GameResult[];\n        setGameResults(results);\n        setLoadingLeagueTable(false);\n      },\n      (err) => {\n        console.error(\"Error fetching game results:\", err);\n        setLoadingLeagueTable(false);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [db]);\n\n  // Calculate standings when game results change\n  useEffect(() => {\n    if (gameResults.length > 0) {\n      const standings = calculateStandings(gameResults);\n      setLeagueStandings(standings);\n    } else {\n      setLeagueStandings([]);\n    }\n  }, [gameResults]);\n\n  // Helper function to process points data - extracted to avoid duplication\n  const processPointsData = useCallback((docs: any[], playersList: any[]) => {\n    const pointsData: { [playerId: string]: PlayerPoints } = {};\n    \n    docs.forEach((docSnap) => {\n      const data = docSnap.data();\n      if (data.playerId) {\n        // Calculate games played from points history\n        const gamesPlayed = (data.pointsHistory || []).filter(\n          (entry: any) => entry.reason === \"Played in game\" && entry.automatic === true\n        ).length;\n\n        pointsData[data.playerId] = {\n          playerId: data.playerId,\n          playerName: data.playerName,\n          totalPoints: data.totalPoints || 0,\n          motmAwards: data.motmAwards || 0,\n          goals: data.goals || 0,\n          assists: data.assists || 0,\n          gamesPlayed: gamesPlayed,\n          pointsHistory: data.pointsHistory || [],\n        };\n      }\n    });\n\n    // Initialize points for players that don't have any yet\n    playersList.forEach((player) => {\n      if (!pointsData[player.id]) {\n        pointsData[player.id] = {\n          playerId: player.id,\n          playerName: player.name,\n          totalPoints: 0,\n          motmAwards: 0,\n          goals: 0,\n          assists: 0,\n          gamesPlayed: 0,\n          pointsHistory: [],\n        };\n      }\n    });\n\n    return Object.values(pointsData).sort((a, b) => b.totalPoints - a.totalPoints);\n  }, []);\n\n  // Single optimized Firestore listener - removes duplicate initial fetch\n  useEffect(() => {\n    if (!db || players.length === 0) {\n      setLoading(false);\n      return;\n    }\n\n    setLoading(true);\n    const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n    const pointsPath = `artifacts/${appId}/public/data/playerPoints`;\n    const pointsRef = collection(db, pointsPath);\n\n    // Use onSnapshot only - it handles both initial load and real-time updates\n    const unsubscribe = onSnapshot(\n      pointsRef,\n      (snapshot) => {\n        const processedPoints = processPointsData(snapshot.docs, players);\n        setPlayerPoints(processedPoints);\n        setLoading(false);\n      },\n      (err) => {\n        console.error(\"Error fetching points:\", err);\n        setError(\"Failed to load leaderboard.\");\n        setLoading(false);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [db, players, processPointsData]);\n\n  const handleAddPoints = async () => {\n    if (!selectedPlayer || !points || !reason.trim()) {\n      setError(\"Please fill in all fields.\");\n      return;\n    }\n\n    // Must be after a game day\n    const canAddPointsToday = isTodayGameDayPassed(gameSchedule?.schedule || null);\n    if (!canAddPointsToday) {\n      setError(\"You can only add performance points after a game day.\");\n      return;\n    }\n\n    const pointsNum = parseInt(points);\n    if (isNaN(pointsNum) || pointsNum < 1 || pointsNum > 5) {\n      setError(\"Points must be between 1 and 5.\");\n      return;\n    }\n\n    setError(null);\n    setIsSubmitting(true);\n\n    try {\n      const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n      const pointsPath = `artifacts/${appId}/public/data/playerPoints/${selectedPlayer}`;\n      const pointsRef = doc(db, pointsPath);\n\n      const player = players.find((p) => p.id === selectedPlayer);\n      if (!player) {\n        throw new Error(\"Player not found\");\n      }\n\n      const existingPointsPath = `artifacts/${appId}/public/data/playerPoints/${selectedPlayer}`;\n      const existingPointsRef = doc(db, existingPointsPath);\n      const existingDoc = await getDoc(existingPointsRef);\n      \n      let existingPoints = 0;\n      let existingHistory: any[] = [];\n\n      if (existingDoc.exists()) {\n        const data = existingDoc.data();\n        existingPoints = data.totalPoints || 0;\n        existingHistory = data.pointsHistory || [];\n      }\n\n      const newTotal = existingPoints + pointsNum;\n      const newHistoryEntry = {\n        points: pointsNum,\n        reason: reason.trim(),\n        addedBy: userEmail,\n        addedAt: Timestamp.now(),\n      };\n\n      await setDoc(\n        pointsRef,\n        {\n          playerId: selectedPlayer,\n          playerName: player.name,\n          totalPoints: newTotal,\n          pointsHistory: [...existingHistory, newHistoryEntry],\n        },\n        { merge: false }\n      );\n\n      setSuccess(\"Points added successfully!\");\n      setSelectedPlayer(\"\");\n      setPoints(\"\");\n      setReason(\"\");\n      setShowAddPointsModal(false);\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err: any) {\n      console.error(\"Error adding points:\", err);\n      setError(`Failed to add points: ${err.message}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // Get player data for each playerPoints entry\n  const playerPointsWithFullData = useMemo(() => {\n    return playerPoints.map((pp) => {\n      const fullPlayer = players.find((p) => p.id === pp.playerId);\n      return {\n        ...pp,\n        position: fullPlayer?.position || \"CM\" as Position,\n        skillLevel: fullPlayer?.skillLevel || 5 as SkillLevel,\n      };\n    });\n  }, [playerPoints, players]);\n\n  // Debounce search query to reduce filtering operations\n  const debouncedSearchQuery = useDebounce(searchQuery, 300);\n\n  // Filter and sort players - Optimized with debounced search\n  const filteredAndSortedPlayers = useMemo(() => {\n    let filtered = playerPointsWithFullData.filter((pp) => {\n      // Search filter (using debounced query)\n      if (debouncedSearchQuery.trim() && !pp.playerName.toLowerCase().includes(debouncedSearchQuery.toLowerCase())) {\n        return false;\n      }\n      \n      // Position filter\n      if (filterPosition && pp.position !== filterPosition) {\n        return false;\n      }\n      \n      // Points range filter\n      const minPoints = filterMinPoints ? parseInt(filterMinPoints) : 0;\n      const maxPoints = filterMaxPoints ? parseInt(filterMaxPoints) : Infinity;\n      if (pp.totalPoints < minPoints || pp.totalPoints > maxPoints) {\n        return false;\n      }\n      \n      return true;\n    });\n\n    // Sort\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case \"goals\":\n          return (b.goals || 0) - (a.goals || 0);\n        case \"assists\":\n          return (b.assists || 0) - (a.assists || 0);\n        case \"games\":\n          return (b.gamesPlayed || 0) - (a.gamesPlayed || 0);\n        case \"points\":\n        default:\n          return b.totalPoints - a.totalPoints;\n      }\n    });\n\n    return filtered;\n  }, [playerPointsWithFullData, debouncedSearchQuery, filterPosition, filterMinPoints, filterMaxPoints, sortBy]);\n\n  // Count active filters\n  const activeFiltersCount = useMemo(() => {\n    let count = 0;\n    if (searchQuery.trim()) count++;\n    if (filterPosition) count++;\n    if (filterMinPoints) count++;\n    if (filterMaxPoints) count++;\n    if (sortBy !== \"points\") count++;\n    return count;\n  }, [searchQuery, filterPosition, filterMinPoints, filterMaxPoints, sortBy]);\n\n  // Clear all filters - Memoized callback\n  const clearFilters = useCallback(() => {\n    setSearchQuery(\"\");\n    setFilterPosition(\"\");\n    setFilterMinPoints(\"\");\n    setFilterMaxPoints(\"\");\n    setSortBy(\"points\");\n  }, []);\n\n  const getRankIcon = (rank: number) => {\n    if (rank === 1) return <Trophy className=\"text-yellow-500\" size={24} />;\n    if (rank === 2) return <Trophy className=\"text-gray-400\" size={24} />;\n    if (rank === 3) return <Trophy className=\"text-orange-600\" size={24} />;\n    return <span className=\"text-slate-600 font-bold text-lg w-6 text-center\">{rank}</span>;\n  };\n\n  return (\n    <div className={`relative overflow-hidden backdrop-blur-xl p-4 sm:p-6 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] ${\n      isActive \n        ? \"bg-gradient-to-br from-amber-50/95 via-yellow-50/95 to-amber-50/95 border-l-2 border-r-2 border-b-2 border-amber-500/70\" \n        : \"bg-white/90 border border-white/70 border-t-0\"\n    }`}>\n      <div className=\"pointer-events-none absolute inset-0 opacity-60\">\n        <div className=\"absolute -top-16 -right-10 w-48 h-48 bg-amber-200/50 blur-[90px]\" />\n        <div className=\"absolute bottom-0 left-0 w-40 h-40 bg-yellow-200/50 blur-[80px]\" />\n      </div>\n      <div className=\"relative z-10\">\n        {/* League Table Section - At the very top */}\n        <div className=\"mb-8\">\n          <div className=\"mb-4\">\n            <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-amber-600 via-yellow-600 to-orange-600 bg-clip-text text-transparent pb-2 flex items-center gap-2\">\n              <Trophy className=\"text-amber-600\" size={24} />\n              League Table\n            </h2>\n            <p className=\"text-xs sm:text-sm font-medium text-slate-600 mt-2\">\n              Team standings based on game results. Win = 3 pts | Draw = 1 pt | Loss = 0 pts\n            </p>\n          </div>\n          <LeagueTable standings={leagueStandings} isLoading={loadingLeagueTable} />\n        </div>\n\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-6\">\n          <div>\n            <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-amber-600 via-yellow-600 to-orange-600 bg-clip-text text-transparent pb-2 flex items-center gap-2\">\n              <Trophy className=\"text-amber-600\" size={24} />\n              Leaderboard\n            </h2>\n            <p className=\"text-xs sm:text-sm font-medium text-slate-600 mt-2\">\n              {isAdmin \n                ? \"View player rankings and assign points based on performance.\" \n                : availablePlayers.length > 0\n                ? \"View player rankings and assign points for other players.\"\n                : \"View player rankings and performance points.\"}\n            </p>\n          </div>\n          {availablePlayers.length > 0 && (\n            <button\n              onClick={() => setShowAddPointsModal(true)}\n              className=\"bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold py-2.5 px-4 sm:px-6 rounded-2xl hover:from-amber-600 hover:to-orange-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 w-full sm:w-auto\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              <span>Add Points</span>\n            </button>\n          )}\n        </div>\n\n        {error && (\n          <div className=\"mb-4 p-3 bg-red-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold\">\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div className=\"mb-4 p-3 bg-emerald-50 border-2 border-emerald-300 text-emerald-700 rounded-xl text-sm font-semibold flex items-center gap-2\">\n            <Award className=\"w-4 h-4\" />\n            {success}\n          </div>\n        )}\n\n        {/* Always render container to prevent layout shift */}\n        <div className=\"min-h-[400px]\">\n          {loading ? (\n            <div className=\"text-center p-8 min-h-[400px] flex items-center justify-center\">\n              <div className=\"flex flex-col items-center gap-4\">\n                <div className=\"relative w-12 h-12\">\n                  <div className=\"absolute inset-0 border-4 border-amber-200 rounded-full\"></div>\n                  <div className=\"absolute inset-0 border-4 border-transparent border-t-amber-600 rounded-full animate-spin\"></div>\n                </div>\n                <p className=\"text-slate-600 font-medium\">Loading leaderboard...</p>\n              </div>\n            </div>\n          ) : playerPoints.length === 0 ? (\n            <div className=\"text-center p-8 bg-gradient-to-br from-slate-100 to-amber-50 rounded-2xl border-2 border-dashed border-amber-200 min-h-[400px] flex flex-col items-center justify-center\">\n              <Trophy className=\"mx-auto text-amber-400 mb-3\" size={48} />\n              <p className=\"text-slate-600 font-medium\">No points recorded yet.</p>\n            </div>\n          ) : (\n            <>\n            {/* Search and Filter Section */}\n            <div className=\"mb-4 space-y-3\">\n              {/* Search Bar */}\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400\" size={18} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search players by name...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-10 pr-10 py-2.5 border-2 border-amber-200 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md text-sm font-medium\"\n                />\n                {searchQuery && (\n                  <button\n                    onClick={() => setSearchQuery(\"\")}\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition\"\n                    type=\"button\"\n                  >\n                    <XCircle className=\"text-slate-400 hover:text-slate-600\" size={18} />\n                  </button>\n                )}\n              </div>\n\n              {/* Filter Toggle Button */}\n              <div className=\"flex items-center justify-between\">\n                <button\n                  onClick={() => setShowFilters(!showFilters)}\n                  className={`flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200 ${\n                    showFilters\n                      ? \"bg-amber-600 text-white shadow-md\"\n                      : \"bg-slate-100 text-slate-700 hover:bg-slate-200\"\n                  }`}\n                  type=\"button\"\n                >\n                  <Filter size={16} />\n                  Filters\n                  {activeFiltersCount > 0 && (\n                    <span className=\"bg-white text-amber-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold\">\n                      {activeFiltersCount}\n                    </span>\n                  )}\n                </button>\n                {activeFiltersCount > 0 && (\n                  <button\n                    onClick={clearFilters}\n                    className=\"text-xs font-semibold text-slate-600 hover:text-amber-600 transition-colors flex items-center gap-1\"\n                    type=\"button\"\n                  >\n                    <XCircle size={14} />\n                    Clear filters\n                  </button>\n                )}\n              </div>\n\n              {/* Filter Options */}\n              {showFilters && (\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 p-4 bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border-2 border-amber-200 shadow-sm\">\n                  <div>\n                    <label className=\"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide\">\n                      Position\n                    </label>\n                    <select\n                      value={filterPosition}\n                      onChange={(e) => setFilterPosition(e.target.value as Position | \"\")}\n                      className=\"w-full p-2 border-2 border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium\"\n                    >\n                      <option value=\"\">All Positions</option>\n                      {POSITIONS.map((pos) => (\n                        <option key={pos} value={pos}>\n                          {pos} - {POSITION_LABELS[pos]}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide\">\n                      Min Points\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={filterMinPoints}\n                      onChange={(e) => setFilterMinPoints(e.target.value)}\n                      placeholder=\"Min\"\n                      min=\"0\"\n                      className=\"w-full p-2 border-2 border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide\">\n                      Max Points\n                    </label>\n                    <input\n                      type=\"number\"\n                      value={filterMaxPoints}\n                      onChange={(e) => setFilterMaxPoints(e.target.value)}\n                      placeholder=\"Max\"\n                      min=\"0\"\n                      className=\"w-full p-2 border-2 border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide\">\n                      Sort By\n                    </label>\n                    <select\n                      value={sortBy}\n                      onChange={(e) => setSortBy(e.target.value as \"points\" | \"goals\" | \"assists\" | \"games\")}\n                      className=\"w-full p-2 border-2 border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white text-sm font-medium\"\n                    >\n                      <option value=\"points\">Points</option>\n                      <option value=\"goals\">Goals</option>\n                      <option value=\"assists\">Assists</option>\n                      <option value=\"games\">Games Played</option>\n                    </select>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Results Count */}\n            {activeFiltersCount > 0 && filteredAndSortedPlayers.length > 0 && (\n              <div className=\"text-xs sm:text-sm text-slate-600 font-medium mb-2 px-1\">\n                Showing {filteredAndSortedPlayers.length} of {playerPoints.length} player{filteredAndSortedPlayers.length !== 1 ? 's' : ''}\n              </div>\n            )}\n\n            {/* Player List */}\n            {filteredAndSortedPlayers.length === 0 ? (\n              <div className=\"text-center p-8 bg-gradient-to-br from-slate-100 to-amber-50 rounded-2xl border-2 border-dashed border-amber-200\">\n                <p className=\"text-slate-600 mb-2 font-medium\">No players match your filters.</p>\n                {activeFiltersCount > 0 && (\n                  <button\n                    onClick={clearFilters}\n                    className=\"text-sm text-amber-600 hover:text-amber-700 font-semibold underline\"\n                    type=\"button\"\n                  >\n                    Clear filters to see all players\n                  </button>\n                )}\n              </div>\n            ) : (\n              <div className=\"space-y-3 max-h-[600px] overflow-y-auto custom-scrollbar\">\n                {filteredAndSortedPlayers.map((player, index) => (\n              <div\n                key={player.playerId}\n                className={`p-4 rounded-2xl border-2 shadow-md ${\n                  index === 0\n                    ? \"bg-gradient-to-r from-yellow-100 to-amber-100 border-yellow-300\"\n                    : index === 1\n                    ? \"bg-gradient-to-r from-gray-100 to-slate-100 border-gray-300\"\n                    : index === 2\n                    ? \"bg-gradient-to-r from-orange-100 to-amber-100 border-orange-300\"\n                    : \"bg-gradient-to-r from-white to-slate-50 border-slate-200\"\n                }`}\n              >\n                <div className=\"flex items-center justify-between gap-3\">\n                  <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                    {getRankIcon(index + 1)}\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2\">\n                        <p \n                          className=\"font-bold text-slate-800 text-base sm:text-lg truncate cursor-pointer hover:text-indigo-600 transition-colors\"\n                          onClick={() => {\n                            const fullPlayer = players.find(p => p.id === player.playerId);\n                            if (fullPlayer) {\n                              setSelectedPlayerProfile({\n                                player: fullPlayer,\n                                stats: player,\n                              });\n                            }\n                          }}\n                          title=\"Click to view player profile\"\n                        >\n                          {player.playerName}\n                        </p>\n                        {(() => {\n                          const fullPlayer = players.find(p => p.id === player.playerId);\n                          return fullPlayer?.jerseyNumber !== undefined && fullPlayer?.jerseyNumber !== null ? (\n                            <span className=\"flex-shrink-0 px-2.5 py-1 rounded-xl text-xs font-black bg-gradient-to-br from-amber-500 via-orange-600 to-amber-700 text-white shadow-md border-2 border-white/30\">\n                              #{fullPlayer.jerseyNumber}\n                            </span>\n                          ) : null;\n                        })()}\n                      </div>\n                      <div className=\"flex flex-wrap items-center gap-2 sm:gap-3 mt-1.5\">\n                        {(player.motmAwards || 0) > 0 && (\n                          <div className=\"flex items-center gap-1\">\n                            <Star className=\"text-yellow-500\" size={12} />\n                            <span className=\"text-xs font-semibold text-yellow-600\">\n                              {player.motmAwards} {player.motmAwards === 1 ? \"MOTM\" : \"MOTM\"}\n                            </span>\n                          </div>\n                        )}\n                        <div className=\"flex items-center gap-1\">\n                          <Target className=\"text-red-500\" size={12} />\n                          <span className=\"text-xs font-semibold text-slate-700\">\n                            {player.goals || 0} {player.goals === 1 ? \"Goal\" : \"Goals\"}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Footprints className=\"text-blue-500\" size={12} />\n                          <span className=\"text-xs font-semibold text-slate-700\">\n                            {player.assists || 0} {player.assists === 1 ? \"Assist\" : \"Assists\"}\n                          </span>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Users className=\"text-green-500\" size={12} />\n                          <span className=\"text-xs font-semibold text-slate-700\">\n                            {player.gamesPlayed || 0} {player.gamesPlayed === 1 ? \"Game\" : \"Games\"}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2 flex-shrink-0\">\n                    <TrendingUp className=\"text-amber-600\" size={20} />\n                    <span className=\"text-2xl font-bold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent\">\n                      {player.totalPoints}\n                    </span>\n                    <span className=\"text-sm text-slate-500 font-medium\">pts</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n            )}\n          </>\n          )}\n        </div>\n      </div>\n\n      {/* Add Points Modal */}\n      {showAddPointsModal && (\n        <div \n          className=\"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) {\n              setShowAddPointsModal(false);\n              setError(null);\n              setSelectedPlayer(\"\");\n              setPoints(\"\");\n              setReason(\"\");\n            }\n          }}\n        >\n          <div \n            className=\"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-amber-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Decorative background elements */}\n            <div className=\"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl\">\n              <div className=\"absolute -top-20 -right-20 w-40 h-40 bg-amber-200/40 rounded-full blur-3xl\"></div>\n              <div className=\"absolute -bottom-16 -left-16 w-36 h-36 bg-orange-200/40 rounded-full blur-3xl\"></div>\n            </div>\n            \n            <button\n              onClick={() => {\n                setShowAddPointsModal(false);\n                setError(null);\n                setSelectedPlayer(\"\");\n                setPoints(\"\");\n                setReason(\"\");\n              }}\n              className=\"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group\"\n              type=\"button\"\n              aria-label=\"Close modal\"\n            >\n              <X className=\"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors\" />\n            </button>\n\n            <div className=\"relative z-10\">\n              <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg\">\n                  <Plus className=\"w-6 h-6 text-white\" />\n                </div>\n                <h2 className=\"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent\">\n                  Add Points\n                </h2>\n              </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Player\n                </label>\n                <select\n                  value={selectedPlayer}\n                  onChange={(e) => {\n                    setSelectedPlayer(e.target.value);\n                    setError(null);\n                  }}\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  required\n                  disabled={isSubmitting}\n                >\n                  <option value=\"\">Select a player</option>\n                  {availablePlayers.map((player) => (\n                    <option key={player.id} value={player.id}>\n                      {player.name}\n                    </option>\n                  ))}\n                </select>\n                {!isAdmin && availablePlayers.length === 0 && (\n                  <p className=\"mt-2 text-xs text-slate-500 italic\">\n                    You cannot add points for yourself or players you registered.\n                  </p>\n                )}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Points\n                </label>\n                <input\n                  type=\"number\"\n                  value={points}\n                  onChange={(e) => {\n                    setPoints(e.target.value);\n                    setError(null);\n                  }}\n                  placeholder=\"Enter points\"\n                  min=\"1\"\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Reason / Performance Note\n                </label>\n                <textarea\n                  value={reason}\n                  onChange={(e) => {\n                    setReason(e.target.value);\n                    setError(null);\n                  }}\n                  placeholder=\"e.g., Great goal, Excellent defense, Man of the match performance...\"\n                  rows={4}\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 resize-none bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {error && (\n                <div className=\"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md\">\n                  {error}\n                </div>\n              )}\n\n              <button\n                onClick={handleAddPoints}\n                disabled={isSubmitting || !selectedPlayer || !points || !reason.trim()}\n                className=\"w-full flex items-center justify-center gap-2 px-5 py-3 text-base font-bold text-white bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <Plus size={20} /> {isSubmitting ? 'Adding...' : 'Add Points'}\n              </button>\n            </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Player Profile Modal */}\n      {selectedPlayerProfile && (\n        <PlayerProfileModal\n          player={selectedPlayerProfile.player}\n          playerStats={{\n            totalPoints: selectedPlayerProfile.stats.totalPoints,\n            motmAwards: selectedPlayerProfile.stats.motmAwards || 0,\n            goals: selectedPlayerProfile.stats.goals || 0,\n            assists: selectedPlayerProfile.stats.assists || 0,\n            gamesPlayed: selectedPlayerProfile.stats.gamesPlayed || 0,\n            pointsHistory: selectedPlayerProfile.stats.pointsHistory,\n          }}\n          db={db}\n          onClose={() => setSelectedPlayerProfile(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Leaderboard;\n\n","import React, { useState, useEffect } from \"react\";\nimport { Heart, Send, X } from \"lucide-react\";\nimport { collection, addDoc, query, orderBy, onSnapshot, Timestamp } from \"firebase/firestore\";\n\ndeclare const __app_id: string;\n\ninterface Kudos {\n  id: string;\n  fromUserId: string;\n  fromUserEmail: string;\n  toPlayerId: string;\n  toPlayerName: string;\n  message: string;\n  createdAt: Timestamp | any;\n}\n\ninterface KudosBoardProps {\n  db: any;\n  userId: string;\n  userEmail: string;\n  userRole: string;\n  players: any[];\n  isActive?: boolean;\n}\n\nconst KudosBoard: React.FC<KudosBoardProps> = ({ db, userId, userEmail, userRole, players, isActive = false }) => {\n  const [kudos, setKudos] = useState<Kudos[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [selectedPlayer, setSelectedPlayer] = useState<string>(\"\");\n  const [message, setMessage] = useState<string>(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const isAdmin = userRole === \"admin\";\n\n  // Filter players that the current user can give kudos to\n  const getAvailablePlayers = () => {\n    if (isAdmin) {\n      // Admins can give kudos to anyone\n      return players;\n    }\n    // Regular users cannot give kudos to themselves or players they registered\n    return players.filter(\n      (player) => player.userId !== userId && player.registeredBy !== userId\n    );\n  };\n\n  const availablePlayers = getAvailablePlayers();\n\n  useEffect(() => {\n    if (!db) return;\n\n    const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n    const kudosPath = `artifacts/${appId}/public/data/kudos`;\n    const kudosRef = collection(db, kudosPath);\n    const q = query(kudosRef, orderBy(\"createdAt\", \"desc\"));\n\n    const unsubscribe = onSnapshot(\n      q,\n      (snapshot) => {\n        const kudosData = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as Kudos[];\n        setKudos(kudosData);\n        setLoading(false);\n      },\n      (err) => {\n        console.error(\"Error fetching kudos:\", err);\n        setError(\"Failed to load kudos.\");\n        setLoading(false);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [db]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedPlayer || !message.trim() || !db) {\n      setError(\"Please select a player and enter a message.\");\n      return;\n    }\n\n    setError(null);\n    setIsSubmitting(true);\n\n    try {\n      const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n      const kudosPath = `artifacts/${appId}/public/data/kudos`;\n      const kudosRef = collection(db, kudosPath);\n\n      const player = players.find((p) => p.id === selectedPlayer);\n      if (!player) {\n        throw new Error(\"Player not found\");\n      }\n\n      await addDoc(kudosRef, {\n        fromUserId: userId,\n        fromUserEmail: userEmail,\n        toPlayerId: selectedPlayer,\n        toPlayerName: player.name,\n        message: message.trim(),\n        createdAt: Timestamp.now(),\n      });\n\n      // Create notification for the player who received kudos\n      if (player.userId) {\n        const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n        const notificationsPath = `artifacts/${appId}/public/data/userNotifications`;\n        const notificationsRef = collection(db, notificationsPath);\n        await addDoc(notificationsRef, {\n          userId: player.userId,\n          type: \"kudos\",\n          message: `${userEmail} gave you kudos!`,\n          fromUserEmail: userEmail,\n          relatedPlayerId: selectedPlayer,\n          relatedPlayerName: player.name,\n          createdAt: Timestamp.now(),\n          read: false,\n        });\n      }\n\n      setSelectedPlayer(\"\");\n      setMessage(\"\");\n      setShowAddModal(false);\n      setError(null);\n    } catch (err: any) {\n      console.error(\"Error submitting kudos:\", err);\n      setError(\"Failed to submit kudos. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getFormattedDate = (timestamp: Timestamp | any) => {\n    if (timestamp?.toDate) {\n      return timestamp.toDate().toLocaleString();\n    }\n    if (timestamp?.seconds) {\n      return new Date(timestamp.seconds * 1000).toLocaleString();\n    }\n    return \"N/A\";\n  };\n\n  return (\n    <div className={`relative overflow-hidden backdrop-blur-xl p-4 sm:p-6 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] ${\n      isActive \n        ? \"bg-gradient-to-br from-pink-50/95 via-rose-50/95 to-pink-50/95 border-l-2 border-r-2 border-b-2 border-pink-500/70\" \n        : \"bg-white/90 border border-white/70 border-t-0\"\n    }`}>\n      <div className=\"pointer-events-none absolute inset-0 opacity-60\">\n        <div className=\"absolute -top-16 -right-10 w-48 h-48 bg-pink-200/50 blur-[90px]\" />\n        <div className=\"absolute bottom-0 left-0 w-40 h-40 bg-rose-200/50 blur-[80px]\" />\n      </div>\n      <div className=\"relative z-10\">\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-6\">\n          <div>\n            <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-pink-600 via-rose-600 to-red-600 bg-clip-text text-transparent pb-2 flex items-center gap-2\">\n              <Heart className=\"text-pink-600\" size={24} />\n              Kudos Board\n            </h2>\n            <p className=\"text-xs sm:text-sm font-medium text-slate-600 mt-2\">\n              {availablePlayers.length > 0\n                ? \"Show appreciation and give kudos to your teammates for their great plays and sportsmanship!\"\n                : \"Show appreciation and give kudos to your teammates for their great plays and sportsmanship! (You cannot give kudos to yourself or players you registered.)\"}\n            </p>\n          </div>\n          {availablePlayers.length > 0 && (\n            <button\n              onClick={() => setShowAddModal(true)}\n              className=\"bg-gradient-to-r from-pink-500 to-rose-600 text-white font-semibold py-2.5 px-4 sm:px-6 rounded-2xl hover:from-pink-600 hover:to-rose-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 w-full sm:w-auto\"\n            >\n              <Heart className=\"w-4 h-4\" />\n              <span>Give Kudos</span>\n            </button>\n          )}\n        </div>\n\n        {error && (\n          <div className=\"mb-4 p-3 bg-red-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold\">\n            {error}\n          </div>\n        )}\n\n        {loading ? (\n          <div className=\"text-center p-8\">\n            <p className=\"text-slate-600 font-medium\">Loading kudos...</p>\n          </div>\n        ) : kudos.length === 0 ? (\n          <div className=\"text-center p-8 bg-gradient-to-br from-slate-100 to-pink-50 rounded-2xl border-2 border-dashed border-pink-200\">\n            <Heart className=\"mx-auto text-pink-400 mb-3\" size={48} />\n            <p className=\"text-slate-600 font-medium\">No kudos yet. Be the first to show appreciation!</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar\">\n            {kudos.map((kudo) => (\n              <div\n                key={kudo.id}\n                className=\"p-4 sm:p-5 rounded-2xl border-2 shadow-md bg-gradient-to-br from-pink-50 to-rose-50 border-pink-200\"\n              >\n                <div className=\"flex items-start gap-3 mb-2\">\n                  <div className=\"p-2 bg-gradient-to-br from-pink-500 to-rose-600 rounded-xl shadow-md flex-shrink-0\">\n                    <Heart className=\"text-white\" size={20} />\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-semibold text-slate-700 mb-1\">\n                      <span className=\"text-pink-700\">{kudo.fromUserEmail}</span> gave kudos to{\" \"}\n                      <span className=\"font-bold text-pink-800\">{kudo.toPlayerName}</span>\n                    </p>\n                    <p className=\"text-sm text-slate-800 font-medium whitespace-pre-wrap break-words\">\n                      {kudo.message}\n                    </p>\n                    <p className=\"text-xs text-slate-500 mt-2\">\n                      {getFormattedDate(kudo.createdAt)}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Add Kudos Modal */}\n      {showAddModal && (\n        <div \n          className=\"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) {\n              setShowAddModal(false);\n              setError(null);\n              setSelectedPlayer(\"\");\n              setMessage(\"\");\n            }\n          }}\n        >\n          <div \n            className=\"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-pink-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Decorative background elements */}\n            <div className=\"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl\">\n              <div className=\"absolute -top-20 -right-20 w-40 h-40 bg-pink-200/40 rounded-full blur-3xl\"></div>\n              <div className=\"absolute -bottom-16 -left-16 w-36 h-36 bg-rose-200/40 rounded-full blur-3xl\"></div>\n            </div>\n            \n            <button\n              onClick={() => {\n                setShowAddModal(false);\n                setError(null);\n                setSelectedPlayer(\"\");\n                setMessage(\"\");\n              }}\n              className=\"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group\"\n              type=\"button\"\n              aria-label=\"Close modal\"\n            >\n              <X className=\"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors\" />\n            </button>\n\n            <div className=\"relative z-10\">\n              <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg\">\n                  <Heart className=\"w-6 h-6 text-white\" />\n                </div>\n                <h2 className=\"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent\">\n                  Give Kudos\n                </h2>\n              </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Player\n                </label>\n                <select\n                  value={selectedPlayer}\n                  onChange={(e) => {\n                    setSelectedPlayer(e.target.value);\n                    setError(null);\n                  }}\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-pink-500/50 focus:border-pink-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  required\n                  disabled={isSubmitting}\n                >\n                  <option value=\"\">Select a player</option>\n                  {availablePlayers.map((player) => (\n                    <option key={player.id} value={player.id}>\n                      {player.name}\n                    </option>\n                  ))}\n                </select>\n                {!isAdmin && availablePlayers.length === 0 && (\n                  <p className=\"mt-2 text-xs text-slate-500 italic\">\n                    You cannot give kudos to yourself or players you registered.\n                  </p>\n                )}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Your Message\n                </label>\n                <textarea\n                  value={message}\n                  onChange={(e) => {\n                    setMessage(e.target.value);\n                    setError(null);\n                  }}\n                  placeholder=\"e.g., Great goal today! Amazing teamwork in defense...\"\n                  rows={4}\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-pink-500/50 focus:border-pink-500 transition duration-150 resize-none bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  required\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {error && (\n                <div className=\"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md\">\n                  {error}\n                </div>\n              )}\n\n              <button\n                type=\"submit\"\n                className=\"w-full flex items-center justify-center gap-2 px-5 py-3 text-base font-bold text-white bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={isSubmitting}\n              >\n                <Send size={20} /> {isSubmitting ? 'Sending...' : 'Send Kudos'}\n              </button>\n            </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default KudosBoard;\n\n","import React, { useState, useEffect } from \"react\";\nimport { Star, Trophy, Calendar, CheckCircle, X } from \"lucide-react\";\nimport { collection, addDoc, query, orderBy, onSnapshot, Timestamp, doc } from \"firebase/firestore\";\nimport { calculateNextGame, GameSchedule } from \"../../utils/gameSchedule\";\nimport { getTodayGameDateString } from \"../../utils/gamePoints\";\n\ndeclare const __app_id: string;\n\ninterface MOTMNomination {\n  id: string;\n  gameDate: string; // Date string for the game\n  nominatedPlayerId: string;\n  nominatedPlayerName: string;\n  nominatedBy: string;\n  nominatedByEmail: string;\n  reason?: string;\n  createdAt: Timestamp | any;\n}\n\ninterface ManOfTheMatchProps {\n  db: any;\n  userId: string;\n  userEmail: string;\n  userRole: string;\n  players: any[];\n  isActive?: boolean;\n}\n\nconst ManOfTheMatch: React.FC<ManOfTheMatchProps> = ({ db, userId, userEmail, userRole, players, isActive = false }) => {\n  const [nominations, setNominations] = useState<MOTMNomination[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showNominateModal, setShowNominateModal] = useState(false);\n  const [selectedPlayer, setSelectedPlayer] = useState<string>(\"\");\n  const [reason, setReason] = useState<string>(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [gameSchedule, setGameSchedule] = useState<GameSchedule | null>(null);\n  const [nextGame, setNextGame] = useState<{ date: Date; formatted: string } | null>(null);\n  const [currentWeekNominations, setCurrentWeekNominations] = useState<MOTMNomination[]>([]);\n  const [hasNominated, setHasNominated] = useState(false);\n\n  const isAdmin = userRole === \"admin\";\n\n  // Filter players that the current user can nominate\n  const getAvailablePlayers = () => {\n    if (isAdmin) {\n      // Admins can nominate anyone\n      return players;\n    }\n    // Regular users cannot nominate themselves or players they registered\n    return players.filter(\n      (player) => player.userId !== userId && player.registeredBy !== userId\n    );\n  };\n\n  const availablePlayers = getAvailablePlayers();\n\n  useEffect(() => {\n    if (!db) return;\n\n    // Fetch game schedule\n    const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n    const schedulePath = `artifacts/${appId}/public/data/gameSchedule/config`;\n    const scheduleRef = doc(db, schedulePath);\n\n    const unsubscribeSchedule = onSnapshot(\n      scheduleRef,\n      (snapshot) => {\n        if (snapshot.exists()) {\n          const data = snapshot.data() as GameSchedule;\n          setGameSchedule(data);\n          const next = calculateNextGame(data);\n          setNextGame(next);\n        } else {\n          setGameSchedule(null);\n          setNextGame(null);\n        }\n      },\n      (err) => {\n        console.error(\"Error fetching game schedule:\", err);\n      }\n    );\n\n    // Fetch nominations\n    const motmPath = `artifacts/${appId}/public/data/manOfTheMatch`;\n    const motmRef = collection(db, motmPath);\n    const q = query(motmRef, orderBy(\"createdAt\", \"desc\"));\n\n    const unsubscribeMotm = onSnapshot(\n      q,\n      (snapshot) => {\n        const nominationsData = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as MOTMNomination[];\n        setNominations(nominationsData);\n        setLoading(false);\n      },\n      (err) => {\n        console.error(\"Error fetching MOTM nominations:\", err);\n        setError(\"Failed to load nominations.\");\n        setLoading(false);\n      }\n    );\n\n    return () => {\n      unsubscribeSchedule();\n      unsubscribeMotm();\n    };\n  }, [db]);\n\n  // Check if today was a game day\n  const todayGameDate = gameSchedule ? getTodayGameDateString(gameSchedule.schedule) : null;\n  const canNominateToday = todayGameDate !== null;\n\n  // Check current week nominations and if user has already nominated\n  useEffect(() => {\n    // Use today's game date if available, otherwise use next game\n    const gameDateStr = todayGameDate || (nextGame ? nextGame.date.toDateString() : null);\n    \n    if (!gameDateStr || nominations.length === 0) {\n      setCurrentWeekNominations([]);\n      setHasNominated(false);\n      return;\n    }\n\n    const weekNominations = nominations.filter((nom) => nom.gameDate === gameDateStr);\n    setCurrentWeekNominations(weekNominations);\n    setHasNominated(weekNominations.some((nom) => nom.nominatedBy === userId));\n  }, [nextGame, nominations, userId, todayGameDate]);\n\n  const handleNominate = async () => {\n    if (!selectedPlayer) {\n      setError(\"Please select a player.\");\n      return;\n    }\n\n    // Must be after a game day (today's game has passed)\n    if (!canNominateToday) {\n      setError(\"You can only nominate Man of the Match after a game day.\");\n      return;\n    }\n\n    if (hasNominated) {\n      setError(\"You have already nominated a player for today's game.\");\n      return;\n    }\n\n    setError(null);\n    setIsSubmitting(true);\n\n    try {\n      const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n      const motmPath = `artifacts/${appId}/public/data/manOfTheMatch`;\n      const motmRef = collection(db, motmPath);\n\n      const player = players.find((p) => p.id === selectedPlayer);\n      if (!player) {\n        throw new Error(\"Player not found\");\n      }\n\n      const gameDateStr = todayGameDate || new Date().toDateString();\n\n      await addDoc(motmRef, {\n        gameDate: gameDateStr,\n        nominatedPlayerId: selectedPlayer,\n        nominatedPlayerName: player.name,\n        nominatedBy: userId,\n        nominatedByEmail: userEmail,\n        reason: reason.trim() || undefined,\n        createdAt: Timestamp.now(),\n      });\n\n      // Create notification for the player who was nominated\n      if (player.userId) {\n        const appId = typeof __app_id !== \"undefined\" ? __app_id : \"default-app-id\";\n        const notificationsPath = `artifacts/${appId}/public/data/userNotifications`;\n        const notificationsRef = collection(db, notificationsPath);\n        await addDoc(notificationsRef, {\n          userId: player.userId,\n          type: \"motm\",\n          message: `${userEmail} nominated you for Man of the Match!`,\n          fromUserEmail: userEmail,\n          relatedPlayerId: selectedPlayer,\n          relatedPlayerName: player.name,\n          createdAt: Timestamp.now(),\n          read: false,\n        });\n      }\n\n      setSuccess(\"Nomination submitted successfully!\");\n      setSelectedPlayer(\"\");\n      setReason(\"\");\n      setShowNominateModal(false);\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err: any) {\n      console.error(\"Error submitting nomination:\", err);\n      setError(`Failed to submit nomination: ${err.message}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const getFormattedDate = (timestamp: Timestamp | any) => {\n    if (timestamp?.toDate) {\n      return timestamp.toDate().toLocaleString();\n    }\n    if (timestamp?.seconds) {\n      return new Date(timestamp.seconds * 1000).toLocaleString();\n    }\n    return \"N/A\";\n  };\n\n  // Count votes for each player in current week\n  const getVoteCounts = () => {\n    const counts: { [playerId: string]: { name: string; count: number } } = {};\n    currentWeekNominations.forEach((nom) => {\n      if (!counts[nom.nominatedPlayerId]) {\n        counts[nom.nominatedPlayerId] = {\n          name: nom.nominatedPlayerName,\n          count: 0,\n        };\n      }\n      counts[nom.nominatedPlayerId].count++;\n    });\n    return Object.values(counts).sort((a, b) => b.count - a.count);\n  };\n\n  const voteCounts = getVoteCounts();\n\n  return (\n    <div className={`relative overflow-hidden backdrop-blur-xl p-4 sm:p-6 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] ${\n      isActive \n        ? \"bg-gradient-to-br from-yellow-50/95 via-amber-50/95 to-yellow-50/95 border-l-2 border-r-2 border-b-2 border-yellow-500/70\" \n        : \"bg-white/90 border border-white/70 border-t-0\"\n    }`}>\n      <div className=\"pointer-events-none absolute inset-0 opacity-60\">\n        <div className=\"absolute -top-16 -right-10 w-48 h-48 bg-yellow-200/50 blur-[90px]\" />\n        <div className=\"absolute bottom-0 left-0 w-40 h-40 bg-amber-200/50 blur-[80px]\" />\n      </div>\n      <div className=\"relative z-10\">\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0 mb-6\">\n          <div>\n            <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-yellow-600 via-amber-600 to-orange-600 bg-clip-text text-transparent pb-2 flex items-center gap-2\">\n              <Star className=\"text-yellow-600\" size={24} />\n              Man of the Match\n            </h2>\n            <p className=\"text-xs sm:text-sm font-medium text-slate-600 mt-2\">\n              {canNominateToday\n                ? \"Nominate the best performer from today's game.\"\n                : availablePlayers.length > 0\n                ? \"Nominate the best performer after a game day.\"\n                : \"Nominate the best performer after a game day. (You cannot nominate yourself or players you registered.)\"}\n            </p>\n          </div>\n          {canNominateToday && !hasNominated && availablePlayers.length > 0 && (\n            <button\n              onClick={() => setShowNominateModal(true)}\n              className=\"bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold py-2.5 px-4 sm:px-6 rounded-2xl hover:from-yellow-600 hover:to-amber-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 w-full sm:w-auto\"\n            >\n              <Star className=\"w-4 h-4\" />\n              <span>Nominate</span>\n            </button>\n          )}\n          {!canNominateToday && (\n            <div className=\"text-xs sm:text-sm text-slate-500 italic\">\n              Available after game day\n            </div>\n          )}\n        </div>\n\n        {canNominateToday && (\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-yellow-100 to-amber-100 border-2 border-yellow-300 rounded-2xl\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <Calendar className=\"text-yellow-600\" size={18} />\n              <p className=\"text-sm font-semibold text-yellow-800\">\n                Today's Game\n              </p>\n            </div>\n            {hasNominated && (\n              <p className=\"text-xs text-yellow-700 flex items-center gap-1\">\n                <CheckCircle className=\"w-3 h-3\" />\n                You have already nominated a player for today's game.\n              </p>\n            )}\n          </div>\n        )}\n\n        {error && (\n          <div className=\"mb-4 p-3 bg-red-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold\">\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div className=\"mb-4 p-3 bg-emerald-50 border-2 border-emerald-300 text-emerald-700 rounded-xl text-sm font-semibold flex items-center gap-2\">\n            <CheckCircle className=\"w-4 h-4\" />\n            {success}\n          </div>\n        )}\n\n        {!canNominateToday && !nextGame && (\n          <div className=\"text-center p-8 bg-gradient-to-br from-slate-100 to-yellow-50 rounded-2xl border-2 border-dashed border-yellow-200\">\n            <Calendar className=\"mx-auto text-yellow-400 mb-3\" size={48} />\n            <p className=\"text-slate-600 font-medium\">No game today. Nomination is available after a game day.</p>\n          </div>\n        )}\n\n        {nextGame && voteCounts.length > 0 && (\n          <div className=\"mb-6\">\n            <h3 className=\"text-lg font-bold text-slate-800 mb-3 flex items-center gap-2\">\n              <Trophy className=\"text-yellow-600\" size={20} />\n              Current Week Votes\n            </h3>\n            <div className=\"space-y-2\">\n              {voteCounts.map((vote, index) => (\n                <div\n                  key={vote.name}\n                  className={`p-3 rounded-xl border-2 ${\n                    index === 0\n                      ? \"bg-gradient-to-r from-yellow-100 to-amber-100 border-yellow-300\"\n                      : \"bg-white border-slate-200\"\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      {index === 0 && <Star className=\"text-yellow-600\" size={18} />}\n                      <span className=\"font-semibold text-slate-800\">{vote.name}</span>\n                    </div>\n                    <span className=\"text-sm font-bold text-slate-600\">{vote.count} {vote.count === 1 ? \"vote\" : \"votes\"}</span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {loading ? (\n          <div className=\"text-center p-8\">\n            <p className=\"text-slate-600 font-medium\">Loading nominations...</p>\n          </div>\n        ) : nominations.length === 0 ? (\n          <div className=\"text-center p-8 bg-gradient-to-br from-slate-100 to-yellow-50 rounded-2xl border-2 border-dashed border-yellow-200\">\n            <Star className=\"mx-auto text-yellow-400 mb-3\" size={48} />\n            <p className=\"text-slate-600 font-medium\">No nominations yet.</p>\n          </div>\n        ) : (\n          <div>\n            <h3 className=\"text-lg font-bold text-slate-800 mb-3\">Recent Nominations</h3>\n            <div className=\"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar\">\n              {nominations.slice(0, 10).map((nom) => (\n                <div\n                  key={nom.id}\n                  className=\"p-4 rounded-2xl border-2 shadow-md bg-gradient-to-br from-white to-yellow-50 border-yellow-200\"\n                >\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"p-2 bg-gradient-to-br from-yellow-500 to-amber-600 rounded-xl shadow-md flex-shrink-0\">\n                      <Star className=\"text-white\" size={18} />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-semibold text-slate-700 mb-1\">\n                        <span className=\"font-bold text-yellow-800\">{nom.nominatedPlayerName}</span> nominated by{\" \"}\n                        <span className=\"text-slate-600\">{nom.nominatedByEmail}</span>\n                      </p>\n                      {nom.reason && (\n                        <p className=\"text-sm text-slate-700 mb-2 whitespace-pre-wrap break-words\">\n                          {nom.reason}\n                        </p>\n                      )}\n                      <p className=\"text-xs text-slate-500\">\n                        Game: {nom.gameDate}  {getFormattedDate(nom.createdAt)}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Nominate Modal */}\n      {showNominateModal && nextGame && (\n        <div \n          className=\"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200\"\n          onClick={(e) => {\n            if (e.target === e.currentTarget) {\n              setShowNominateModal(false);\n              setError(null);\n              setSelectedPlayer(\"\");\n              setReason(\"\");\n            }\n          }}\n        >\n          <div \n            className=\"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-yellow-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            {/* Decorative background elements */}\n            <div className=\"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl\">\n              <div className=\"absolute -top-20 -right-20 w-40 h-40 bg-yellow-200/40 rounded-full blur-3xl\"></div>\n              <div className=\"absolute -bottom-16 -left-16 w-36 h-36 bg-amber-200/40 rounded-full blur-3xl\"></div>\n            </div>\n            \n            <button\n              onClick={() => {\n                setShowNominateModal(false);\n                setError(null);\n                setSelectedPlayer(\"\");\n                setReason(\"\");\n              }}\n              className=\"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group\"\n              type=\"button\"\n              aria-label=\"Close modal\"\n            >\n              <X className=\"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors\" />\n            </button>\n\n            <div className=\"relative z-10\">\n              <div className=\"flex items-center gap-3 mb-6\">\n                <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-amber-600 flex items-center justify-center shadow-lg\">\n                  <Star className=\"w-6 h-6 text-white\" />\n                </div>\n                <h2 className=\"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent\">\n                  Nominate Man of the Match\n                </h2>\n              </div>\n\n              <div className=\"mb-6 p-4 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-200/60 rounded-xl shadow-sm\">\n                <p className=\"text-sm font-semibold text-yellow-800 mb-1\">Game:</p>\n                <p className=\"text-sm text-yellow-700 font-medium\">{nextGame.formatted}</p>\n              </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Player\n                </label>\n                <select\n                  value={selectedPlayer}\n                  onChange={(e) => {\n                    setSelectedPlayer(e.target.value);\n                    setError(null);\n                  }}\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:border-yellow-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  required\n                  disabled={isSubmitting}\n                >\n                  <option value=\"\">Select a player</option>\n                  {availablePlayers.map((player) => (\n                    <option key={player.id} value={player.id}>\n                      {player.name}\n                    </option>\n                  ))}\n                </select>\n                {!isAdmin && availablePlayers.length === 0 && (\n                  <p className=\"mt-2 text-xs text-slate-500 italic\">\n                    You cannot nominate yourself or players you registered.\n                  </p>\n                )}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Reason (Optional)\n                </label>\n                <textarea\n                  value={reason}\n                  onChange={(e) => {\n                    setReason(e.target.value);\n                    setError(null);\n                  }}\n                  placeholder=\"Why did this player deserve Man of the Match?\"\n                  rows={4}\n                  className=\"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:border-yellow-500 transition duration-150 resize-none bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md\"\n                  disabled={isSubmitting}\n                />\n              </div>\n\n              {error && (\n                <div className=\"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md\">\n                  {error}\n                </div>\n              )}\n\n              <button\n                onClick={handleNominate}\n                disabled={isSubmitting || !selectedPlayer}\n                className=\"w-full flex items-center justify-center gap-2 px-5 py-3 text-base font-bold text-white bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <Star size={20} /> {isSubmitting ? 'Submitting...' : 'Submit Nomination'}\n              </button>\n            </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ManOfTheMatch;\n\n","import React, { useState } from \"react\";\nimport { Trophy, Heart, Star, BarChart3 } from \"lucide-react\";\nimport Leaderboard from \"../leaderboard/Leaderboard\";\nimport KudosBoard from \"../kudos/KudosBoard\";\nimport ManOfTheMatch from \"../motm/ManOfTheMatch\";\nimport { PlayerAvailability } from \"../../types/player\";\n\ninterface StatisticsDashboardProps {\n  db: any;\n  userId: string;\n  userEmail: string;\n  userRole: string;\n  players: PlayerAvailability[];\n  isActive?: boolean;\n}\n\ntype StatisticsTab = \"leaderboard\" | \"kudos\" | \"motm\";\n\nconst StatisticsDashboard: React.FC<StatisticsDashboardProps> = ({\n  db,\n  userId,\n  userEmail,\n  userRole,\n  players,\n  isActive = false,\n}) => {\n  const [activeTab, setActiveTab] = useState<StatisticsTab>(\"leaderboard\");\n\n  const tabs: { id: StatisticsTab; label: string; icon: React.ReactNode; description: string }[] = [\n    {\n      id: \"leaderboard\",\n      label: \"Leaderboard\",\n      icon: <Trophy className=\"w-5 h-5\" />,\n      description: \"Player rankings & stats\",\n    },\n    {\n      id: \"kudos\",\n      label: \"Kudos Board\",\n      icon: <Heart className=\"w-5 h-5\" />,\n      description: \"Show appreciation\",\n    },\n    {\n      id: \"motm\",\n      label: \"Man of the Match\",\n      icon: <Star className=\"w-5 h-5\" />,\n      description: \"Vote for MOTM\",\n    },\n  ];\n\n  return (\n    <div className={`relative overflow-hidden backdrop-blur-xl rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] ${\n      isActive\n        ? \"bg-gradient-to-br from-amber-50/95 via-yellow-50/95 to-amber-50/95 border-l-2 border-r-2 border-b-2 border-amber-500/70\"\n        : \"bg-white/90 border border-white/70 border-t-0\"\n    }`}>\n      {/* Decorative background */}\n      <div className=\"pointer-events-none absolute inset-0 opacity-60\">\n        <div className=\"absolute -top-16 -right-10 w-48 h-48 bg-amber-200/50 blur-[90px]\" />\n        <div className=\"absolute bottom-0 left-0 w-40 h-40 bg-yellow-200/50 blur-[80px]\" />\n      </div>\n\n      <div className=\"relative z-10 p-4 sm:p-6\">\n        {/* Header */}\n        <div className=\"mb-6\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl shadow-lg\">\n              <BarChart3 className=\"text-white\" size={28} />\n            </div>\n            <div>\n              <h2 className=\"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-amber-600 via-yellow-600 to-orange-600 bg-clip-text text-transparent\">\n                Statistics\n              </h2>\n              <p className=\"text-xs sm:text-sm font-medium text-slate-600 mt-1\">\n                View rankings and celebrate achievements\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Tab Navigation */}\n        <div className=\"mb-6\">\n          <div className=\"flex flex-wrap gap-2 sm:gap-2 p-2.5 sm:p-3 bg-gradient-to-b from-white/90 via-white/85 to-white/90 backdrop-blur-xl rounded-2xl shadow-[0_8px_24px_rgba(15,23,42,0.1),0_0_0_1px_rgba(255,255,255,0.5)_inset] border-2 border-amber-200/40 relative\">\n            {/* Decorative gradient line at top */}\n            <div className=\"absolute top-0 left-0 right-0 h-[2px] bg-gradient-to-r from-amber-400/40 via-orange-400/50 to-amber-400/40 rounded-t-2xl\"></div>\n            {tabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`group relative flex-1 min-w-[140px] sm:flex-initial flex flex-col sm:flex-row items-center justify-center gap-2 px-5 py-3 rounded-xl font-semibold text-sm transition-all duration-300 overflow-hidden ${\n                  activeTab === tab.id\n                    ? \"bg-gradient-to-br from-amber-500 via-orange-500 to-amber-600 text-white shadow-[0_6px_20px_rgba(245,158,11,0.35),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-amber-400/50\"\n                    : \"bg-white/60 text-slate-700 hover:bg-gradient-to-br hover:from-amber-50/80 hover:via-orange-50/80 hover:to-amber-50/80 hover:text-amber-800 hover:shadow-lg hover:ring-1 hover:ring-amber-200/50 border border-transparent hover:border-amber-100/50\"\n                }`}\n              >\n                {activeTab === tab.id && (\n                  <>\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 via-white/10 to-transparent\"></div>\n                    <div className=\"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-white/30 to-transparent\"></div>\n                  </>\n                )}\n                <span className={`relative transition-all duration-300 ${activeTab === tab.id ? \"text-white scale-110 drop-shadow-sm\" : \"text-amber-600 group-hover:scale-110\"}`}>\n                  {tab.icon}\n                </span>\n                <div className=\"flex flex-col items-center sm:items-start relative\">\n                  <span className=\"font-semibold\">{tab.label}</span>\n                  <span className={`text-xs ${activeTab === tab.id ? \"text-amber-100/90\" : \"text-slate-500\"} hidden sm:block`}>\n                    {tab.description}\n                  </span>\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Decorative connection line between tabs and content */}\n        <div className=\"h-[1px] bg-gradient-to-r from-transparent via-amber-300/30 to-transparent mb-4\"></div>\n\n        {/* Tab Content */}\n        <div className=\"min-h-[600px] relative\">\n          {activeTab === \"leaderboard\" && (\n            <div className=\"animate-in fade-in duration-300\">\n              <Leaderboard\n                db={db}\n                userId={userId}\n                userEmail={userEmail}\n                userRole={userRole}\n                players={players}\n                isActive={isActive}\n              />\n            </div>\n          )}\n\n          {activeTab === \"kudos\" && (\n            <div className=\"animate-in fade-in duration-300\">\n              <KudosBoard\n                db={db}\n                userId={userId}\n                userEmail={userEmail}\n                userRole={userRole}\n                players={players}\n                isActive={isActive}\n              />\n            </div>\n          )}\n\n          {activeTab === \"motm\" && (\n            <div className=\"animate-in fade-in duration-300\">\n              <ManOfTheMatch\n                db={db}\n                userId={userId}\n                userEmail={userEmail}\n                userRole={userRole}\n                players={players}\n                isActive={isActive}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatisticsDashboard;\n\n"],"names":["CircleCheckBig","createLucideIcon","d","key","Target","cx","cy","r","TrendingUp","Footprints","ChartColumn","Calendar","width","height","x","y","rx","getFormattedDate","timestamp","date","toDate","seconds","Date","timestampToDate","toLocaleString","getTimestampMs","toMillis","sortByTimestamp","items","sort","a","b","aTime","createdAt","getTodayGame","schedule","Object","keys","length","now","scheduleMap","today","getDay","hours","minutes","split","map","Number","todayGameTime","setHours","formatted","formatGameDateTime","dayOfWeek","calculateNextGame","_nextGameDay","nextGameDate","nextGameDay","minDaysUntil","Infinity","i","checkDay","gameDate","setDate","getDate","sortedDays","earliestDay","daysUntil","undefined","tomorrow","isToday","toDateString","isTomorrow","monthNames","dateStr","dayName","month","getMonth","day","concat","timeStr","toLocaleTimeString","hour","minute","hour12","_ref","player","playerStats","db","onClose","motmAwards","setMotmAwards","useState","attendanceRate","setAttendanceRate","useEffect","pointsHistory","gamesPlayed","gameDates","Set","forEach","entry","reason","matchDate","add","totalGames","rate","Math","round","async","awardsPath","FirestorePaths","awardsRef","collection","q","query","where","id","snapshot","getDocs","sortedAwards","docs","docSnap","data","voteCount","awardedAt","err","console","error","fetchMOTMAwards","goalsPerGame","useMemo","goals","toFixed","assistsPerGame","assists","sortedPointsHistory","addedAt","_jsx","className","onClick","e","target","currentTarget","children","_jsxs","stopPropagation","type","X","name","position","skillLevel","Trophy","size","totalPoints","Star","Users","Award","award","index","slice","points","addedBy","standings","isLoading","standing","teamName","played","won","drawn","lost","calculateGoalDifference","gameResults","goalsFor","goalsAgainst","result","team1Name","team1Score","team2Score","team2Name","userId","userEmail","userRole","players","isActive","playerPoints","setPlayerPoints","loading","setLoading","showAddPointsModal","setShowAddPointsModal","selectedPlayer","setSelectedPlayer","setPoints","setReason","isSubmitting","setIsSubmitting","setError","success","setSuccess","gameSchedule","setGameSchedule","selectedPlayerProfile","setSelectedPlayerProfile","setGameResults","leagueStandings","setLeagueStandings","loadingLeagueTable","setLoadingLeagueTable","searchQuery","setSearchQuery","filterPosition","setFilterPosition","filterMinPoints","setFilterMinPoints","filterMaxPoints","setFilterMaxPoints","sortBy","setSortBy","showFilters","setShowFilters","isAdmin","availablePlayers","filter","registeredBy","appId","__app_id","schedulePath","scheduleRef","doc","unsubscribe","onSnapshot","exists","gameResultsPath","gameResultsRef","results","_objectSpread","standingsMap","Map","has","set","team1Standing","get","team2Standing","Array","from","values","aGoalDiff","bGoalDiff","localeCompare","calculateStandings","processPointsData","useCallback","playersList","pointsData","playerId","automatic","playerName","pointsPath","pointsRef","processedPoints","playerPointsWithFullData","pp","fullPlayer","find","p","debouncedSearchQuery","useDebounce","filteredAndSortedPlayers","filtered","trim","toLowerCase","includes","minPoints","parseInt","maxPoints","activeFiltersCount","count","clearFilters","LeagueTable","Plus","_Fragment","Search","placeholder","value","onChange","XCircle","Filter","POSITIONS","pos","POSITION_LABELS","min","rank","stats","title","jerseyNumber","required","disabled","rows","isTodayGameDayPassed","pointsNum","isNaN","Error","existingPointsPath","existingPointsRef","existingDoc","getDoc","existingPoints","existingHistory","newTotal","newHistoryEntry","Timestamp","setDoc","merge","setTimeout","message","PlayerProfileModal","kudos","setKudos","showAddModal","setShowAddModal","setMessage","kudosPath","kudosRef","orderBy","kudosData","Heart","kudo","fromUserEmail","toPlayerName","onSubmit","preventDefault","addDoc","fromUserId","toPlayerId","notificationsPath","notificationsRef","relatedPlayerId","relatedPlayerName","read","Send","nominations","setNominations","showNominateModal","setShowNominateModal","nextGame","setNextGame","currentWeekNominations","setCurrentWeekNominations","hasNominated","setHasNominated","unsubscribeSchedule","next","motmPath","motmRef","unsubscribeMotm","nominationsData","todayGameDate","getTodayGameDateString","canNominateToday","gameDateStr","weekNominations","nom","some","nominatedBy","voteCounts","getVoteCounts","counts","nominatedPlayerId","nominatedPlayerName","CheckCircle","vote","nominatedByEmail","activeTab","setActiveTab","tabs","label","icon","description","BarChart3","tab","Leaderboard","KudosBoard","ManOfTheMatch"],"ignoreList":[],"sourceRoot":""}