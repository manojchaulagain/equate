/*! For license information please see main.a49436f3.js.LICENSE.txt */
(()=>{"use strict";var e={369:(e,t,n)=>{function r(e,t){const n=new Date(e);n.setHours(0,0,0,0);const r=new Date(n);r.setDate(n.getDate()+1);const i=new Date(t);i.setHours(0,0,0,0);const a=i.getTime()===n.getTime(),s=i.getTime()===r.getTime();return a||s}n.d(t,{de:()=>r})},579:(e,t,n)=>{e.exports=n(5180)},614:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1130:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},1150:(e,t,n)=>{n.d(t,{KO:()=>Z,MF:()=>$,Sx:()=>X,Wp:()=>J,j6:()=>K,om:()=>H,xZ:()=>W});var r=n(2555),i=n(9606),a=n(2965),s=n(1776),o=n(2799);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.14.6",d=new a.Vy("@firebase/app"),h="@firebase/app-compat",f="@firebase/analytics-compat",p="@firebase/analytics",m="@firebase/app-check-compat",g="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",w="@firebase/data-connect",x="@firebase/database-compat",k="@firebase/functions",_="@firebase/functions-compat",S="@firebase/installations",E="@firebase/installations-compat",N="@firebase/messaging",T="@firebase/messaging-compat",C="@firebase/performance",I="@firebase/performance-compat",A="@firebase/remote-config",P="@firebase/remote-config-compat",j="@firebase/storage",D="@firebase/storage-compat",R="@firebase/firestore",O="@firebase/ai",L="@firebase/firestore-compat",M="firebase",F="[DEFAULT]",z={[c]:"fire-core",[h]:"fire-core-compat",[p]:"fire-analytics",[f]:"fire-analytics-compat",[g]:"fire-app-check",[m]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[w]:"fire-data-connect",[x]:"fire-rtdb-compat",[k]:"fire-fn",[_]:"fire-fn-compat",[S]:"fire-iid",[E]:"fire-iid-compat",[N]:"fire-fcm",[T]:"fire-fcm-compat",[C]:"fire-perf",[I]:"fire-perf-compat",[A]:"fire-rc",[P]:"fire-rc-compat",[j]:"fire-gcs",[D]:"fire-gcs-compat",[R]:"fire-fst",[L]:"fire-fst-compat",[O]:"fire-vertex","fire-js":"fire-js",[M]:"fire-js-all"},U=new Map,V=new Map,B=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){d.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function H(e){const t=e.name;if(B.has(t))return d.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);for(const n of U.values())q(n,e);for(const n of V.values())q(n,e);return!0}function K(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function W(e){return null!==e&&void 0!==e&&void 0!==e.settings}const G={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Q=new s.FA("app","Firebase",G);class Y{constructor(e,t,n){this._isDeleted=!1,this._options=(0,r.A)({},e),this._config=(0,r.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}}const $="12.6.0";function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const a=(0,r.A)({name:F,automaticDataCollectionEnabled:!0},t),o=a.name;if("string"!==typeof o||!o)throw Q.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw Q.create("no-options");const l=U.get(o);if(l){if((0,s.bD)(n,l.options)&&(0,s.bD)(a,l.config))return l;throw Q.create("duplicate-app",{appName:o})}const c=new i.h1(o);for(const r of B.values())c.addComponent(r);const u=new Y(n,a,c);return U.set(o,u),u}function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;const t=U.get(e);if(!t&&e===F&&(0,s.T9)())return J();if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r;let a=null!==(r=z[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));const s=a.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void d.warn(e.join(" "))}H(new i.uA("".concat(a,"-version"),()=>({library:a,version:t}),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=(0,o.P2)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch(e=>{throw Q.create("idb-open",{originalErrorMessage:e.message})})),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,ie(e)),await n.done}catch(n){if(n instanceof s.g)d.warn(n.message);else{const e=Q.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});d.warn(e.message)}}}function ie(e){return"".concat(e.name,"!").concat(e.options.appId)}class ae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=se();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){d.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return d.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(ie(e));return await t.done,n}catch(t){if(t instanceof s.g)d.warn(t.message);else{const e=Q.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});d.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="",H(new i.uA("platform-logger",e=>new l(e),"PRIVATE")),H(new i.uA("heartbeat",e=>new ae(e),"PRIVATE")),Z(c,u,ce),Z(c,u,"esm2020"),Z("fire-js","")},1360:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1776:(e,t,n)=>{n.d(t,{cY:()=>m,FA:()=>O,g:()=>R,dM:()=>D,u:()=>l,Uj:()=>o,p9:()=>$,Fy:()=>y,tD:()=>q,bD:()=>F,hp:()=>B,T9:()=>f,Tj:()=>d,yU:()=>h,XA:()=>p,mS:()=>c,Ku:()=>J,ZQ:()=>k,sr:()=>N,zJ:()=>g,c1:()=>E,Im:()=>M,lT:()=>C,zW:()=>P,jZ:()=>_,lV:()=>T,nr:()=>I,Ov:()=>A,gE:()=>v,Am:()=>U,I9:()=>V,P1:()=>x,eX:()=>j});var r=n(2555);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=i(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const u=()=>{try{return c().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/equate",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APP_ID:"1:203717528050:web:b44ab600e2255cdea3836b",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"203717528050",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-FL3HFEJYNE",REACT_APP_FIREBASE_API_KEY:"AIzaSyASFx_hSsJ2Rq9qdJuaND7fsRy-Vlsc34c",REACT_APP_FIREBASE_AUTH_DOMAIN:"team-balancer-f196a.firebaseapp.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"team-balancer-f196a.firebasestorage.app",REACT_APP_FIREBASE_PROJECT_ID:"team-balancer-f196a"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t;return null===(t=u())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},h=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},f=()=>{var e;return null===(e=u())||void 0===e?void 0:e.config},p=e=>{var t;return null===(t=u())||void 0===t?void 0:t["_".concat(e)]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function v(e){return(await fetch(e,{credentials:"include"})).ok}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=(0,r.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}const b={};let w=!1;function x(e,t){if("undefined"===typeof window||"undefined"===typeof document||!g(window.location.host)||b[e]===t||b[e]||w)return;function n(e){return"__firebase__banner__".concat(e)}b[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(b))b[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{w=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function k(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function S(){var e;const t=null===(e=u())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function E(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function N(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function C(){const e=k();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){return!S()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function P(){try{return"object"===typeof indexedDB}catch(e){return!1}}function j(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function D(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class R extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(L,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,a,t)}}const L=/\{\$([^}]+)}/g;function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(z(n)&&z(a)){if(!F(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z(e){return null!==e&&"object"===typeof e}function U(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function V(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function B(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){const n=new H(e,t);return n.subscribe.bind(n)}class H{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=K),void 0===r.error&&(r.error=K),void 0===r.complete&&(r.complete=K);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K(){}const W=1e3,G=2,Q=144e5,Y=.5;function $(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:W)*Math.pow(t,e),r=Math.round(Y*n*(Math.random()-.5)*2);return Math.min(Q,n+r)}function J(e){return e&&e._delegate?e._delegate:e}},2489:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function a(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},2574:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},2580:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},2759:(e,t,n)=>{n.d(t,{HJ:()=>s,kO:()=>a,kR:()=>r});const r=["blue","red","emerald","purple","orange","teal","amber","slate","pink"],i={blue:{label:"Blue",cardBg:"bg-gradient-to-br from-blue-50 via-cyan-50 to-indigo-50",cardBorder:"border-blue-400",headingText:"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",countText:"text-blue-600",badgeBg:"bg-blue-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-blue-100/80 to-cyan-100/80",listBorder:"border-blue-200"},red:{label:"Red",cardBg:"bg-gradient-to-br from-red-50 via-rose-50 to-pink-50",cardBorder:"border-red-400",headingText:"bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-red-600 to-rose-600 bg-clip-text text-transparent",countText:"text-red-600",badgeBg:"bg-red-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-red-100/80 to-rose-100/80",listBorder:"border-red-200"},emerald:{label:"Emerald",cardBg:"bg-gradient-to-br from-emerald-50 via-teal-50 to-green-50",cardBorder:"border-emerald-400",headingText:"bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",countText:"text-emerald-600",badgeBg:"bg-emerald-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-emerald-100/80 to-teal-100/80",listBorder:"border-emerald-200"},purple:{label:"Purple",cardBg:"bg-gradient-to-br from-purple-50 via-fuchsia-50 to-pink-50",cardBorder:"border-purple-400",headingText:"bg-gradient-to-r from-purple-600 to-fuchsia-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-purple-600 to-fuchsia-600 bg-clip-text text-transparent",countText:"text-purple-600",badgeBg:"bg-purple-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-purple-100/80 to-pink-100/80",listBorder:"border-purple-200"},orange:{label:"Orange",cardBg:"bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",cardBorder:"border-orange-400",headingText:"bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-orange-600 to-amber-600 bg-clip-text text-transparent",countText:"text-orange-600",badgeBg:"bg-orange-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-orange-100/80 to-amber-100/80",listBorder:"border-orange-200"},teal:{label:"Teal",cardBg:"bg-gradient-to-br from-cyan-50 via-teal-50 to-slate-50",cardBorder:"border-teal-400",headingText:"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",countText:"text-teal-600",badgeBg:"bg-teal-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-teal-100/80 to-cyan-100/80",listBorder:"border-teal-200"},amber:{label:"Amber",cardBg:"bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50",cardBorder:"border-amber-400",headingText:"bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",countText:"text-amber-600",badgeBg:"bg-amber-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-amber-100/80 to-yellow-100/80",listBorder:"border-amber-200"},slate:{label:"Slate",cardBg:"bg-gradient-to-br from-slate-50 via-gray-50 to-stone-50",cardBorder:"border-slate-400",headingText:"bg-gradient-to-r from-slate-600 to-gray-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-slate-600 to-gray-600 bg-clip-text text-transparent",countText:"text-slate-600",badgeBg:"bg-slate-600",badgeText:"text-white",listBg:"bg-gradient-to-r from-slate-100/80 to-gray-100/80",listBorder:"border-slate-200"},pink:{label:"Pink",cardBg:"bg-gradient-to-br from-pink-50 via-rose-50 to-fuchsia-50",cardBorder:"border-pink-400",headingText:"bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",statText:"bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent",countText:"text-pink-600",badgeBg:"bg-pink-500",badgeText:"text-white",listBg:"bg-gradient-to-r from-pink-100/80 to-rose-100/80",listBorder:"border-pink-200"}},a=function(){var e;return null!==(e=i[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"blue"])&&void 0!==e?e:i.blue},s=function(){return a(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"blue").label}},2799:(e,t,n)=>{n.d(t,{P2:()=>v});var r=n(2555);const i=(e,t)=>t.some(t=>e instanceof t);let a,s;const o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return l.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return m(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(g(this),n),m(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(e.apply(g(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(g(this),t,...r);return c.set(a,t.sort?t.sort():[t]),m(a)}}function p(e){return"function"===typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(l.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});l.set(e,t)}(e),i(e,a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function m(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(m(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),d.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=p(e);return t!==e&&(u.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function v(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=m(s);return r&&s.addEventListener("upgradeneeded",e=>{r(m(s.result),e.oldVersion,e.newVersion,m(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const y=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function x(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return w.set(t,a),a}h=(e=>(0,r.A)((0,r.A)({},e),{},{get:(t,n,r)=>x(t,n)||e.get(t,n,r),has:(t,n)=>!!x(t,n)||e.has(t,n)}))(h)},2965:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const a={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class c{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},3107:(e,t,n)=>{n.d(t,{E5:()=>a,Wp:()=>o,X2:()=>u,bb:()=>l,sq:()=>s,v:()=>c,zq:()=>d});var r=n(6667),i=n(369);async function a(e,t,n,i){if(e)try{const a="undefined"!==typeof __app_id?__app_id:"default-app-id",s="artifacts/".concat(a,"/public/data/playerPoints/").concat(t),o=(0,r.H9)(e,s),l=await(0,r.x7)(o);let c=0,u=[];if(l.exists()){const e=l.data();c=e.totalPoints||0,u=e.pointsHistory||[]}if(u.some(e=>"Played in game"===e.reason&&e.matchDate===i&&!0===e.automatic))return;const d=c+2,h={points:2,reason:"Played in game",addedBy:"System",addedAt:r.Dc.now(),matchDate:i,automatic:!0};await(0,r.BN)(o,{playerId:t,playerName:n,totalPoints:d,pointsHistory:[...u,h]},{merge:!1})}catch(a){throw console.error("Error awarding game attendance points:",a),a}}function s(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)}function o(e){if(!e)return!1;const t=new Date,n=e[t.getDay()];return!!n&&function(e,t){const n=new Date,[r,i]=t.split(":").map(Number),a=new Date(e);return a.setHours(r,i,0,0),n>a}(t,n)}function l(e){if(!e)return!1;const t=new Date,n=t.getDay(),r=new Date(t);r.setDate(r.getDate()-1);const a=r.getDay();if(e[n]){const[r,a]=e[n].split(":").map(Number),s=new Date(t);if(s.setHours(r,a,0,0),t>s&&(0,i.de)(s,t))return!0}if(e[a]){const[n,s]=e[a].split(":").map(Number),o=new Date(r);if(o.setHours(n,s,0,0),(0,i.de)(o,t))return!0}return!1}function c(e){if(!e)return null;const t=new Date,n=t.getDay(),r=new Date(t);r.setDate(r.getDate()-1);const a=r.getDay();if(e[n]){const[r,a]=e[n].split(":").map(Number),o=new Date(t);if(o.setHours(r,a,0,0),t>o&&(0,i.de)(o,t))return s(t)}if(e[a]){const[n,o]=e[a].split(":").map(Number),l=new Date(r);if(l.setHours(n,o,0,0),(0,i.de)(l,t))return s(r)}return null}function u(e){return o(e)?s(new Date):null}async function d(e,t){if(e)try{const n="undefined"!==typeof __app_id?__app_id:"default-app-id",i="artifacts/".concat(n,"/public/data/motmAwards"),a=(0,r.rJ)(e,i),s=(0,r.P)(a,(0,r._M)("gameDate","==",t));if(!(await(0,r.GG)(s)).empty)return;const o="artifacts/".concat(n,"/public/data/manOfTheMatch"),l=(0,r.rJ)(e,o),c=(0,r.P)(l,(0,r._M)("gameDate","==",t)),u=await(0,r.GG)(c);if(u.empty)return;const d={};u.docs.forEach(e=>{const t=e.data(),n=t.nominatedPlayerId;d[n]||(d[n]={name:t.nominatedPlayerName,count:0}),d[n].count++});const h=Math.max(...Object.values(d).map(e=>e.count)),f=Object.entries(d).filter(e=>{let[t,n]=e;return n.count===h});if(0===f.length)return;const[p,m]=f[0];await(0,r.gS)(a,{gameDate:t,playerId:p,playerName:m.name,voteCount:h,awardedAt:r.Dc.now()});const g="artifacts/".concat(n,"/public/data/playerPoints/").concat(p),v=(0,r.H9)(e,g),y=await(0,r.x7)(v);let b=0,w=[];if(y.exists()){const e=y.data();b=e.motmAwards||0,w=e.pointsHistory||[]}const x=b+1;await(0,r.BN)(v,{playerId:p,playerName:m.name,motmAwards:x,totalPoints:y.exists()&&y.data().totalPoints||0,pointsHistory:w},{merge:!0})}catch(n){throw console.error("Error processing MOTM awards:",n),n}}},3944:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},3986:(e,t,n)=>{function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},4288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function _(){}var S={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function N(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+I(e,0):a,k(s)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),A(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+u,s=N(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===a?".":a+":";if(k(e))for(var m=0;m<e.length;m++)u+=A(a=e[m],t,i,o=f+I(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=A(a=a.value,t,i,o=f+I(a,m++),s);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=R,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return N(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(_,D)}catch(a){D(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.0"},4391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4918:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},5043:(e,t,n)=>{e.exports=n(4288)},5180:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},5347:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},5746:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},5896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,S||(S=!0,_());else{var t=r(u);null!==t&&j(k,t.startTime-e)}}var _,S=!1,E=-1,N=5,T=-1;function C(){return!!v||!(t.unstable_now()-T<N)}function I(){if(v=!1,S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var a=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?_():S=!1}}}if("function"===typeof w)_=function(){w(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=I,_=function(){P.postMessage(null)}}else _=function(){y(I,0)};function j(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,j(k,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,S||(S=!0,_()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},6245:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6667:(e,t,n)=>{n.d(t,{Dc:()=>ye,gS:()=>dc,rJ:()=>tl,kd:()=>uc,CL:()=>mc,H9:()=>nl,x7:()=>ac,GG:()=>oc,aU:()=>ll,aQ:()=>hc,My:()=>Ql,P:()=>ql,BN:()=>lc,He:()=>C,mZ:()=>cc,_M:()=>Kl});var r,i,a=n(2555),s=n(1150),o=n(9606),l=n(2965),c=n(1776),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},d={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,s=e.g[3];a=t+(s^n&(i^s))+r[0]+3614090360&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[3]+3250441966&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[4]+4118548399&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[7]+4249261313&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[8]+1770035416&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[11]+2304563134&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[12]+1804603682&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[15]+1236535329&4294967295,a=t+(i^s&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[0]+3921069994&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[4]+3889429448&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[8]+1163531501&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^s)+r[5]+4294588738&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[11]+1839030562&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[1]+2763975236&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[7]+4139469664&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[13]+681279174&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[3]+3572445317&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[9]+3654602809&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[15]+530742520&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~s))+r[0]+4096336452&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[12]+1700485571&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[8]+1873313359&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[4]+4149444226&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function a(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,s=0;for(;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function o(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new a([0|e],e<0?-1:0)}):new a([0|e],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(e<0)return m(l(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new a(t,0)}var c=o(0),u=o(1),h=o(16777216);function f(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return-1==e.h}function m(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(u)}function g(e,t){return e.add(m(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(f(t))throw Error("division by zero");if(f(e))return new y(c,c);if(p(e))return t=b(m(e),t),new y(m(t.g),m(t.h));if(p(t))return t=b(e,m(t)),new y(m(t.g),t.h);if(e.g.length>30){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;r.l(e)<=0;)n=w(n),r=w(r);var i=x(n,1),a=x(r,1);for(r=x(r,2),n=x(n,2);!f(r);){var s=a.add(r);s.l(e)<=0&&(i=i.add(n),a=s),r=x(r,1),n=x(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),s=(a=l(n)).j(t);p(s)||s.l(e)>0;)s=(a=l(n-=r)).j(t);f(a)&&(a=u),i=i.add(a),e=g(e,s)}return new y(i,e)}function w(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function x(e,t){const n=t>>5;t%=32;const r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new a(i,e.h)}(e=a.prototype).m=function(){if(p(this))return-m(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(p(this))return"-"+m(this).toString(e);const t=l(Math.pow(e,6));var n=this;let r="";for(;;){const i=b(n,t).g;let a=(((n=g(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(f(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return p(e=g(this,e))?-1:f(e)?0:1},e.abs=function(){return p(this)?m(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new a(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(f(this)||f(e))return c;if(p(this))return p(e)?m(this).j(m(e)):m(m(this).j(e));if(p(e))return m(this.j(m(e)));if(this.l(h)<0&&e.l(h)<0)return l(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,a=65535&this.i(r),s=e.i(t)>>>16,o=65535&e.i(t);n[2*r+2*t]+=a*o,v(n,2*r+2*t),n[2*r+2*t+1]+=i*o,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*s,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*s,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new a(n,0)},e.B=function(e){return b(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,i=d.Md5=t,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return m(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=l(Math.pow(n,8));let i=c;for(let s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+a),n);a<8?(a=l(Math.pow(n,a)),i=i.j(a).add(l(e))):(i=i.j(r),i=i.add(l(e)))}return i},r=d.Integer=a}).apply("undefined"!==typeof u?u:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var h,f,p,m,g,v,y,b,w="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},x={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof w&&w];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function k(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function E(e){a.setTimeout(()=>{throw e},0)}function N(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C,e=>e.reset());class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,A=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=Promise.resolve(void 0);I=()=>{e.then(D)}};function D(){for(var e;e=N();){try{e.h.call(e.g)}catch(n){E(n)}var t=T;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}A=!1}function R(){this.u=this.u,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function M(e){return/^[\s\xa0]*$/.test(e)}function F(e,t){O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(F,O),F.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),U=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function H(e){const t={};for(const n in e)t[n]=e[n];return t}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<K.length;t++)n=K[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function G(e){this.src=e,this.g={},this.h=0}function Q(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Y(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}G.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const s=Y(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new V(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),J={};function X(e,t,n,r,i){if(r&&r.once)return ee(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)X(e,t[a],n,r,i);return null}return n=le(n),e&&e[z]?e.J(t,n,s(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const o=s(i)?!!i.capture:!!i;let l=se(e);if(l||(e[$]=l=new G(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ae;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ie(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ee(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)ee(e,t[a],n,r,i);return null}return n=le(n),e&&e[z]?e.K(t,n,s(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function te(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)te(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=le(n),e&&e[z]?(e=e.i,(a=String(t).toString())in e.g&&((n=Y(t=e.g[a],n,r,i))>-1&&(B(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=se(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Y(t,n,r,i)),(n=e>-1?t[e]:null)&&re(n))}function re(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[z])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ie(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=se(t))?(Q(n,e),0==n.h&&(n.src=null,t[$]=null)):B(e)}}}function ie(e){return e in J?J[e]:J[e]="on"+e}function ae(e,t){if(e.da)e=!0;else{t=new F(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&re(e),e=n.call(r,t)}return e}function se(e){return(e=e[$])instanceof G?e:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(e){return"function"===typeof e?e:(e[oe]||(e[oe]=function(t){return e.handleEvent(t)}),e[oe])}function ce(){R.call(this),this.i=new G(this),this.M=this,this.G=null}function ue(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;W(t=new O(r,e),i)}let a,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)a=t.g=n[s],i=de(a,r,!0,t)&&i;if(a=t.g=e,i=de(a,r,!0,t)&&i,i=de(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=de(a,r,!1,t)&&i}function de(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const s=t[a];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&Q(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function he(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,he(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(ce,R),ce.prototype[z]=!0,ce.prototype.removeEventListener=function(e,t,n,r){te(this,e,t,n,r)},ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)B(n[e]);delete e.g[t],e.h--}}this.G=null},ce.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ce.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class fe extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:he(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pe(e){R.call(this),this.h=e,this.g={}}u(pe,R);var me=[];function ge(e){q(e.g,function(e,t){this.g.hasOwnProperty(t)&&re(e)},e),e.g={}}pe.prototype.N=function(){pe.Z.N.call(this),ge(this)},pe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=a.JSON.stringify,ye=a.JSON.parse,be=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function we(){}function xe(){}var ke={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _e(){O.call(this,"d")}function Se(){O.call(this,"c")}u(_e,O),u(Se,O);var Ee={},Ne=null;function Te(){return Ne=Ne||new ce}function Ce(e){O.call(this,Ee.Ia,e)}function Ie(e){const t=Te();ue(t,new Ce(t))}function Ae(e,t){O.call(this,Ee.STAT_EVENT,e),this.stat=t}function Pe(e){const t=Te();ue(t,new Ae(t,e))}function je(e,t){O.call(this,Ee.Ja,e),this.size=t}function De(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Re(){this.g=!0}function Oe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ve(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ee.Ia="serverreachability",u(Ce,O),Ee.STAT_EVENT="statevent",u(Ae,O),Ee.Ja="timingevent",u(je,O),Re.prototype.ua=function(){this.g=!1},Re.prototype.info=function(){};var Le,Me={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function ze(){}function Ue(e){return encodeURIComponent(String(e))}function Ve(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Be(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new pe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qe}function qe(){this.i=null,this.g="",this.h=!1}u(ze,we),ze.prototype.g=function(){return new XMLHttpRequest},Le=new ze;var He={},Ke={};function We(e,t,n){e.M=1,e.A=vt(ht(t)),e.u=n,e.R=!0,Ge(e,null)}function Ge(e,t){e.F=Date.now(),$e(e),e.B=ht(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Pt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new qe,e.g=yn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new fe(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(me[0]=i.toString()),i=me);for(let a=0;a<i.length;a++){const e=X(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?H(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),Ie(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var s="",o=a.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Qe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Ye(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ke:(n=Number(t.substring(n,r)),isNaN(n)?He:(r+=1)+n>t.length?Ke:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.T=Date.now()+e.H,Je(e,e.H)}function Je(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=De(l(e.aa,e),t)}function Xe(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function Ze(e){0==e.j.I||e.K||fn(e.j,e)}function et(e){Xe(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ge(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function tt(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||st(n.h,e)))if(!e.L&&st(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;hn(n),tn(n)}cn(n),Pe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=De(l(n.Va,n),6e3));at(n.h)<=1&&n.ta&&(n.ta=void 0)}else mn(n,11)}else if((e.L||n.g==e)&&hn(n),!M(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(ot(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,gt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=vn(r,r.L?r.ba:null,r.W),s.L){lt(r.h,s);var o=s,c=r.O;c&&(o.H=c),o.D&&(Xe(o),$e(o)),r.g=s}else ln(r);n.i.length>0&&rn(n)}else"stop"!=l[0]&&"close"!=l[0]||mn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mn(n,7):en(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}Ie()}catch(u){}}Be.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==$t(e)?t.j():this.Y(e)},Be.prototype.Y=function(e){try{if(e==this.g)e:{const l=$t(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||4!=l||7==c||Ie(),Xe(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Qe(e))return e.g.la();const t=Jt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==$t(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return et(e),Ze(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,Pe(12),et(this),Ze(this);break e}Oe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Ye(this,n),t==Ke){4==l&&(this.m=4,Pe(14),e=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(t==He){this.m=4,Pe(15),Oe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Oe(this.i,this.l,t,null),tt(this,t)}if(Qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,Pe(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),un(o),o.P=!0,Pe(11))}}else Oe(this.i,this.l,n,"[Invalid Chunked Response]"),et(this),Ze(this)}else Oe(this.i,this.l,n,null),tt(this,n);4==l&&et(this),this.o&&!this.K&&(4==l?fn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&$t(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(M(e[r]))continue;var n=Ve(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,Pe(12)):(this.m=0,Pe(13)),et(this),Ze(this)}}}catch(ne){}},Be.prototype.cancel=function(){this.K=!0,et(this)},Be.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(Ie(),Pe(17)),et(this),this.m=2,Ze(this)):Je(this,this.T-e)};var nt=class{constructor(e,t){this.g=e,this.map=t}};function rt(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function it(e){return!!e.h||!!e.g&&e.g.size>=e.j}function at(e){return e.h?1:e.g?e.g.size:0}function st(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ot(e,t){e.g?e.g.add(t):e.h=t}function lt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ct(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return k(e.i)}rt.prototype.cancel=function(){if(this.i=ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dt(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof dt?(this.l=e.l,ft(this,e.j),this.o=e.o,this.g=e.g,pt(this,e.u),this.h=e.h,mt(this,jt(e.i)),this.m=e.m):e&&(t=String(e).match(ut))?(this.l=!1,ft(this,t[1]||"",!0),this.o=yt(t[2]||""),this.g=yt(t[3]||"",!0),pt(this,t[4]),this.h=yt(t[5]||"",!0),mt(this,t[6]||"",!0),this.m=yt(t[7]||"")):(this.l=!1,this.i=new Nt(null,this.l))}function ht(e){return new dt(e)}function ft(e,t,n){e.j=n?yt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function mt(e,t,n){t instanceof Nt?(e.i=t,function(e,t){t&&!e.j&&(Tt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(Ct(this,t),Pt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=bt(t,St)),e.i=new Nt(t,e.l))}function gt(e,t,n){e.i.set(t,n)}function vt(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}dt.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(bt(t,xt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(bt(t,xt,!0),"@"),e.push(Ue(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(bt(n,"/"==n.charAt(0)?_t:kt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",bt(n,Et)),e.join("")},dt.prototype.resolve=function(e){const t=ht(this);let n=!!e.j;n?ft(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)pt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?mt(t,jt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var xt=/[#\/\?@]/g,kt=/[#\?:]/g,_t=/[#\?]/g,St=/[#\?@]/g,Et=/#/g;function Nt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ct(e,t){Tt(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function It(e,t){return Tt(e),t=Dt(e,t),e.g.has(t)}function At(e,t){Tt(e);let n=[];if("string"===typeof t)It(e,t)&&(n=n.concat(e.g.get(Dt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function Pt(e,t,n){Ct(e,t),n.length>0&&(e.i=null,e.g.set(Dt(e,t),k(n)),e.h+=n.length)}function jt(e){const t=new Nt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Rt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ot(){this.g=new be}function Lt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Mt(e,t){ce.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ft(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function zt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ut(e)}function Ut(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Vt(e){let t="";return q(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Bt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Vt(n),"string"===typeof e?null!=n&&Ue(n):gt(e,t,n))}function qt(e){ce.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=Nt.prototype).add=function(e,t){Tt(this),this.i=null,e=Dt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Tt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return Tt(this),this.i=null,It(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=At(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ue(n);n=At(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ue(n[t])),e.push(r)}}return this.i=e.join("&")},u(Lt,we),Lt.prototype.g=function(){return new Mt(this.i,this.h)},u(Mt,ce),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ut(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,zt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ut(this)),this.g&&(this.readyState=3,Ut(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ft(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zt(this):Ut(this),3==this.readyState&&Ft(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,zt(this))},e.Na=function(e){this.g&&(this.response=e,zt(this))},e.ga=function(){this.g&&zt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(qt,ce);var Ht=/^https?$/i,Kt=["POST","PUT"];function Wt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Gt(e),Yt(e)}function Gt(e){e.A||(e.A=!0,ue(e,"complete"),ue(e,"error"))}function Qt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==$t(e))setTimeout(e.Ca.bind(e),0);else if(ue(e,"readystatechange"),4==$t(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(ut)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Ht.test(t?t.toLowerCase():"")}n=r}if(n)ue(e,"complete"),ue(e,"success");else{e.o=6;try{var s=$t(e)>2?e.g.statusText:""}catch(o){s=""}e.l=s+" ["+e.ca()+"]",Gt(e)}}finally{Yt(e)}}}function Yt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||ue(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function $t(e){return e.g?e.g.readyState:0}function Jt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Xt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zt(e){this.za=0,this.i=[],this.j=new Re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xt("baseRetryDelayMs",5e3,e),this.Za=Xt("retryDelaySeedMs",1e4,e),this.Ta=Xt("forwardChannelMaxRetries",2,e),this.va=Xt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new rt(e&&e.concurrentRequestLimit),this.Ba=new Ot,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function en(e){if(nn(e),3==e.I){var t=e.V++,n=ht(e.J);if(gt(n,"SID",e.M),gt(n,"RID",t),gt(n,"TYPE","terminate"),sn(e,n),(t=new Be(e,e.j,t)).M=2,t.A=vt(ht(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=yn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),$e(t)}gn(e)}function tn(e){e.g&&(un(e),e.g.cancel(),e.g=null)}function nn(e){tn(e),e.v&&(a.clearTimeout(e.v),e.v=null),hn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function rn(e){if(!it(e.h)&&!e.m){e.m=!0;var t=e.Ea;I||j(),A||(I(),A=!0),P.add(t,e),e.D=0}}function an(e,t){var n;n=t?t.l:e.V++;const r=ht(e.J);gt(r,"SID",e.M),gt(r,"RID",n),gt(r,"AID",e.K),sn(e,r),e.u&&e.o&&Bt(r,e.u,e.o),n=new Be(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=on(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),ot(e.h,n),We(n,r,t)}function sn(e,t){e.H&&q(e.H,function(e,n){gt(t,n,e)}),e.l&&q({},function(e,n){gt(t,n,e)})}function on(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;s(n)&&(r=ve(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(_){throw e.push(a+"type="+encodeURIComponent("_badmap")),_}}catch(_){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function ln(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;I||j(),A||(I(),A=!0),P.add(t,e),e.A=0}}function cn(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=De(l(e.Da,e),pn(e,e.A)),e.A++,!0)}function un(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function dn(e){e.g=new Be(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=ht(e.na);gt(t,"RID","rpc"),gt(t,"SID",e.M),gt(t,"AID",e.K),gt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&gt(t,"TO",e.ia),gt(t,"TYPE","xmlhttp"),sn(e,t),e.u&&e.o&&Bt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=vt(ht(t)),n.u=null,n.R=!0,Ge(n,e)}function hn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function fn(e,t){var n=null;if(e.g==t){hn(e),un(e),e.g=null;var r=2}else{if(!st(e.h,t))return;n=t.G,lt(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;ue(r=Te(),new je(r,n)),rn(e)}else ln(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(at(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=De(l(e.Ea,e,t),pn(e,e.D)),e.D++,!0))}(e,t)||2==r&&cn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:mn(e,5);break;case 4:mn(e,10);break;case 3:mn(e,6);break;default:mn(e,2)}}function pn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function mn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new dt(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ft(r,"https"),vt(r),t?function(e,t){const n=new Re;if(a.Image){const r=new Image;r.onload=c(Rt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Rt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Rt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Rt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Re;const n=new AbortController,r=setTimeout(()=>{n.abort(),Rt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Rt(0,0,!0,t):Rt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Rt(0,0,!1,t)})}(r.toString(),n)}else Pe(2);e.I=0,e.l&&e.l.pa(t),gn(e),nn(e)}function gn(e){if(e.I=0,e.ja=[],e.l){const t=ct(e.h);0==t.length&&0==e.i.length||(S(e.ja,t),S(e.ja,e.i),e.h.i.length=0,k(e.i),e.i.length=0),e.l.oa()}}function vn(e,t,n){var r=n instanceof dt?ht(n):new dt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),pt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new dt(null);r&&ft(e,r),t&&(e.g=t),i&&pt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&gt(r,n,t),gt(r,"VER",e.ka),sn(e,r),r}function yn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new qt(new Lt({ab:n})):new qt(e.ma)).Fa(e.L),t}function bn(){}function wn(){}function xn(e,t){ce.call(this),this.g=new Zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!M(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!M(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sn(this)}function kn(e){_e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){Se.call(this),this.status=1}function Sn(e){this.g=e}(e=qt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Le.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Wt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Kt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Wt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ue(this,"complete"),ue(this,"abort"),Yt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),qt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Qt(this):this.Xa())},e.Xa=function(){Qt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return $t(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ye(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){Pe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=vn(this,null,this.W),rn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Be(this,this.j,e);let a=this.o;if(this.U&&(a?(a=H(a),W(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=on(this,i,t),gt(n=ht(this.J),"RID",e),gt(n,"CVER",22),this.G&&gt(n,"X-HTTP-Session-Id",this.G),sn(this,n),a&&(this.R?t="headers="+Ue(Vt(a))+"&"+t:this.u&&Bt(n,this.u,a)),ot(this.h,i),this.Ra&&gt(n,"TYPE","init"),this.S?(gt(n,"$req",t),gt(n,"SID","null"),i.U=!0,We(i,n,null)):We(i,n,t),this.I=2}}else 3==this.I&&(e?an(this,e):0==this.i.length||it(this.h)||an(this))},e.Da=function(){if(this.v=null,dn(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=De(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pe(10),tn(this),dn(this))},e.Va=function(){null!=this.C&&(this.C=null,tn(this),cn(this),Pe(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=bn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},wn.prototype.g=function(e,t){return new xn(e,t)},u(xn,ce),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){en(this.g)},xn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ve(e),e=n);t.i.push(new nt(t.Ya++,e)),3==t.I&&rn(t)},xn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,xn.Z.N.call(this)},u(kn,_e),u(_n,Se),u(Sn,bn),Sn.prototype.ra=function(){ue(this.g,"a")},Sn.prototype.qa=function(e){ue(this.g,new kn(e))},Sn.prototype.pa=function(e){ue(this.g,new _n)},Sn.prototype.oa=function(){ue(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,b=x.createWebChannelTransport=function(){return new wn},y=x.getStatEventTarget=function(){return Te()},v=x.Event=Ee,g=x.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,m=x.ErrorCode=Me,Fe.COMPLETE="complete",p=x.EventType=Fe,xe.EventType=ke,ke.OPEN="a",ke.CLOSE="b",ke.ERROR="c",ke.MESSAGE="d",ce.prototype.listen=ce.prototype.J,f=x.WebChannel=xe,x.FetchXmlHttpFactory=Lt,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,h=x.XhrIo=qt}).apply("undefined"!==typeof w?w:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const k="@firebase/firestore",_="4.9.2";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let E="12.3.0";const N=new l.Vy("@firebase/firestore");function T(){return N.logLevel}function C(e){N.setLogLevel(e)}function I(e){if(N.logLevel<=l.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);N.debug("Firestore (".concat(E,"): ").concat(e),...i)}}function A(e){if(N.logLevel<=l.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);N.error("Firestore (".concat(E,"): ").concat(e),...i)}}function P(e){if(N.logLevel<=l.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(j);N.warn("Firestore (".concat(E,"): ").concat(e),...i)}}function j(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function D(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,R(e,r,n)}function R(e,t,n){let r="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw A(r),new Error(r)}function O(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||R(t,i,r)}function L(e,t){return e}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends c.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class U{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(S.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class q{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){O(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new z;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new z,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new z)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(O("string"==typeof t.accessToken,31837,{l:t}),new U(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return O(null===e||"string"==typeof e,2055,{h:e}),new S(e)}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=S.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new H(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(S.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){O(void 0===this.o,3512);const n=e=>{null!=e.error&&I("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,I("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new W(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(O("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new W(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Y{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Q(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function $(e,t){return e<t?-1:e>t?1:0}function J(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return ee(n)===ee(i)?$(n,i):ee(n)?1:-1}return $(e.length,t.length)}const X=55296,Z=57343;function ee(e){const t=e.charCodeAt(0);return t>=X&&t<=Z}function te(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const ne="__name__";class re{constructor(e,t,n){void 0===t?t=0:t>e.length&&D(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&D(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===re.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof re?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=re.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return $(e.length,t.length)}static compareSegments(e,t){const n=re.isNumericId(e),r=re.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?re.extractNumericId(e).compare(re.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class ie extends re{construct(e,t,n){return new ie(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ie(e)}static emptyPath(){return new ie([])}}const ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends re{construct(e,t,n){return new se(e,t,n)}static isValidIdentifier(e){return ae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ne}static keyField(){return new se([ne])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new F(M.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new se(t)}static emptyPath(){return new se([])}}class oe{constructor(e){this.path=e}static fromPath(e){return new oe(ie.fromString(e))}static fromName(e){return new oe(ie.fromString(e).popFirst(5))}static empty(){return new oe(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new ie(e.slice()))}}function le(e,t,n){if(!n)throw new F(M.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ce(e){if(!oe.isDocumentKey(e))throw new F(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ue(e){if(oe.isDocumentKey(e))throw new F(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function de(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function he(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":D(12329,{type:typeof e})}function fe(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=he(e);throw new F(M.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function me(e,t){if(!de(e))throw new F(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&s!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new F(M.INVALID_ARGUMENT,n);return!0}const ge=-62135596800,ve=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ve);return new ye(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ge)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ve}_compareTo(e){return this.seconds===e.seconds?$(this.nanoseconds,e.nanoseconds):$(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(me(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ge;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:pe("string",ye._jsonSchemaVersion),seconds:pe("number"),nanoseconds:pe("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new ye(0,0))}static max(){return new be(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const we=-1;class xe{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}xe.UNKNOWN_ID=-1;function ke(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=be.fromTimestamp(1e9===r?new ye(n+1,0):new ye(n,r));return new Se(i,oe.empty(),t)}function _e(e){return new Se(e.readTime,e.key,we)}class Se{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Se(be.min(),oe.empty(),we)}static max(){return new Se(be.max(),oe.empty(),we)}}function Ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=oe.comparator(e.documentKey,t.documentKey),0!==n?n:$(e.largestBatchId,t.largestBatchId))}const Ne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ce(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==Ne)throw e;I("LocalStore","Unexpectedly lost primary lease")}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&D(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(e){return Ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,n)=>{t(e)})}static reject(e){return new Ie((t,n)=>{n(e)})}static waitFor(e){return new Ie((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Ie.resolve(!1);for(const n of e)t=t.next(e=>e?Ie.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ie((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Ie((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ae(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pe(e){return"IndexedDbTransactionError"===e.name}class je{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}je.ce=-1;const De=-1;function Re(e){return null==e}function Oe(e){return 0===e&&1/e==-1/0}function Le(e){return"number"==typeof e&&Number.isInteger(e)&&!Oe(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Me="\x01";function Fe(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ue(t)),t=ze(e.get(n),t);return Ue(t)}function ze(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Me:n+="\x01\x11";break;default:n+=t}}return n}function Ue(e){return e+Me+"\x01"}const Ve="remoteDocuments",Be="owner",qe="mutationQueues",He="mutations";const Ke="documentMutations",We="remoteDocumentsV14",Ge="remoteDocumentGlobal",Qe="targets",Ye="targetDocuments",$e="targetGlobal",Je="collectionParents",Xe="clientMetadata",Ze="bundles",et="namedQueries",tt="indexConfiguration",nt="indexState",rt="indexEntries",it="documentOverlays",at="globals",st=[qe,He,Ke,Ve,Qe,Be,$e,Ye,Xe,Ge,Je,Ze,et],ot=[qe,He,Ke,We,Qe,Be,$e,Ye,Xe,Ge,Je,Ze,et,it],lt=ot,ct=[...lt,tt,nt,rt];function ut(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ht(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ft{constructor(e,t){this.comparator=e,this.root=t||mt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pt(this.root,e,this.comparator,!1)}getReverseIterator(){return new pt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pt(this.root,e,this.comparator,!0)}}class pt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:mt.RED,this.left=null!=r?r:mt.EMPTY,this.right=null!=i?i:mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new mt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return mt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw D(43730,{key:this.key,value:this.value});if(this.right.isRed())throw D(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw D(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1,mt.EMPTY=new class{constructor(){this.size=0}get key(){throw D(57766)}get value(){throw D(16141)}get color(){throw D(16727)}get left(){throw D(29726)}get right(){throw D(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vt(this.data.getIterator())}getIteratorFrom(e){return new vt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof gt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gt(this.comparator);return t.data=e,t}}class vt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yt{constructor(e){this.fields=e,e.sort(se.comparator)}static empty(){return new yt([])}unionWith(e){let t=new gt(se.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new yt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return te(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class bt extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bt("Invalid base64 string: "+e):e}}(e);return new wt(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const xt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kt(e){if(O(!!e,39018),"string"==typeof e){let t=0;const n=xt.exec(e);if(O(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_t(e.seconds),nanos:_t(e.nanos)}}function _t(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function St(e){return"string"==typeof e?wt.fromBase64String(e):wt.fromUint8Array(e)}const Et="server_timestamp",Nt="__type__",Tt="__previous_value__",Ct="__local_write_time__";function It(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Nt])||void 0===t?void 0:t.stringValue)===Et}function At(e){const t=e.mapValue.fields[Tt];return It(t)?At(t):t}function Pt(e){const t=kt(e.mapValue.fields[Ct].timestampValue);return new ye(t.seconds,t.nanos)}class jt{constructor(e,t,n,r,i,a,s,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Dt="(default)";class Rt{constructor(e,t){this.projectId=e,this.database=t||Dt}static empty(){return new Rt("","")}get isDefaultDatabase(){return this.database===Dt}isEqual(e){return e instanceof Rt&&e.projectId===this.projectId&&e.database===this.database}}const Ot="__type__",Lt="__max__",Mt={mapValue:{fields:{__type__:{stringValue:Lt}}}},Ft="__vector__",zt="value";function Ut(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?It(e)?4:rn(e)?9007199254740991:tn(e)?10:11:D(28295,{value:e})}function Vt(e,t){if(e===t)return!0;const n=Ut(e);if(n!==Ut(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pt(e).isEqual(Pt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=kt(e.timestampValue),r=kt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return St(e.bytesValue).isEqual(St(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _t(e.geoPointValue.latitude)===_t(t.geoPointValue.latitude)&&_t(e.geoPointValue.longitude)===_t(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _t(e.integerValue)===_t(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=_t(e.doubleValue),r=_t(t.doubleValue);return n===r?Oe(n)===Oe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return te(e.arrayValue.values||[],t.arrayValue.values||[],Vt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ut(n)!==ut(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Vt(n[i],r[i])))return!1;return!0}(e,t);default:return D(52216,{left:e})}}function Bt(e,t){return void 0!==(e.values||[]).find(e=>Vt(e,t))}function qt(e,t){if(e===t)return 0;const n=Ut(e),r=Ut(t);if(n!==r)return $(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=_t(e.integerValue||e.doubleValue),r=_t(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ht(e.timestampValue,t.timestampValue);case 4:return Ht(Pt(e),Pt(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){const n=St(e),r=St(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$(n[i],r[i]);if(0!==e)return e}return $(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$(_t(e.latitude),_t(t.latitude));return 0!==n?n:$(_t(e.longitude),_t(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Kt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[zt])||void 0===n?void 0:n.arrayValue,c=null===(r=o[zt])||void 0===r?void 0:r.arrayValue,u=$((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Kt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Mt.mapValue&&t===Mt.mapValue)return 0;if(e===Mt.mapValue)return 1;if(t===Mt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=J(r[s],a[s]);if(0!==e)return e;const t=qt(n[r[s]],i[a[s]]);if(0!==t)return t}return $(r.length,a.length)}(e.mapValue,t.mapValue);default:throw D(23264,{he:n})}}function Ht(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $(e,t);const n=kt(e),r=kt(t),i=$(n.seconds,r.seconds);return 0!==i?i:$(n.nanos,r.nanos)}function Kt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=qt(n[i],r[i]);if(e)return e}return $(n.length,r.length)}function Wt(e){return Gt(e)}function Gt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=kt(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return St(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return oe.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Gt(e.fields[i]));return n+"}"}(e.mapValue):D(61005,{value:e})}function Qt(e){switch(Ut(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=At(e);return t?16+Qt(t):16;case 5:return 2*e.stringValue.length;case 6:return St(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Qt(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return dt(e.fields,(e,n)=>{t+=e.length+Qt(n)}),t}(e.mapValue);default:throw D(13486,{value:e})}}function Yt(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function $t(e){return!!e&&"integerValue"in e}function Jt(e){return!!e&&"arrayValue"in e}function Xt(e){return!!e&&"nullValue"in e}function Zt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function en(e){return!!e&&"mapValue"in e}function tn(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ot])||void 0===t?void 0:t.stringValue)===Ft}function nn(e){if(e.geoPointValue)return{geoPointValue:(0,a.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,a.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return dt(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nn(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nn(e.arrayValue.values[n]);return t}return(0,a.A)({},e)}function rn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Lt}class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!en(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nn(t)}setAll(e){let t=se.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nn(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());en(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];en(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){dt(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new an(nn(this.value))}}function sn(e){const t=[];return dt(e.fields,(e,n)=>{const r=new se([e]);if(en(n)){const e=sn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new yt(t)}class on{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new on(e,0,be.min(),be.min(),be.min(),an.empty(),0)}static newFoundDocument(e,t,n,r){return new on(e,1,t,be.min(),n,r,0)}static newNoDocument(e,t){return new on(e,2,t,be.min(),be.min(),an.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,be.min(),be.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ln{constructor(e,t){this.position=e,this.inclusive=t}}function cn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?oe.comparator(oe.fromName(s.referenceValue),n.key):qt(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function un(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vt(e.position[n],t.position[n]))return!1;return!0}class dn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function hn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fn{}class pn extends fn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new kn(e,t,n):"array-contains"===t?new Nn(e,n):"in"===t?new Tn(e,n):"not-in"===t?new Cn(e,n):"array-contains-any"===t?new In(e,n):new pn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _n(e,n):new Sn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(qt(t,this.value)):null!==t&&Ut(this.value)===Ut(t)&&this.matchesComparison(qt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return D(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends fn{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mn(e,t)}matches(e){return gn(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gn(e){return"and"===e.op}function vn(e){return yn(e)&&gn(e)}function yn(e){for(const t of e.filters)if(t instanceof mn)return!1;return!0}function bn(e){if(e instanceof pn)return e.field.canonicalString()+e.op.toString()+Wt(e.value);if(vn(e))return e.filters.map(e=>bn(e)).join(",");{const t=e.filters.map(e=>bn(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function wn(e,t){return e instanceof pn?function(e,t){return t instanceof pn&&e.op===t.op&&e.field.isEqual(t.field)&&Vt(e.value,t.value)}(e,t):e instanceof mn?function(e,t){return t instanceof mn&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&wn(n,t.filters[r]),!0)}(e,t):void D(19439)}function xn(e){return e instanceof pn?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wt(e.value))}(e):e instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(xn).join(" ,")+"}"}(e):"Filter"}class kn extends pn{constructor(e,t,n){super(e,t,n),this.key=oe.fromName(n.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class _n extends pn{constructor(e,t){super(e,"in",t),this.keys=En("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sn extends pn{constructor(e,t){super(e,"not-in",t),this.keys=En("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function En(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oe.fromName(e.referenceValue))}class Nn extends pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jt(t)&&Bt(t.arrayValue,this.value)}}class Tn extends pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bt(this.value.arrayValue,t)}}class Cn extends pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Bt(this.value.arrayValue,t)}}class In extends pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Bt(this.value.arrayValue,e))}}class An{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Te=null}}function Pn(e){return new An(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function jn(e){const t=L(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>bn(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Re(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Wt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Wt(e)).join(",")),t.Te=e}return t.Te}function Dn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!wn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!un(e.startAt,t.startAt)&&un(e.endAt,t.endAt)}function Rn(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class On{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ln(e,t,n,r,i,a,s,o){return new On(e,t,n,r,i,a,s,o)}function Mn(e){return new On(e)}function Fn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zn(e){return null!==e.collectionGroup}function Un(e){const t=L(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new gt(se.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new dn(r,n))}),e.has(se.keyField().canonicalString())||t.Ie.push(new dn(se.keyField(),n))}return t.Ie}function Vn(e){const t=L(e);return t.Ee||(t.Ee=Bn(t,Un(e))),t.Ee}function Bn(e,t){if("F"===e.limitType)return Pn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new dn(e.field,t)});const n=e.endAt?new ln(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ln(e.startAt.position,e.startAt.inclusive):null;return Pn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function qn(e,t){const n=e.filters.concat([t]);return new On(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hn(e,t,n){return new On(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kn(e,t){return Dn(Vn(e),Vn(t))&&e.limitType===t.limitType}function Wn(e){return"".concat(jn(Vn(e)),"|lt:").concat(e.limitType)}function Gn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>xn(e)).join(", "),"]")),Re(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Wt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Wt(e)).join(",")),"Target(".concat(t,")")}(Vn(e)),"; limitType=").concat(e.limitType,")")}function Qn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oe.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Un(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=cn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Un(e),t))&&!(e.endAt&&!function(e,t,n){const r=cn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Un(e),t))}(e,t)}function Yn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $n(e){return(t,n)=>{let r=!1;for(const i of Un(e)){const e=Jn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Jn(e,t,n){const r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?qt(r,i):D(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return D(19790,{direction:e.dir})}}class Xn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){dt(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ht(this.inner)}size(){return this.innerSize}}const Zn=new ft(oe.comparator);function er(){return Zn}const tr=new ft(oe.comparator);function nr(){let e=tr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function rr(e){let t=tr;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ir(){return sr()}function ar(){return sr()}function sr(){return new Xn(e=>e.toString(),(e,t)=>e.isEqual(t))}const or=new ft(oe.comparator),lr=new gt(oe.comparator);function cr(){let e=lr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ur=new gt($);function dr(){return ur}function hr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oe(t)?"-0":t}}function fr(e){return{integerValue:""+e}}function pr(e,t){return Le(t)?fr(t):hr(e,t)}class mr{constructor(){this._=void 0}}function gr(e,t,n){return e instanceof br?function(e,t){const n={fields:{[Nt]:{stringValue:Et},[Ct]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&It(t)&&(t=At(t)),t&&(n.fields[Tt]=t),{mapValue:n}}(n,t):e instanceof wr?xr(e,t):e instanceof kr?_r(e,t):function(e,t){const n=yr(e,t),r=Er(n)+Er(e.Ae);return $t(n)&&$t(e.Ae)?fr(r):hr(e.serializer,r)}(e,t)}function vr(e,t,n){return e instanceof wr?xr(e,t):e instanceof kr?_r(e,t):n}function yr(e,t){return e instanceof Sr?function(e){return $t(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class br extends mr{}class wr extends mr{constructor(e){super(),this.elements=e}}function xr(e,t){const n=Nr(t);for(const r of e.elements)n.some(e=>Vt(e,r))||n.push(r);return{arrayValue:{values:n}}}class kr extends mr{constructor(e){super(),this.elements=e}}function _r(e,t){let n=Nr(t);for(const r of e.elements)n=n.filter(e=>!Vt(e,r));return{arrayValue:{values:n}}}class Sr extends mr{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Er(e){return _t(e.integerValue||e.doubleValue)}function Nr(e){return Jt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Tr{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ir(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Ar{}function Pr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vr(e.key,Cr.none()):new Lr(e.key,e.data,Cr.none());{const n=e.data,r=an.empty();let i=new gt(se.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Mr(e.key,r,new yt(i.toArray()),Cr.none())}}function jr(e,t,n){e instanceof Lr?function(e,t,n){const r=e.value.clone(),i=zr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mr?function(e,t,n){if(!Ir(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Dr(e,t,n,r){return e instanceof Lr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;const i=e.value.clone(),a=Ur(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Mr?function(e,t,n,r){if(!Ir(e.precondition,t))return n;const i=Ur(e.fieldTransforms,r,t),a=t.data;return a.setAll(Fr(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ir(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Rr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yr(r.transform,e||null);null!=i&&(null===n&&(n=an.empty()),n.set(r.field,i))}return n||null}function Or(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&te(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wr&&t instanceof wr||e instanceof kr&&t instanceof kr?te(e.elements,t.elements,Vt):e instanceof Sr&&t instanceof Sr?Vt(e.Ae,t.Ae):e instanceof br&&t instanceof br}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Lr extends Ar{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mr extends Ar{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fr(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zr(e,t,n){const r=new Map;O(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,vr(s,o,n[i]))}return r}function Ur(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,gr(e,a,t))}return r}class Vr extends Ar{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Br extends Ar{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&jr(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ar();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Pr(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(be.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cr())}isEqual(e){return this.batchId===e.batchId&&te(this.mutations,e.mutations,(e,t)=>Or(e,t))&&te(this.baseMutations,e.baseMutations,(e,t)=>Or(e,t))}}class Hr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){O(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=or;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Hr(e,t,n,r)}}class Kr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Wr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Gr,Qr;function Yr(e){switch(e){case M.OK:return D(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return D(15467,{code:e})}}function $r(e){if(void 0===e)return A("GRPC error has no .code"),M.UNKNOWN;switch(e){case Gr.OK:return M.OK;case Gr.CANCELLED:return M.CANCELLED;case Gr.UNKNOWN:return M.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return M.INTERNAL;case Gr.UNAVAILABLE:return M.UNAVAILABLE;case Gr.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Gr.NOT_FOUND:return M.NOT_FOUND;case Gr.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Gr.ABORTED:return M.ABORTED;case Gr.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Gr.DATA_LOSS:return M.DATA_LOSS;default:return D(39323,{code:e})}}(Qr=Gr||(Gr={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";let Jr=null;function Xr(){return new TextEncoder}const Zr=new r([4294967295,4294967295],0);function ei(e){const t=Xr().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function ti(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new r([n,i],0),new r([a,s],0)]}class ni{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ri("Invalid padding: ".concat(t));if(n<0)throw new ri("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ri("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ri("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=r.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(Zr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new ni(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=ei(e),[n,r]=ti(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ii{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ai.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ii(be.min(),r,new ft($),er(),cr())}}class ai{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ai(n,t,cr(),cr(),cr())}}class si{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class oi{constructor(e,t){this.targetId=e,this.Ce=t}}class li{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ci{constructor(){this.ve=0,this.Fe=hi(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=cr(),t=cr(),n=cr();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:D(38017,{changeType:i})}}),new ai(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=hi()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,O(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ui{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=di(),this.He=di(),this.Ye=new ft($)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:D(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Rn(a))if(0===n){const e=new oe(a.path);this.et(t,e,on.newNoDocument(e,be.min()))}else O(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=Jr)||void 0===i||i.lt(function(e,t,n,r,i){var a,s,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=St(n).toUint8Array()}catch(e){if(e instanceof bt)return P("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new ni(a,r,i)}catch(e){return P(e instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Rn(i.target)){const t=new oe(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,on.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=cr();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ii(e,t,this.Ye,this.je,n);return this.je=er(),this.Je=di(),this.He=di(),this.Ye=new ft($),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ci,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new gt($),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new gt($),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ci),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function di(){return new ft(oe.comparator)}function hi(){return new ft(oe.comparator)}const fi={asc:"ASCENDING",desc:"DESCENDING"},pi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mi={and:"AND",or:"OR"};class gi{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vi(e,t){return e.useProto3Json||Re(t)?t:{value:t}}function yi(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wi(e,t){return yi(e,t.toTimestamp())}function xi(e){return O(!!e,49232),be.fromTimestamp(function(e){const t=kt(e);return new ye(t.seconds,t.nanos)}(e))}function ki(e,t){return _i(e,t).canonicalString()}function _i(e,t){const n=function(e){return new ie(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Si(e){const t=ie.fromString(e);return O(Hi(t),10190,{key:t.toString()}),t}function Ei(e,t){return ki(e.databaseId,t.path)}function Ni(e,t){const n=Si(t);if(n.get(1)!==e.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(Ai(n))}function Ti(e,t){return ki(e.databaseId,t)}function Ci(e){const t=Si(e);return 4===t.length?ie.emptyPath():Ai(t)}function Ii(e){return new ie(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ai(e){return O(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Pi(e,t,n){return{name:Ei(e,t),fields:n.value.mapValue.fields}}function ji(e,t){let n;if(t instanceof Lr)n={update:Pi(e,t.key,t.value)};else if(t instanceof Vr)n={delete:Ei(e,t.key)};else if(t instanceof Mr)n={update:Pi(e,t.key,t.data),updateMask:qi(t.fieldMask)};else{if(!(t instanceof Br))return D(16599,{Vt:t.type});n={verify:Ei(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof br)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof kr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sr)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw D(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:D(27497)}(e,t.precondition)),n}function Di(e,t){return{documents:[Ti(e,t.path)]}}function Ri(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ti(e,i);const a=function(e){if(0!==e.length)return Bi(mn.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ui(e.field),direction:Mi(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vi(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function Oi(e){let t=Ci(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){O(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Li(e);return t instanceof mn&&vn(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new dn(Vi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Re(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ln(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ln(n,t)}(n.endAt)),Ln(t,i,s,a,o,"F",l,c)}function Li(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vi(e.unaryFilter.field);return pn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vi(e.unaryFilter.field);return pn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vi(e.unaryFilter.field);return pn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vi(e.unaryFilter.field);return pn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return D(61313);default:return D(60726)}}(e):void 0!==e.fieldFilter?function(e){return pn.create(Vi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return D(58110);default:return D(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return mn.create(e.compositeFilter.filters.map(e=>Li(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return D(1026)}}(e.compositeFilter.op))}(e):D(30097,{filter:e})}function Mi(e){return fi[e]}function Fi(e){return pi[e]}function zi(e){return mi[e]}function Ui(e){return{fieldPath:e.canonicalString()}}function Vi(e){return se.fromServerFormat(e.fieldPath)}function Bi(e){return e instanceof pn?function(e){if("=="===e.op){if(Zt(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NAN"}};if(Xt(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zt(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NAN"}};if(Xt(e.value))return{unaryFilter:{field:Ui(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(e.field),op:Fi(e.op),value:e.value}}}(e):e instanceof mn?function(e){const t=e.getFilters().map(e=>Bi(e));return 1===t.length?t[0]:{compositeFilter:{op:zi(e.op),filters:t}}}(e):D(54877,{filter:e})}function qi(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ki{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:be.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:be.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wt.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wi{constructor(e){this.yt=e}}function Gi(e){const t=Oi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hn(t,t.limit,"L"):t}class Qi{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(_t(e.integerValue));else if("doubleValue"in e){const n=_t(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Oe(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=kt(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(St(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?rn(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):tn(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):D(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=zt,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(_t(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),oe.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Qi.Kt=new Qi;class Yi{constructor(){this.Cn=new $i}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(Se.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(Se.min())}updateCollectionGroup(e,t,n){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class $i{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new gt(ie.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new gt(ie.comparator)).toArray()}}new Uint8Array(0);const Ji={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xi=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(Xi,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);class ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ea(0)}static cr(){return new ea(-1)}}const ta="LruGarbageCollector",na=1048576;function ra(e,t){let[n,r]=e,[i,a]=t;const s=$(n,i);return 0===s?$(r,a):s}class ia{constructor(e){this.Ir=e,this.buffer=new gt(ra),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ra(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aa{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){I(ta,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Pe(e)?I(ta,"Ignoring IndexedDB error during garbage collection: ",e):await Ce(e)}await this.Vr(3e5)})}}class sa{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(je.ce);const n=new ia(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(Ji)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Ji):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,s,o,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),T()<=l.$b.DEBUG&&I("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-o)+"ms\n"+"Total Duration: ".concat(c-u,"ms")),Ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function oa(e,t){return new sa(e,t)}class la{constructor(){this.changes=new Xn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ca{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ua{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Dr(n.mutation,e,yt.empty(),ye.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,cr()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr();const r=ir();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=nr();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ir();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,cr()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=er();const a=sr(),s=sr();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Mr)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Dr(s.mutation,t,s.mutation.getFieldMask(),ye.now())):a.set(t.key,yt.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new ca(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=sr();let r=new ft((e,t)=>e-t),i=cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||yt.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||cr()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=ar();l.forEach(e=>{if(!i.has(e)){const r=Pr(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ie.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return oe.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ie.resolve(ir());let s=we,o=i;return a.next(t=>Ie.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Ie.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,cr())).next(e=>({batchId:s,changes:rr(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(e=>{let t=nr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=nr();return this.indexManager.getCollectionParents(e,i).next(s=>Ie.forEach(s,s=>{const o=function(e,t){return new On(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,on.newInvalidDocument(r)))});let n=nr();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Dr(a.mutation,r,yt.empty(),ye.now()),Qn(t,r)&&(n=n.insert(e,r))}),n})}}class da{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:xi(e.createTime)}}(t)),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Gi(e.bundledQuery),readTime:xi(e.readTime)}}(t)),Ie.resolve()}}class ha{constructor(){this.overlays=new ft(oe.comparator),this.qr=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ir();return Ie.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ie.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ie.resolve()}getOverlaysForCollection(e,t,n){const r=ir(),i=t.length+1,a=new oe(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ie.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ft((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ir(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ir(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Ie.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kr(t,n));let i=this.qr.get(t);void 0===i&&(i=cr(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class fa{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ie.resolve()}}class pa{constructor(){this.Qr=new gt(ma.$r),this.Ur=new gt(ma.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ma(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ma(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new oe(new ie([])),n=new ma(t,e),r=new ma(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new oe(new ie([])),n=new ma(t,e),r=new ma(t,e+1);let i=cr();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ma(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ma{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return oe.comparator(e.key,t.key)||$(e.Yr,t.Yr)}static Kr(e,t){return $(e.Yr,t.Yr)||oe.comparator(e.key,t.key)}}class ga{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new gt(ma.$r)}checkEmpty(e){return Ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qr(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Zr=this.Zr.add(new ma(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Ie.resolve(a)}lookupMutationBatch(e,t){return Ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return Ie.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.mutationQueue.length?De:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ma(t,0),r=new ma(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),Ie.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new gt($);return t.forEach(e=>{const t=new ma(e,0),r=new ma(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ie.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;oe.isDocumentKey(i)||(i=i.child(""));const a=new ma(new oe(i),0);let s=new gt($);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},a),Ie.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){O(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ie.forEach(t.mutations,r=>{const i=new ma(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ma(t,0),r=this.Zr.firstAfterOrEqual(n);return Ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class va{constructor(e){this.ri=e,this.docs=new ft(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ie.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=er();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():on.newInvalidDocument(e))}),Ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=er();const a=t.path,s=new oe(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ee(_e(s),n)<=0||(r.has(s.key)||Qn(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Ie.resolve(i)}getAllFromCollectionGroup(e,t,n,r){D(9500)}ii(e,t){return Ie.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new ya(this)}getSize(e){return Ie.resolve(this.size)}}class ya extends la{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ba{constructor(e){this.persistence=e,this.si=new Xn(e=>jn(e),Dn),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new pa,this.targetCount=0,this.ai=ea.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ea(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Pr(t),Ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Ie.waitFor(i).next(()=>r)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ie.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ie.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Ie.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ie.resolve(n)}containsKey(e,t){return Ie.resolve(this._i.containsKey(t))}}class wa{constructor(e,t){this.ui={},this.overlays={},this.ci=new je(0),this.li=!1,this.li=!0,this.hi=new fa,this.referenceDelegate=e(this),this.Pi=new ba(this),this.indexManager=new Yi,this.remoteDocumentCache=function(e){return new va(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Wi(t),this.Ii=new da(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ha,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new ga(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){I("MemoryPersistence","Starting transaction:",e);const r=new xa(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ie.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class xa extends Te{constructor(e){super(),this.currentSequenceNumber=e}}class ka{constructor(e){this.persistence=e,this.Ri=new pa,this.Vi=null}static mi(e){return new ka(e)}get fi(){if(this.Vi)return this.Vi;throw D(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ie.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,n=>{const r=oe.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,be.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _a{constructor(e,t){this.persistence=e,this.pi=new Xn(e=>Fe(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=oa(this,t)}static mi(e,t){return new _a(e,t)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ie.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ie.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,be.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ie.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qt(e.data.value)),t}br(e,t,n){return Ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ie.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Sa{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=cr(),r=cr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Sa(e,t.fromCache,n,r)}}class Ea{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Na{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(0,c.nr)()?8:Ae((0,c.ZQ)())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Ea;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(T()<=l.$b.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Gn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(T()<=l.$b.DEBUG&&I("QueryEngine","Query:",Gn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(T()<=l.$b.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Gn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(t))):Ie.resolve())}ys(e,t){if(Fn(t))return Ie.resolve(null);let n=Vn(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Hn(t,null,"F"),n=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=cr(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,Hn(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return Fn(t)||r.isEqual(be.min())?Ie.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?Ie.resolve(null):(T()<=l.$b.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gn(t)),this.vs(e,a,t,ke(r,we)).next(e=>e))})}Ds(e,t){let n=new gt($n(e));return t.forEach((t,r)=>{Qn(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return T()<=l.$b.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Gn(t)),this.ps.getDocumentsMatchingQuery(e,t,Se.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ta="LocalStore",Ca=3e8;class Ia{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ft($),this.xs=new Xn(e=>jn(e),Dn),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ua(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Aa(e,t,n,r){return new Ia(e,t,n,r)}async function Pa(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=cr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function ja(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Da(e,t,n){let r=cr(),i=cr();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=er();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(be.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):I(Ta,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{ks:r,qs:i}})}function Ra(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=De),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Oa(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,Ie.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Ki(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function La(e,t,n){const r=L(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!Pe(e))throw e;I(Ta,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Ma(e,t,n){const r=L(e);let i=be.min(),a=cr();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=L(e),i=r.xs.get(n);return void 0!==i?Ie.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Vn(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:be.min(),n?a:cr())).next(e=>(Fa(r,Yn(t),e),{documents:e,Qs:a})))}function Fa(e,t,n){let r=e.Os.get(t)||be.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class za{constructor(){this.activeTargetIds=dr()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ua{constructor(){this.Mo=new za,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new za,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Va{Oo(e){}shutdown(){}}const Ba="ConnectivityMonitor";class qa{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){I(Ba,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){I(Ba,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ha=null;function Ka(){return null===Ha?Ha=268435456+Math.round(2147483648*Math.random()):Ha++,"0x"+Ha.toString(16)}const Wa="RestConnection",Ga={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qa{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Dt?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=Ka(),s=this.zo(e,t.toUriEncodedString());I(Wa,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,i);const{host:l}=new URL(s),u=(0,c.zJ)(l);return this.Jo(e,s,o,n,u).then(t=>(I(Wa,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw P(Wa,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ga[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Ya{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $a="WebChannelConnection";class Ja extends Qa{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=Ka();return new Promise((i,s)=>{const o=new h;o.setWithCredentials(!0),o.listenOnce(p.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case m.NO_ERROR:const n=o.getResponseJson();I($a,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case m.TIMEOUT:I($a,"RPC '".concat(e,"' ").concat(a," timed out")),s(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case m.HTTP_ERROR:const r=o.getStatus();if(I($a,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(n.status);s(new F(e,n.message))}else s(new F(M.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new F(M.UNAVAILABLE,"Connection failed."));break;default:D(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{I($a,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);I($a,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ka(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=b(),s=y(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");I($a,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new Ya({Yo:t=>{h?I($a,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(I($a,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),I($a,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return m(u,f.EventType.OPEN,()=>{h||(I($a,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),m(u,f.EventType.CLOSE,()=>{h||(h=!0,I($a,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),m(u,f.EventType.ERROR,t=>{h||(h=!0,P($a,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new F(M.UNAVAILABLE,"The operation could not be completed")))}),m(u,f.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];O(!!i,16349);const a=i,s=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){I($a,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Gr[e];if(void 0!==t)return $r(t)}(t),i=s.message;void 0===n&&(n=M.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.a_(new F(n,i)),u.close()}else I($a,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.u_(i)}}),m(s,v.STAT_EVENT,t=>{t.stat===g.PROXY?I($a,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===g.NOPROXY&&I($a,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Xa(){return"undefined"!=typeof document?document:null}function Za(e){return new gi(e,!0)}class es{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&I("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ts="PersistentStream";class ns{constructor(e,t,n,r,i,a,s,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new es(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(A(t.toString()),A("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new F(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return I(ts,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(I(ts,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rs extends ns{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:D(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(O(void 0===t||"string"==typeof t,58123),wt.fromBase64String(t||"")):(O(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),wt.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?M.UNKNOWN:$r(e.code);return new F(t,e.message||"")}(s);n=new li(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ni(e,r.document.name),a=xi(r.document.updateTime),s=r.document.createTime?xi(r.document.createTime):be.min(),o=new an({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new si(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ni(e,r.document),a=r.readTime?xi(r.readTime):be.min(),s=on.newNoDocument(i,a),o=r.removedTargetIds||[];n=new si([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ni(e,r.document),a=r.removedTargetIds||[];n=new si([],a,i,null)}else{if(!("filter"in t))return D(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Wr(r,i),s=e.targetId;n=new oi(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return be.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?be.min():t.readTime?xi(t.readTime):be.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ii(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Rn(r)?{documents:Di(e,r)}:{query:Ri(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bi(e,t.resumeToken);const r=vi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(be.min())>0){n.readTime=yi(e,t.snapshotVersion.toTimestamp());const r=vi(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return D(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ii(this.serializer),t.removeTarget=e,this.q_(t)}}class is extends ns{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return O(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,O(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){O(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(O(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?xi(e.updateTime):xi(t);return n.isEqual(be.min())&&(n=xi(t)),new Tr(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=xi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ii(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ji(this.serializer,e))};this.q_(t)}}class as{}class ss extends as{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Go(e,_i(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new F(M.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.Ho(e,_i(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new F(M.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class os{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(A(t),this.aa=!1):I("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const ls="RemoteStore";class cs{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{ys(this)&&(I(ls,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.Ea.add(4),await ds(t),t.Ra.set("Unknown"),t.Ea.delete(4),await us(t)}(this))})}),this.Ra=new os(n,r)}}async function us(e){if(ys(e))for(const t of e.da)await t(!0)}async function ds(e){for(const t of e.da)await t(!1)}function hs(e,t){const n=L(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vs(n)?gs(n):Ms(n).O_()&&ps(n,t))}function fs(e,t){const n=L(e),r=Ms(n);n.Ia.delete(t),r.O_()&&ms(n,t),0===n.Ia.size&&(r.O_()?r.L_():ys(n)&&n.Ra.set("Unknown"))}function ps(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(be.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ms(e).Y_(t)}function ms(e,t){e.Va.Ue(t),Ms(e).Z_(t)}function gs(e){e.Va=new ui({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ms(e).start(),e.Ra.ua()}function vs(e){return ys(e)&&!Ms(e).x_()&&e.Ia.size>0}function ys(e){return 0===L(e).Ea.size}function bs(e){e.Va=void 0}async function ws(e){e.Ra.set("Online")}async function xs(e){e.Ia.forEach((t,n)=>{ps(e,t)})}async function ks(e,t){bs(e),vs(e)?(e.Ra.ha(t),gs(e)):e.Ra.set("Unknown")}async function _s(e,t,n){if(e.Ra.set("Online"),t instanceof li&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){I(ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ss(e,n)}else if(t instanceof si?e.Va.Ze(t):t instanceof oi?e.Va.st(t):e.Va.tt(t),!n.isEqual(be.min()))try{const t=await ja(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(wt.EMPTY_BYTE_STRING,r.snapshotVersion)),ms(e,t);const i=new Ki(r.target,t,n,r.sequenceNumber);ps(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){I(ls,"Failed to raise snapshot:",t),await Ss(e,t)}}async function Ss(e,t,n){if(!Pe(t))throw t;e.Ea.add(1),await ds(e),e.Ra.set("Offline"),n||(n=()=>ja(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{I(ls,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await us(e)})}function Es(e,t){return t().catch(n=>Ss(e,n,t))}async function Ns(e){const t=L(e),n=Fs(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:De;for(;Ts(t);)try{const e=await Ra(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Cs(t,e)}catch(e){await Ss(t,e)}Is(t)&&As(t)}function Ts(e){return ys(e)&&e.Ta.length<10}function Cs(e,t){e.Ta.push(t);const n=Fs(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Is(e){return ys(e)&&!Fs(e).x_()&&e.Ta.length>0}function As(e){Fs(e).start()}async function Ps(e){Fs(e).ra()}async function js(e){const t=Fs(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ds(e,t,n){const r=e.Ta.shift(),i=Hr.from(r,t,n);await Es(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ns(e)}async function Rs(e,t){t&&Fs(e).X_&&await async function(e,t){if(function(e){return Yr(e)&&e!==M.ABORTED}(t.code)){const n=e.Ta.shift();Fs(e).B_(),await Es(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ns(e)}}(e,t),Is(e)&&As(e)}async function Os(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),I(ls,"RemoteStore received new credentials");const r=ys(n);n.Ea.add(3),await ds(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await us(n)}async function Ls(e,t){const n=L(e);t?(n.Ea.delete(2),await us(n)):t||(n.Ea.add(2),await ds(n),n.Ra.set("Unknown"))}function Ms(e){return e.ma||(e.ma=function(e,t,n){const r=L(e);return r.sa(),new rs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ws.bind(null,e),t_:xs.bind(null,e),r_:ks.bind(null,e),H_:_s.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),vs(e)?gs(e):e.Ra.set("Unknown")):(await e.ma.stop(),bs(e))})),e.ma}function Fs(e){return e.fa||(e.fa=function(e,t,n){const r=L(e);return r.sa(),new is(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ps.bind(null,e),r_:Rs.bind(null,e),ta:js.bind(null,e),na:Ds.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Ns(e)):(await e.fa.stop(),e.Ta.length>0&&(I(ls,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class zs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new zs(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Us(e,t){if(A("AsyncQueue","".concat(t,": ").concat(e)),Pe(e))return new F(M.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||oe.comparator(t.key,n.key):(e,t)=>oe.comparator(e.key,t.key),this.keyedMap=nr(),this.sortedSet=new ft(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bs{constructor(){this.ga=new ft(oe.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):D(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class qs{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new qs(e,t,Vs.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hs{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ks{constructor(){this.queries=Ws(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Ws(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new F(M.ABORTED,"Firestore shutting down"))}}function Ws(){return new Xn(e=>Wn(e),Kn)}async function Gs(e,t){const n=L(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new Hs,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Us(e,"Initialization of query '".concat(Gn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Js(n)}async function Qs(e,t){const n=L(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ys(e,t){const n=L(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Js(n)}function $s(e,t,n){const r=L(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function Js(e){e.Ca.forEach(e=>{e.next()})}var Xs,Zs;(Zs=Xs||(Xs={})).Ma="default",Zs.Cache="cache";class eo{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qs(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xs.Cache}}class to{constructor(e){this.key=e}}class no{constructor(e){this.key=e}}class ro{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=cr(),this.mutatedKeys=cr(),this.eu=$n(e),this.tu=new Vs(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Bs,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Qn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return D(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==a.length||l?{snapshot:new qs(this.query,e.tu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bs,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=cr(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new no(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new to(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=cr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const io="SyncEngine";class ao{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class so{constructor(e){this.key=e,this.hu=!1}}class oo{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Xn(e=>Wn(e),Kn),this.Iu=new Map,this.Eu=new Set,this.du=new ft(oe.comparator),this.Au=new Map,this.Ru=new pa,this.Vu={},this.mu=new Map,this.fu=ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function lo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ao(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await uo(r,t,n,!0),i}async function co(e,t){const n=Ao(e);await uo(n,t,!0,!1)}async function uo(e,t,n,r){const i=await Oa(e.localStore,Vn(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await ho(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&hs(e.remoteStore,i),o}async function ho(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Ma(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return So(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await Ma(e.localStore,t,!0),s=new ro(t,a.Qs),o=s.ru(a.documents),l=ai.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);So(e,n,c.au);const u=new ao(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function fo(e,t,n){const r=L(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!Kn(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await La(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fs(r.remoteStore,i.targetId),ko(r,i.targetId)}).catch(Ce)):(ko(r,i.targetId),await La(r.localStore,i.targetId,!0))}async function po(e,t){const n=L(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fs(n.remoteStore,r.targetId))}async function mo(e,t){const n=L(e);try{const e=await function(e,t){const n=L(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(wt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=Ca||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.Pi.updateTargetData(e,c))});let o=er(),l=cr();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Da(e,a,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(be.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Ie.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(O(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?O(r.hu,14607):e.removedDocuments.size>0&&(O(r.hu,42227),r.hu=!1))}),await To(n,e,t)}catch(e){await Ce(e)}}function go(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Js(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vo(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new ft(oe.comparator);e=e.insert(a,on.newNoDocument(a,be.min()));const n=cr().add(a),i=new ii(be.min(),new Map,new ft($),e,n);await mo(r,i),r.du=r.du.remove(a),r.Au.delete(t),No(r)}else await La(r.localStore,t,!1).then(()=>ko(r,t,n)).catch(Ce)}async function yo(e,t){const n=L(e),r=t.batch.batchId;try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Ie.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);O(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);xo(n,r,null),wo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await To(n,e)}catch(e){await Ce(e)}}async function bo(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(O(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);xo(r,t,n),wo(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await To(r,e)}catch(n){await Ce(n)}}function wo(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function xo(e,t,n){const r=L(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||_o(e,t)})}function _o(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(fs(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),No(e))}function So(e,t,n){for(const r of n)r instanceof to?(e.Ru.addReference(r.key,t),Eo(e,r)):r instanceof no?(I(io,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||_o(e,r.key)):D(19791,{wu:r})}function Eo(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(I(io,"New document in limbo: "+n),e.Eu.add(r),No(e))}function No(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new oe(ie.fromString(t)),r=e.fu.next();e.Au.set(r,new so(n)),e.du=e.du.insert(n,r),hs(e.remoteStore,new Ki(Vn(Mn(n.path)),r,"TargetPurposeLimboResolution",je.ce))}}async function To(e,t,n){const r=L(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Sa.As(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ie.forEach(t,t=>Ie.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ie.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Pe(e))throw e;I(Ta,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function Co(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){I(io,"User change. New user:",t.toKey());const e=await Pa(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new F(M.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await To(n,e.Ls)}}function Io(e,t){const n=L(e),r=n.Au.get(t);if(r&&r.hu)return cr().add(r.key);{let e=cr();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Ao(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Io.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vo.bind(null,t),t.Pu.H_=Ys.bind(null,t.eventManager),t.Pu.yu=$s.bind(null,t.eventManager),t}function Po(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bo.bind(null,t),t}class jo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Za(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Aa(this.persistence,new Na,e.initialUser,this.serializer)}Cu(e){return new wa(ka.mi,this.serializer)}Du(e){return new Ua}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jo.provider={build:()=>new jo};class Do extends jo{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){O(this.persistence.referenceDelegate instanceof _a,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new aa(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new wa(e=>_a.mi(e,t),this.serializer)}}class Ro{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>go(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Co.bind(null,this.syncEngine),await Ls(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ks}createDatastore(e){const t=Za(e.databaseInfo.databaseId),n=function(e){return new Ja(e)}(e.databaseInfo);return function(e,t,n,r){return new ss(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new cs(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>go(this.syncEngine,e,0),qa.v()?new qa:new Va)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new oo(e,t,n,r,i,a);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);I(ls,"RemoteStore shutting down."),t.Ea.add(5),await ds(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ro.provider={build:()=>new Ro};class Oo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):A("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Lo="FirestoreClient";class Mo{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=S.UNAUTHENTICATED,this.clientId=Y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{I(Lo,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(I(Lo,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Us(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fo(e,t){e.asyncQueue.verifyOperationInProgress(),I(Lo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Pa(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zo(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uo(e);I(Lo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Os(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Os(t.remoteStore,n)),e._onlineComponents=t}async function Uo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){I(Lo,"Using user provided OfflineComponentProvider");try{await Fo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;P("Error using user provided cache. Falling back to memory cache: "+n),await Fo(e,new jo)}}else I(Lo,"Using default OfflineComponentProvider"),await Fo(e,new Do(void 0));return e._offlineComponents}async function Vo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(I(Lo,"Using user provided OnlineComponentProvider"),await zo(e,e._uninitializedComponentsProvider._online)):(I(Lo,"Using default OnlineComponentProvider"),await zo(e,new Ro))),e._onlineComponents}function Bo(e){return Vo(e).then(e=>e.syncEngine)}async function qo(e){const t=await Vo(e),n=t.eventManager;return n.onListen=lo.bind(null,t.syncEngine),n.onUnlisten=fo.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=co.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=po.bind(null,t.syncEngine),n}function Ho(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new z;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Oo({next:o=>{a.Nu(),t.enqueueAndForget(()=>Qs(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new eo(Mn(n.path),a,{includeMetadataChanges:!0,qa:!0});return Gs(e,s)}(await qo(e),e.asyncQueue,t,n,r)),r.promise}function Ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new z;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Oo({next:n=>{a.Nu(),t.enqueueAndForget(()=>Qs(e,s)),n.fromCache&&"server"===r.source?i.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new eo(n,a,{includeMetadataChanges:!0,qa:!0});return Gs(e,s)}(await qo(e),e.asyncQueue,t,n,r)),r.promise}function Wo(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Go=new Map,Qo="firestore.googleapis.com",Yo=!0;class $o{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qo,this.ssl=Yo}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Yo;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Xi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<na)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new F(M.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wo(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jo{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $o({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $o(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new K(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Go.get(e);t&&(I("ComponentProvider","Removing Datastore"),Go.delete(e),t.terminate())}(this),Promise.resolve()}}class Xo{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Zo{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new el(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}toJSON(){return{type:Zo._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(me(t,Zo._jsonSchema))return new Zo(e,n||null,new oe(ie.fromString(t.referencePath)))}}Zo._jsonSchemaVersion="firestore/documentReference/1.0",Zo._jsonSchema={type:pe("string",Zo._jsonSchemaVersion),referencePath:pe("string")};class el extends Xo{constructor(e,t,n){super(e,t,Mn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new oe(e))}withConverter(e){return new el(this.firestore,e,this._path)}}function tl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),le("collection","path",t),e instanceof Jo){const n=ie.fromString(t,...r);return ue(n),new el(e,null,n)}{if(!(e instanceof Zo||e instanceof el))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ie.fromString(t,...r));return ue(n),new el(e.firestore,null,n)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,c.Ku)(e),1===arguments.length&&(t=Y.newId()),le("doc","path",t),e instanceof Jo){const n=ie.fromString(t,...r);return ce(n),new Zo(e,null,new oe(n))}{if(!(e instanceof Zo||e instanceof el))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ie.fromString(t,...r));return ce(n),new Zo(e.firestore,e instanceof el?e.converter:null,new oe(n))}}const rl="AsyncQueue";class il{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new es(this,"async_queue_retry"),this._c=()=>{const e=Xa();e&&I(rl,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Xa();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Xa();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new z;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pe(e))throw e;I(rl,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,A("INTERNAL UNHANDLED ERROR: ",al(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=zs.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&D(47125,{Pc:al(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function al(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function sl(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ol extends Jo{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new il,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new il(e),this._firestoreClient=void 0,await e}}}function ll(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||Dt,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,c.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=fe(e,Jo);const i=(0,c.zJ)(t),s=e._getSettings(),o=(0,a.A)((0,a.A)({},s),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);i&&((0,c.gE)("https://".concat(l)),(0,c.P1)("Firestore",!0)),s.host!==Qo&&s.host!==l&&P("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=(0,a.A)((0,a.A)({},s),{},{host:l,ssl:i,emulatorOptions:r});if(!(0,c.bD)(u,o)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=S.MOCK_USER;else{var d;t=(0,c.Fy)(r.mockUserToken,null===(d=e._app)||void 0===d?void 0:d.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new S(i)}e._authCredentials=new B(new U(t,n))}}(i,...e)}return i}function cl(e){if(e._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ul(e),e._firestoreClient}function ul(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new jt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Wo(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Mo(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(wt.fromBase64String(e))}catch(e){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dl(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(me(e,dl._jsonSchema))return dl.fromBase64String(e.bytes)}}dl._jsonSchemaVersion="firestore/bytes/1.0",dl._jsonSchema={type:pe("string",dl._jsonSchemaVersion),bytes:pe("string")};class hl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fl{constructor(e){this._methodName=e}}class pl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $(this._lat,e._lat)||$(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pl._jsonSchemaVersion}}static fromJSON(e){if(me(e,pl._jsonSchema))return new pl(e.latitude,e.longitude)}}pl._jsonSchemaVersion="firestore/geoPoint/1.0",pl._jsonSchema={type:pe("string",pl._jsonSchemaVersion),latitude:pe("number"),longitude:pe("number")};class ml{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ml._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(me(e,ml._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new ml(e.vectorValues);throw new F(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ml._jsonSchemaVersion="firestore/vectorValue/1.0",ml._jsonSchema={type:pe("string",ml._jsonSchemaVersion),vectorValues:pe("object")};const gl=/^__.*__$/;class vl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lr(e,this.data,t,this.fieldTransforms)}}class yl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw D(40011,{Ac:e})}}class wl{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wl((0,a.A)((0,a.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ol(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(bl(this.Ac)&&gl.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Za(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new wl({Ac:e,methodName:t,Dc:n,path:se.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kl(e){const t=e._freezeSettings(),n=Za(e._databaseId);return new xl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _l(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);Pl("Data must be an object, but it was:",s,r);const o=Il(r,s);let l,c;if(a.merge)l=new yt(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=jl(t,r,n);if(!s.contains(i))throw new F(M.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ll(e,i)||e.push(i)}l=new yt(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new vl(new an(o),l,c)}class Sl extends fl{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sl}}function El(e,t,n,r){const i=e.Cc(1,t,n);Pl("Data must be an object, but it was:",i,r);const a=[],s=an.empty();dt(r,(e,r)=>{const o=Rl(t,e,n);r=(0,c.Ku)(r);const l=i.yc(o);if(r instanceof Sl)a.push(o);else{const e=Cl(r,l);null!=e&&(a.push(o),s.set(o,e))}});const o=new yt(a);return new yl(s,o,i.fieldTransforms)}function Nl(e,t,n,r,i,a){const s=e.Cc(1,t,n),o=[jl(t,r,n)],l=[i];if(a.length%2!=0)throw new F(M.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let c=0;c<a.length;c+=2)o.push(jl(t,a[c])),l.push(a[c+1]);const u=[],d=an.empty();for(let f=o.length-1;f>=0;--f)if(!Ll(u,o[f])){const e=o[f];let t=l[f];t=(0,c.Ku)(t);const n=s.yc(e);if(t instanceof Sl)u.push(e);else{const r=Cl(t,n);null!=r&&(u.push(e),d.set(e,r))}}const h=new yt(u);return new yl(d,h,s.fieldTransforms)}function Tl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Cl(n,e.Cc(r?4:3,t))}function Cl(e,t){if(Al(e=(0,c.Ku)(e)))return Pl("Unsupported field value:",t,e),Il(e,t);if(e instanceof fl)return function(e,t){if(!bl(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Cl(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,c.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ye.fromDate(e);return{timestampValue:yi(t.serializer,n)}}if(e instanceof ye){const n=new ye(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yi(t.serializer,n)}}if(e instanceof pl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dl)return{bytesValue:bi(t.serializer,e._byteString)};if(e instanceof Zo){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ki(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ml)return function(e,t){return{mapValue:{fields:{[Ot]:{stringValue:Ft},[zt]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return hr(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(he(e)))}(e,t)}function Il(e,t){const n={};return ht(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dt(e,(e,r)=>{const i=Cl(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Al(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ye||e instanceof pl||e instanceof dl||e instanceof Zo||e instanceof fl||e instanceof ml)}function Pl(e,t,n){if(!Al(n)||!de(n)){const r=he(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function jl(e,t,n){if((t=(0,c.Ku)(t))instanceof hl)return t._internalPath;if("string"==typeof t)return Rl(e,t);throw Ol("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dl=new RegExp("[~\\*/\\[\\]]");function Rl(e,t,n){if(t.search(Dl)>=0)throw Ol("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new hl(...t.split("."))._internalPath}catch(r){throw Ol("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ol(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new F(M.INVALID_ARGUMENT,o+e+l)}function Ll(e,t){return e.some(e=>e.isEqual(t))}class Ml{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fl extends Ml{data(){return super.data()}}function zl(e,t){return"string"==typeof t?Rl(e,t):t instanceof hl?t._internalPath:t._delegate._internalPath}function Ul(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vl{}class Bl extends Vl{}function ql(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Vl&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Wl).length,n=e.filter(e=>e instanceof Hl).length;if(t>1||t>0&&n>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Hl extends Bl{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hl(e,t,n)}_apply(e){const t=this._parse(e);return Jl(e._query,t),new Xo(e.firestore,e.converter,qn(e._query,t))}_parse(e){const t=kl(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new F(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$l(s,a);const t=[];for(const n of s)t.push(Yl(r,e,n));o={arrayValue:{values:t}}}else o=Yl(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$l(s,a),o=Tl(n,t,s,"in"===a||"not-in"===a);return pn.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Kl(e,t,n){const r=t,i=zl("where",e);return Hl._create(i,r,n)}class Wl extends Vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wl(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Jl(n,i),n=qn(n,i)}(e._query,t),new Xo(e.firestore,e.converter,qn(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gl extends Bl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dn(t,n)}(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new On(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ql(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=zl("orderBy",e);return Gl._create(n,t)}function Yl(e,t,n){if("string"==typeof(n=(0,c.Ku)(n))){if(""===n)throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zn(t)&&-1!==n.indexOf("/"))throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ie.fromString(n));if(!oe.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Yt(e,new oe(r))}if(n instanceof Zo)return Yt(e,n._key);throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(he(n),"."))}function $l(e,t){if(!Array.isArray(e)||0===e.length)throw new F(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Jl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new F(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new F(M.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Xl{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ut(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(St(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw D(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return dt(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[zt].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>_t(e.doubleValue));return new ml(n)}convertGeoPoint(e){return new pl(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=At(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pt(e));default:return null}}convertTimestamp(e){const t=kt(e);return new ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ie.fromString(e);O(Hi(n),9688,{name:e});const r=new Rt(n.get(1),n.get(3)),i=new oe(n.popFirst(5));return r.isEqual(t)||A("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Zl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends Ml{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(zl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=tc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:pe("string",tc._jsonSchemaVersion),bundleSource:pe("string","DocumentSnapshot"),bundleName:pe("string"),bundle:pe("string")};class nc extends tc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class rc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ec(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new nc(this._firestore,this._userDataWriter,n.key,n,new ec(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new nc(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ec(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new nc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ec(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:ic(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ic(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return D(61501,{type:e})}}function ac(e){e=fe(e,Zo);const t=fe(e.firestore,ol);return Ho(cl(t),e._key).then(n=>pc(t,e,n))}rc._jsonSchemaVersion="firestore/querySnapshot/1.0",rc._jsonSchema={type:pe("string",rc._jsonSchemaVersion),bundleSource:pe("string","QuerySnapshot"),bundleName:pe("string"),bundle:pe("string")};class sc extends Xl{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,t)}}function oc(e){e=fe(e,Xo);const t=fe(e.firestore,ol),n=cl(t),r=new sc(t);return Ul(e._query),Ko(n,e._query).then(n=>new rc(t,r,e,n))}function lc(e,t,n){e=fe(e,Zo);const r=fe(e.firestore,ol),i=Zl(e.converter,t,n);return fc(r,[_l(kl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Cr.none())])}function cc(e,t,n){e=fe(e,Zo);const r=fe(e.firestore,ol),i=kl(r);let a;for(var s=arguments.length,o=new Array(s>3?s-3:0),l=3;l<s;l++)o[l-3]=arguments[l];return a="string"==typeof(t=(0,c.Ku)(t))||t instanceof hl?Nl(i,"updateDoc",e._key,t,n,o):El(i,"updateDoc",e._key,t),fc(r,[a.toMutation(e._key,Cr.exists(!0))])}function uc(e){return fc(fe(e.firestore,ol),[new Vr(e._key,Cr.none())])}function dc(e,t){const n=fe(e.firestore,ol),r=nl(e),i=Zl(e.converter,t);return fc(n,[_l(kl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function hc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=(0,c.Ku)(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||sl(n[a])||(i=n[a++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(sl(n[a])){var o,l,u;const e=n[a];n[a]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(u=e.complete)||void 0===u?void 0:u.bind(e)}let d,h,f;if(e instanceof Zo)h=fe(e.firestore,ol),f=Mn(e._key.path),d={next:t=>{n[a]&&n[a](pc(h,e,t))},error:n[a+1],complete:n[a+2]};else{const t=fe(e,Xo);h=fe(t.firestore,ol),f=t._query;const r=new sc(h);d={next:e=>{n[a]&&n[a](new rc(h,r,t,e))},error:n[a+1],complete:n[a+2]},Ul(e._query)}return function(e,t,n,r){const i=new Oo(r),a=new eo(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Gs(await qo(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Qs(await qo(e),a))}}(cl(h),f,s,d)}function fc(e,t){return function(e,t){const n=new z;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Po(e);try{const e=await function(e,t){const n=L(e),r=ye.now(),i=t.reduce((e,t)=>e.add(t.key),cr());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=er(),l=cr();return n.Ns.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=Rr(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Mr(e.key,t,sn(t.value.mapValue),Cr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:rr(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ft($)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await To(r,e.changes),await Ns(r.remoteStore)}catch(e){const t=Us(e,"Failed to persist write");n.reject(t)}}(await Bo(e),t,n)),n.promise}(cl(e),t)}function pc(e,t,n){const r=n.docs.get(t._key),i=new sc(e);return new tc(e,i,t._key,r,new ec(n.hasPendingWrites,n.fromCache),t.converter)}function mc(){return new Sl("deleteField")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(s.MF),(0,s.om)(new o.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new ol(new q(e.getProvider("auth-internal")),new G(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rt(e.options.projectId,t)}(s,r),s);return i=(0,a.A)({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(k,_,e),(0,s.KO)(k,_,"esm2020")}()},6672:(e,t,n)=>{var r=n(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},7004:(e,t,n)=>{var r=n(8853),i=n(5043),a=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case v:return"Portal";case k:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch(f){}}return null}var R=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},F=[],z=-1;function U(e){return{current:e}}function V(e){0>z||(e.current=F[z],F[z]=null,z--)}function B(e,t){z++,F[z]=e.current,e.current=t}var q,H,K=U(null),W=U(null),G=U(null),Q=U(null);function Y(e,t){switch(B(G,t),B(W,e),B(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(K),B(K,e)}function $(){V(K),V(W),V(G)}function J(e){null!==e.memoizedState&&B(Q,e);var t=K.current,n=bd(t,e.type);t!==n&&(B(W,e),B(K,n))}function X(e){W.current===e&&(V(K),V(W)),Q.current===e&&(V(Q),dh._currentValue=M)}function Z(e){if(void 0===q)try{throw Error()}catch(f){var t=f.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||"",H=-1<f.stack.indexOf("\n    at")?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+q+e+H}var ee=!1;function te(e,t){if(!e||ee)return"";ee=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var r=f}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ee=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function ne(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return Z("Activity");default:return""}}function re(e){try{var t="",n=null;do{t+=ne(e,n),n=e,e=e.return}while(e);return t}catch(f){return"\nError generating stack: "+f.message+"\n"+f.stack}}var ie=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,oe=r.unstable_shouldYield,le=r.unstable_requestPaint,ce=r.unstable_now,ue=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,fe=r.unstable_NormalPriority,pe=r.unstable_LowPriority,me=r.unstable_IdlePriority,ge=r.log,ve=r.unstable_setDisableYieldValue,ye=null,be=null;function we(e){if("function"===typeof ge&&ve(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ke(e)/_e|0)|0},ke=Math.log,_e=Math.LN2;var Se=256,Ee=262144,Ne=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=Te(r):0!==(s&=o)?i=Te(s):n||0!==(n=o&~e)&&(i=Te(n)):0!==(o=r&~a)?i=Te(o):0!==s?i=Te(s):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Th(e.type)}function Ue(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ve=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ve,qe="__reactProps$"+Ve,He="__reactContainer$"+Ve,Ke="__reactEvents$"+Ve,We="__reactListeners$"+Ve,Ge="__reactHandles$"+Ve,Qe="__reactResources$"+Ve,Ye="__reactMarker$"+Ve;function $e(e){delete e[Be],delete e[qe],delete e[Ke],delete e[We],delete e[Ge]}function Je(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Be])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function et(e){var t=e[Qe];return t||(t=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Ye]=!0}var nt=new Set,rt={};function it(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(rt[e]=t,e=0;e<t.length;e++)nt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},lt={};function ct(e,t,n){if(i=t,ie.call(lt,i)||!ie.call(ot,i)&&(st.test(i)?lt[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ut(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ft(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function yt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?xt(e,s,ht(t)):null!=n?xt(e,s,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ht(o):e.removeAttribute("name")}function wt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),pt(e)}function xt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Mt=null;function Ft(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[qe]||null;if(!i)throw Error(s(90));bt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ut(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Lt||null!==Mt)&&(eu(),Lt&&(t=Lt,e=Mt,Mt=Lt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[qe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),qt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){qt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Xh){qt=!1}var Kt=null,Wt=null,Gt=null;function Qt(){if(Gt)return Gt;var e,t,n=Wt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Jt(){return!1}function Xt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Jt,this.isPropagationStopped=Jt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Zt,en,tn,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rn=Xt(nn),an=p({},nn,{view:0,detail:0}),sn=Xt(an),on=p({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(tn&&"mousemove"===e.type?(Zt=e.screenX-tn.screenX,en=e.screenY-tn.screenY):en=Zt=0,tn=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:en}}),ln=Xt(on),cn=Xt(p({},on,{dataTransfer:0})),un=Xt(p({},an,{relatedTarget:0})),dn=Xt(p({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Xt(p({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),fn=Xt(p({},nn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return vn}var bn=Xt(p({},an,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Xt(p({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Xt(p({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),kn=Xt(p({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Xt(p({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Xt(p({},nn,{newState:0,oldState:0})),En=[9,13,27,32],Nn=Bt&&"CompositionEvent"in window,Tn=null;Bt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=Bt&&"TextEvent"in window&&!Tn,In=Bt&&(!Nn||Tn&&8<Tn&&11>=Tn),An=String.fromCharCode(32),Pn=!1;function jn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Mn(e,t,n,r){Lt?Mt?Mt.push(r):Mt=[r]:Lt=r,0<(t=id(t,"onChange")).length&&(n=new rn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,zn=null;function Un(e){$u(e,0)}function Vn(e){if(mt(Ze(e)))return e}function Bn(e,t){if("change"===e)return t}var qn=!1;if(Bt){var Hn;if(Bt){var Kn="oninput"in document;if(!Kn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Kn="function"===typeof Wn.oninput}Hn=Kn}else Hn=!1;qn=Hn&&(!document.documentMode||9<document.documentMode)}function Gn(){Fn&&(Fn.detachEvent("onpropertychange",Qn),zn=Fn=null)}function Qn(e){if("value"===e.propertyName&&Vn(zn)){var t=[];Mn(t,zn,e,Ot(e)),Ut(Un,t)}}function Yn(e,t,n){"focusin"===e?(Gn(),zn=n,(Fn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Gn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(zn)}function Jn(e,t){if("click"===e)return Vn(t)}function Xn(e,t){if("input"===e||"change"===e)return Vn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ie.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Bt&&"documentMode"in document&&11>=document.documentMode,or=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==gt(r)||("selectionStart"in(r=or)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=id(lr,"onSelect")).length&&(t=new rn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},pr={},mr={};function gr(e){if(pr[e])return pr[e];if(!fr[e])return e;var t,n=fr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return pr[e]=n[t];return e}Bt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);var vr=gr("animationend"),yr=gr("animationiteration"),br=gr("animationstart"),wr=gr("transitionrun"),xr=gr("transitionstart"),kr=gr("transitioncancel"),_r=gr("transitionend"),Sr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Sr.set(e,t),it(t,[e])}Er.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Ir=0,Ar=0;function Pr(){for(var e=Ir,t=Ar=Ir=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Or(n,i,a)}}function jr(e,t,n,r){Cr[Ir++]=e,Cr[Ir++]=t,Cr[Ir++]=n,Cr[Ir++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Dr(e,t,n,r){return jr(e,t,n,r),Lr(e)}function Rr(e,t){return jr(e,null,null,t),Lr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-xe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Lr(e){if(50<Kc)throw Kc=0,Wc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Fr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Ur(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,i)).elementType=C,e.lanes=a,e;case y:return Hr(n.children,i,a,t);case b:o=8,i|=24;break;case w:return(e=zr(12,n,t,2|i)).elementType=w,e.lanes=a,e;case S:return(e=zr(13,n,t,i)).elementType=S,e.lanes=a,e;case E:return(e=zr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case x:o=9;break e;case _:o=11;break e;case N:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Kr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Wr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:re(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var $r=[],Jr=0,Xr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function ai(e,t){$r[Jr++]=Zr,$r[Jr++]=Xr,Xr=e,Zr=t}function si(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var a=32-xe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ri=1<<32-xe(t)+i|n<<i|r,ii=a+e}else ri=1<<a|n<<i|r,ii=e}function oi(e){null!==e.return&&(ai(e,1),si(e,1,0))}function li(e){for(;e===Xr;)Xr=$r[--Jr],$r[Jr]=null,Zr=$r[--Jr],$r[Jr]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,di=null,hi=!1,fi=null,pi=!1,mi=Error(s(519));function gi(e){throw ki(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[qe]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Ju(Qu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=Dt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Ld(e)}else 27===n?(n=di,Td(e.type)?(e=Od,Od=null,di=e):di=n):di=ui?Rd(e.stateNode.nextSibling):null;return!0}function wi(){di=ui=null,hi=!1}function xi(){var e=fi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),fi=null),e}function ki(e){null===fi?fi=[e]:fi.push(e)}var _i=U(null),Si=null,Ei=null;function Ni(e,t,n){B(_i,t._currentValue),t._currentValue=n}function Ti(e){e._currentValue=_i.current,V(_i)}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ci(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Ci(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ai(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===Q.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Si=e,Ei=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Di(e){return Oi(Si,e)}function Ri(e,t){return null===Si&&ji(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ei){if(null===e)throw Error(s(308));Ei=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ei=Ei.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,zi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Mi(Fi,function(){e.controller.abort()})}var Bi=null,qi=0,Hi=0,Ki=null;function Wi(){if(0===--qi&&null!==Bi){null!==Ki&&(Ki.status="fulfilled");var e=Bi;Bi=null,Hi=0,Ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=O.S;O.S=function(e,t){Rc=ce(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=qu(),Ki={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Wi,Wi)}(0,t),null!==Gi&&Gi(e,t)};var Qi=U(null);function Yi(){var e=Qi.current;return null!==e?e:mc.pooledCache}function $i(e,t){B(Qi,null===t?Qi.current:t.pool)}function Ji(){var e=Yi();return null===e?null:{parent:zi._currentValue,pool:e}}var Xi=Error(s(460)),Zi=Error(s(474)),ea=Error(s(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Dt,Dt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Dt,Dt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw aa=t,Xi}}function ia(e){try{return(0,e._init)(e._payload)}catch(f){if(null!==f&&"object"===typeof f&&"function"===typeof f.then)throw aa=f,Xi;throw f}}var aa=null;function sa(){if(null===aa)throw Error(s(459));var e=aa;return aa=null,e}function oa(e){if(e===Xi||e===ea)throw Error(s(483))}var la=null,ca=0;function ua(e){var t=ca;return ca+=1,null===la&&(la=[]),ra(la,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ha(e,t){if(t.$$typeof===m)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ia(a)===t.type)?(da(t=i(t,n.props),n),t.return=e,t):(da(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return da(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case v:return(t=Gr(t,e.mode,n)).return=e,t;case T:return h(e,t=ia(t),n)}if(R(t)||P(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ua(t),n);if(t.$$typeof===k)return h(e,Ri(e,t),n);ha(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?c(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case T:return p(e,t,n=ia(n),r)}if(R(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ua(n),r);if(n.$$typeof===k)return p(e,t,Ri(e,n),r);ha(e,n)}return null}function m(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case v:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return m(e,t,n,r=ia(r),i)}if(R(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return m(e,t,n,ua(r),i);if(r.$$typeof===k)return m(e,t,n,Ri(t,r),i);ha(t,r)}return null}function b(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var f=u.key;null!==c;){if(c.key===f){if((f=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===f||"object"===typeof f&&null!==f&&f.$$typeof===T&&ia(f)===c.type){n(l,c.sibling),da(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(da(d=qr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case v:e:{for(f=u.key;null!==c;){if(c.key===f){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return o(l);case T:return b(l,c,u=ia(u),d)}if(R(u))return function(i,s,o,l){for(var c=null,u=null,d=s,f=s=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=p(i,d,o[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===o.length)return n(i,d),hi&&ai(i,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(i,o[f],l))&&(s=a(d,s,f),null===u?c=d:u.sibling=d,u=d);return hi&&ai(i,f),c}for(d=r(d);f<o.length;f++)null!==(g=m(d,i,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),s=a(g,s,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&ai(i,f),c}(l,c,u,d);if(P(u)){if("function"!==typeof(f=P(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var b=p(i,f,y.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(i,f),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,f=v}if(y.done)return n(i,f),hi&&ai(i,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return hi&&ai(i,g),u}for(f=r(f);!y.done;g++,y=l.next())null!==(y=m(f,i,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(i,e)}),hi&&ai(i,g),u}(l,c,u=f.call(u),d)}if("function"===typeof u.then)return b(l,c,ua(u),d);if(u.$$typeof===k)return b(l,c,Ri(l,u),d);ha(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Kr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ca=0;var i=b(e,t,n,r);return la=null,i}catch(f){if(f===Xi||f===ea)throw f;var a=zr(29,f,null,e.mode);return a.lanes=r,a.return=e,a}}}var pa=fa(!0),ma=fa(!1),ga=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Or(e,null,n),t}return jr(e,r,t,n),Lr(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ka(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _a=!1;function Sa(){if(_a){if(null!==Ki)throw Ki}}function Ea(e,t,n,r){_a=!1;var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(vc&h)===h:(r&h)===h){0!==h&&h===Hi&&(_a=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:ga=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Ec|=s,e.lanes=s,e.memoizedState=d}}function Na(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ta(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Na(n[e],t)}var Ca=U(null),Ia=U(0);function Aa(e,t){B(Ia,e=_c),B(Ca,t),_c=e|t.baseLanes}function Pa(){B(Ia,_c),B(Ca,Ca.current)}function ja(){_c=Ia.current,V(Ca),V(Ia)}var Da=U(null),Ra=null;function Oa(e){var t=e.alternate;B(Ua,1&Ua.current),B(Da,e),null===Ra&&(null===t||null!==Ca.current||null!==t.memoizedState)&&(Ra=e)}function La(e){B(Ua,Ua.current),B(Da,e),null===Ra&&(Ra=e)}function Ma(e){22===e.tag?(B(Ua,Ua.current),B(Da,e),null===Ra&&(Ra=e)):Fa()}function Fa(){B(Ua,Ua.current),B(Da,Da.current)}function za(e){V(Da),Ra===e&&(Ra=null),V(Ua)}var Ua=U(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jd(n)||Dd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=0,qa=null,Ha=null,Ka=null,Wa=!1,Ga=!1,Qa=!1,Ya=0,$a=0,Ja=null,Xa=0;function Za(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,a){return Ba=a,qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?vo:yo,Qa=!1,a=n(r,i),Qa=!1,Ga&&(a=rs(t,n,r,i)),ns(e),a}function ns(e){O.H=go;var t=null!==Ha&&null!==Ha.next;if(Ba=0,Ka=Ha=qa=null,Wa=!1,$a=0,Ja=null,t)throw Error(s(300));null===e||Ro||null!==(e=e.dependencies)&&Pi(e)&&(Ro=!0)}function rs(e,t,n,r){qa=e;var i=0;do{if(Ga&&(Ja=null),$a=0,Ga=!1,25<=i)throw Error(s(301));if(i+=1,Ka=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=bo,a=t(n,r)}while(Ga);return a}function is(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(qa.flags|=1024),t}function as(){var e=0!==Ya;return Ya=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function os(e){if(Wa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wa=!1}Ba=0,Ka=Ha=qa=null,Ga=!1,$a=Ya=0,Ja=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?qa.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function cs(){if(null===Ha){var e=qa.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Ka?qa.memoizedState:Ka.next;if(null!==t)Ka=t,Ha=e;else{if(null===e){if(null===qa.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Ka?qa.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function us(e){var t=$a;return $a+=1,null===Ja&&(Ja=[]),e=ra(Ja,e,t),t=qa,null===(null===Ka?t.memoizedState:Ka.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?vo:yo),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===k)return Di(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=qa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){return ms(cs(),Ha,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(Ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ba&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,qa.lanes|=f,Ec|=f}h=u.action,Qa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,qa.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Zn(a,e.memoizedState)&&(Ro=!0,d&&null!==(n=Ki)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Zn(a,t.memoizedState)||(Ro=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vs(e,t,n){var r=qa,i=cs(),a=hi;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Zn((Ha||i).memoizedState,n);if(o&&(i.memoizedState=n,Ro=!0),i=i.queue,Bs(ws.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Ka&&1&Ka.memoizedState.tag){if(r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),null===mc)throw Error(s(349));a||0!==(127&Ba)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&ks(e)}function ws(e,t,n){return n(function(){xs(t)&&ks(e)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function ks(e){var t=Rr(e,2);null!==t&&Yc(t,e,2)}function _s(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Qa){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Ss(e,t,n,r){return e.baseState=n,ms(e,Ha,"function"===typeof r?r:fs)}function Es(e,t,n,r,i){if(fo(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=O.T,s={};O.T=s;try{var o=n(i,r),l=O.S;null!==l&&l(s,o),Ts(e,t,o)}catch(c){Is(e,t,c)}finally{null!==a&&null!==s.types&&(a.types=s.types),O.T=a}}else try{Ts(e,t,a=n(i,r))}catch(u){Is(e,t,u)}}function Ts(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Cs(e,t,n)},function(n){return Is(e,t,n)}):Cs(e,t,n)}function Cs(e,t,n){t.status="fulfilled",t.value=n,As(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ns(e,n)))}function Is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,As(t),t=t.next}while(t!==r)}e.action=null}function As(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ps(e,t){return t}function js(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=qa;if(hi){if(di){t:{for(var i=di,a=pi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){di=Rd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},n.queue=r,n=co.bind(null,qa,r),r.dispatch=n,r=_s(!1),a=ho.bind(null,qa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=Es.bind(null,qa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ds(e){return Rs(cs(),Ha,e)}function Rs(e,t,n){if(t=ms(e,t,Ps)[0],e=ps(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(f){if(f===Xi)throw ea;throw f}else r=t;var i=(t=cs()).queue,a=i.dispatch;return n!==t.memoizedState&&(qa.flags|=2048,Ms(9,{destroy:void 0},Os.bind(null,i,n),null)),[r,a,e]}function Os(e,t){e.action=t}function Ls(e){var t=cs(),n=Ha;if(null!==n)return Rs(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return cs().memoizedState}function zs(e,t,n,r){var i=ls();qa.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var i=cs();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&es(r,Ha.memoizedState.deps)?i.memoizedState=Ms(t,a,n,r):(qa.flags|=e,i.memoizedState=Ms(1|t,a,n,r))}function Vs(e,t){zs(8390656,8,e,t)}function Bs(e,t){Us(2048,8,e,t)}function qs(e){var t=cs().memoizedState;return function(e){qa.flags|=4;var t=qa.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Us(4,2,e,t)}function Ks(e,t){return Us(4,4,e,t)}function Ws(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ws.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Qa){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Ba)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),qa.lanes|=e,Ec|=e,n)}function Xs(e,t,n,r){return Zn(n,t)?n:null!==Ca.current?(e=Js(e,n,r),Zn(e,t)||(Ro=!0),e):0===(42&Ba)||0!==(1073741824&Ba)&&0===(261930&vc)?(Ro=!0,e.memoizedState=n):(e=Qc(),qa.lanes|=e,Ec|=e,t)}function Zs(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var s=O.T,o={};O.T=o,ho(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else uo(e,t,r,Gc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{L.p=a,null!==s&&null!==o.types&&(s.types=o.types),O.T=s}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=no(e).queue;Zs(e,i,t,M,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Gc())}function io(){return Di(dh)}function ao(){return cs().memoizedState}function so(){return cs().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=wa(t,e=ba(n),n);return null!==r&&(Yc(r,t,n),xa(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=Dr(e,t,n,r))&&(Yc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Gc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Zn(o,s))return jr(e,t,i,0),null===mc&&Pr(),!1}catch(l){}if(null!==(n=Dr(e,t,i,r)))return Yc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(s(479))}else null!==(t=Dr(e,n,r,2))&&Yc(t,e,2)}function fo(e){var t=e.alternate;return e===qa||null!==t&&t===qa}function po(e,t){Ga=Wa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var go={readContext:Di,use:ds,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};go.useEffectEvent=Za;var vo={readContext:Di,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Qa){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Qa){we(!0);try{n(t)}finally{we(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,qa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=_s(e)).queue,n=co.bind(null,qa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return Js(ls(),e,t)},useTransition:function(){var e=_s(!1);return e=Zs.bind(null,qa,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qa,i=ls();if(hi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&vc)||ys(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vs(ws.bind(null,r,a,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,a,n,t),null),n},useId:function(){var e=ls(),t=mc.identifierPrefix;if(hi){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-xe(ri)-1)).toString(32)+n),0<(n=Ya++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:js,useActionState:js,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qa,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=oo.bind(null,qa)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Di,use:ds,useCallback:Ys,useContext:Di,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:$s,useReducer:ps,useRef:Fs,useState:function(){return ps(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){return Xs(cs(),Ha.memoizedState,e,t)},useTransition:function(){var e=ps(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){return Ss(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:so};yo.useEffectEvent=qs;var bo={readContext:Di,use:ds,useCallback:Ys,useContext:Di,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:$s,useReducer:gs,useRef:Fs,useState:function(){return gs(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=cs();return null===Ha?Js(n,e,t):Xs(n,Ha.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){var n=cs();return null!==Ha?Ss(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:so};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qs;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=ba(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=ba(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=ba(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wa(e,r,n))&&(Yc(t,e,n),xa(t,e,n))}};function ko(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,a))}function _o(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function So(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Eo(e){Tr(e)}function No(e){console.error(e)}function To(e){Tr(e)}function Co(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ao(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){Co(e,t)},n}function Po(e){return(e=ba(e)).tag=3,e}function jo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Io(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Do=Error(s(461)),Ro=!1;function Oo(e,t,n,r){t.child=null===e?ma(t,null,n,r):pa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return ji(t),r=ts(e,t,n,s,a,i),o=as(),null===e||Ro?(hi&&o&&oi(t),t.flags|=1,Oo(e,t,r,i),t.child):(ss(e,t,i),al(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fo(e,t,a,r,i))}if(a=e.child,!sl(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:er)(s,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=Vr(a,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(er(a,r)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=r=a,!sl(e,i))return t.lanes=e.lanes,al(e,t,i);0!==(131072&e.flags)&&(Ro=!0)}}return Ko(e,t,n,r,i)}function zo(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Vo(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Vo(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==a?a.cachePool:null),null!==a?Aa(t,a):Pa(),Ma(t)}else null!==a?($i(0,a.cachePool),Aa(t,a),Fa(),t.memoizedState=null):(null!==e&&$i(0,null),Pa(),Fa());return Oo(e,t,i,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,r,i){var a=Yi();return a=null===a?null:{parent:zi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$i(0,null),Pa(),Ma(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return pa(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,za(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ko(e,t,n,r,i){return ji(t),n=ts(e,t,n,r,void 0,i),r=as(),null===e||Ro?(hi&&r&&oi(t),t.flags|=1,Oo(e,t,n,i),t.child):(ss(e,t,i),al(e,t,i))}function Wo(e,t,n,r,i,a){return ji(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=as(),null===e||Ro?(hi&&r&&oi(t),t.flags|=1,Oo(e,t,n,a),t.child):(ss(e,t,a),al(e,t,a))}function Go(e,t,n,r,i){if(ji(t),null===t.stateNode){var a=Mr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Di(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},va(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Di(s):Mr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(wo(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&xo.enqueueReplaceState(a,a.state,null),Ea(t,r,a,i),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=So(n,o);a.props=l;var c=a.context,u=n.contextType;s=Mr,"object"===typeof u&&null!==u&&(s=Di(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&_o(t,a,r,s),ga=!1;var h=t.memoizedState;a.state=h,Ea(t,r,a,i),Sa(),c=t.memoizedState,o||h!==c||ga?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=ga||ko(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=So(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Di(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&_o(t,a,r,l),ga=!1,h=t.memoizedState,a.state=h,Ea(t,r,a,i),Sa();var f=t.memoizedState;s!==d||h!==f||ga||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),f=t.memoizedState),(u=ga||ko(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ho(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=pa(t,e.child,null,i),t.child=pa(t,null,n,i)):Oo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=al(e,t,i),e}function Qo(e,t,n,r){return wi(),t.flags|=256,Oo(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Ji()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Xo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(a?Oa(t):Fa(),(e=di)?null!==(e=null!==(e=Pd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Dd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Fa(),l=el({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=$o(n),i.childLanes=Jo(e,r,n),t.memoizedState=Yo,Uo(null,i)):(Oa(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Oa(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fa(),t.child=e.child,t.flags|=128,t=null):(Fa(),l=i.fallback,a=t.mode,i=el({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,pa(t,e.child,null,n),(i=t.child).memoizedState=$o(n),i.childLanes=Jo(e,r,n),t.memoizedState=Yo,t=Uo(null,i));else if(Oa(t),Dd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,ki({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Ro||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Ro||r){if(null!==(r=mc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Yc(r,e,i),Do;jd(l)||ou(),t=tl(e,t,n)}else jd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Rd(l.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return a?(Fa(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Vr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vr(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Uo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=$o(n):(null!==(a=l.cachePool)?(c=zi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Ji(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Jo(e,r,n),t.memoizedState=Yo,Uo(e.child,i)):(Oa(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return pa(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function rl(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Ua.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,B(Ua,s),Oo(e,t,r,n),r=hi?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,a,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ni(0,zi,e.memoizedState.cache),wi();break;case 27:case 5:J(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ni(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(Oa(t),null!==(e=al(e,t,n))?e.sibling:null);Oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,zo(e,t,n,t.pendingProps);case 24:Ni(0,zi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Ro=0!==(131072&e.flags)}else Ro=!1,hi&&0!==(1048576&t.flags)&&si(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===_){t.tag=11,t=Lo(null,t,e,r,n);break e}if(i===N){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=D(e)||e,Error(s(306,t,""))}Ur(e)?(r=So(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Ko(null,t,e,r,n))}return t;case 0:return Ko(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,i=So(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ya(e,t),Ea(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ni(0,zi,r),r!==a.cache&&Ii(t,[zi],n,!0),Sa(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==i){ki(i=Yr(Error(s(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Rd(e.firstChild),ui=t,hi=!0,fi=null,pi=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=al(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=vd(G.current).createElement(n))[Be]=t,r[qe]=e,fd(r,n,e),tt(r),t.stateNode=r):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&hi&&(r=t.stateNode=Fd(t.type,t.pendingProps,G.current),ui=t,pi=!0,i=di,Td(t.type)?(Od=i,di=Rd(r.firstChild)):di=i),Oo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,di=Rd(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),J(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,wd(i,a)?r=null:null!==o&&wd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),dh._currentValue=i),Ho(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return Xo(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pa(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ni(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=Di(i)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Uo(null,e);if(La(t),(e=di)?null!==(e=null!==(e=Pd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Bo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Ro||i){if(null!==(r=mc)&&0!==(o=Le(r,n))&&o!==a.retryLane)throw a.retryLane=o,Rr(e,o),Yc(r,e,o),Do;ou(),t=qo(e,t,n)}else e=a.treeContext,di=Rd(o.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=Vr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zo(e,t,n,t.pendingProps);case 24:return ji(t),r=Di(zi),null===e?(null===(i=Yi())&&(i=mc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},va(t),Ni(0,zi,i)):(0!==(e.lanes&n)&&(ya(e,t),Ea(t,null,null,n),Sa()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ni(0,zi,r)):(r=a.cache,Ni(0,zi,r),r!==i.cache&&Ii(t,[zi],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw aa=ta,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw aa=ta,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ic|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ti(zi),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),fl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(fl(t),ul(t,a)):(fl(t),cl(t,i,0,0,n))):a?a!==e.memoizedState?(ll(t),fl(t),ul(t,a)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(X(t),n=G.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=K.current,bi(t)?vi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(X(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(a=K.current,bi(t))vi(t);else{var o=vd(G.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Be]=t,a[qe]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(fd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=G.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=vd(e).createTextNode(r))[Be]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Be]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(za(t),t):(za(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Be]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(za(t),t):(za(t),null)}return za(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return $(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ti(t.type),fl(t),null;case 19:if(V(Ua),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)hl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Va(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Ua,1&Ua.current|2),hi&&ai(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ce()>Oc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Va(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!hi)return fl(t),null}else 2*ce()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ce(),e.sibling=null,n=Ua.current,B(Ua,i?1&n|2:1&n),hi&&ai(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return za(t),ja(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ti(zi),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ti(zi),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(za(t),null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(za(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Ua),null;case 4:return $(),null;case 10:return Ti(t.type),null;case 22:case 23:return za(t),ja(),null!==e&&V(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ti(zi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ti(zi),$();break;case 26:case 27:case 5:X(t);break;case 4:$();break;case 31:null!==t.memoizedState&&za(t);break;case 13:za(t);break;case 19:V(Ua);break;case 10:Ti(t.type);break;case 22:case 23:za(t),ja(),null!==e&&V(Qi);break;case 24:Ti(zi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Su(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Su(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Su(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ta(t,n)}catch(r){Su(e,e.return,r)}}}function wl(e,t,n){n.props=So(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Su(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Su(e,t,a)}else n.current=null}function _l(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Su(e,e.return,i)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void bt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||dd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&dd(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?kt(e,!!n,f,!1):!!r!==!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&dd(e,t,o,i,r,a)}return void _t(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(It(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[qe]=t}catch(i){Su(e,e.return,i)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Nl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Dt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Be]=e,t[qe]=n}catch(a){Su(e,e.return,a)}}var Al=!1,Pl=!1,jl=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&vl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Su(n,n.return,s)}else{var i=So(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Su(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ta(e,t)}catch(s){Su(n,n.return,s)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&r&&_l(n),512&r&&xl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Vl(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Pl,i=Al;var a=Pl;Al=r,(Pl=t)&&!a?Jl(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Al=i,Pl=a}break;case 30:break;default:Yl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Pl||kl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||kl(n,t);var r=Ml,i=Fl;Td(n.type)&&(Ml=n.stateNode,Fl=!1),zl(e,t,n),zd(n.stateNode),Ml=r,Fl=i;break;case 5:Pl||kl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,zl(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(s){Su(n,t,s)}else try{Ml.removeChild(n.stateNode)}catch(s){Su(n,t,s)}break;case 18:null!==Ml&&(Fl?(Cd(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kh(e)):Cd(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,zl(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Pl||yl(4,n,t),zl(e,t,n);break;case 1:Pl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,zl(e,t,n),Pl=r;break;default:zl(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kh(e)}catch(n){Su(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kh(e)}catch(n){Su(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));Ul(a,o,i),Ml=null,Fl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Kl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Kl;if(Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ye]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),fd(a,r,n),a[Be]=e,tt(a),r=a;break e;case"link":var o=rh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Be]=e,tt(a),r=a}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Xd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(i,e.type,e.stateNode):Xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Pl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Su(e,e.return,m)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(jl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Su(e,e.return,m)}}break;case 3:if(nh=null,i=Kl,Kl=Bd(t.containerInfo),Hl(t,e),Kl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kh(t.containerInfo)}catch(m){Su(e,e.return,m)}jl&&(jl=!1,Ql(e));break;case 4:r=Kl,Kl=Bd(e.stateNode.containerInfo),Hl(t,e),Gl(e),Kl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Dc=ce()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Pl;if(Al=u||i,Pl=d||c,Hl(t,e),Pl=d,Al=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Pl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Su(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Su(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Id(p,!0):Id(c.stateNode,!1)}catch(m){Su(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,Nl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),Cl(e,Nl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Tl(e,Nl(e),o);break;default:throw Error(s(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),$l(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),$l(t);break;case 27:zd(t.stateNode);case 26:case 5:kl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Jl(i,a,n),vl(4,a);break;case 1:if(Jl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Su(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Na(l[i],o)}catch(c){Su(r,r.return,c)}}n&&64&s&&bl(a),xl(a,a.return);break;case 27:Il(a);case 26:case 5:Jl(i,a,n),n&&null===r&&4&s&&_l(a),xl(a,a.return);break;case 12:Jl(i,a,n);break;case 31:Jl(i,a,n),n&&4&s&&Vl(i,a);break;case 13:Jl(i,a,n),n&&4&s&&Bl(i,a);break;case 22:null===a.memoizedState&&Jl(i,a,n),xl(a,a.return);break;case 30:break;default:Jl(i,a,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(a,s,o,l,i),vl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(a,s,o,l,i):rc(a,s):(u._visibility|=2,nc(a,s,o,l,i)),i&&2048&c&&Xl(s.alternate,s);break;case 24:nc(a,s,o,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:nc(a,s,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),a=t.querySelector(Qd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void tt(a);a=t.ownerDocument||t,r=Yd(r),(i=Ud.get(i))&&eh(r,i),tt(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Kl;Kl=Bd(e.stateNode.containerInfo),ac(e,t,n),Kl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,a=r.return;if(Ll(r),r===n){Rl=null;break e}if(null!==i){i.return=a,Rl=i;break e}Rl=a}}}var hc={getCacheForType:function(e){var t=Di(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Di(zi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,xc=!1,kc=!1,_c=0,Sc=0,Ec=0,Nc=0,Tc=0,Cc=0,Ic=0,Ac=null,Pc=null,jc=!1,Dc=0,Rc=0,Oc=1/0,Lc=null,Mc=null,Fc=0,zc=null,Uc=null,Vc=0,Bc=0,qc=null,Hc=null,Kc=0,Wc=null;function Gc(){return 0!==(2&pc)&&0!==vc?vc&-vc:null!==O.T?qu():ze()}function Qc(){if(0===Cc)if(0===(536870912&vc)||hi){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Cc=e}else Cc=536870912;return null!==(e=Da.current)&&(e.flags|=32),Cc}function Yc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,Cc,!1)),De(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Nc|=n),4===Sc&&Zc(e,vc,Cc,!1)),Lu(e))}function $c(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=au(),i=su();mc!==e||vc!==t?(Lc=null,Oc=ce()+500,nu(e,t)):xc=Ie(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var a=bc;t:switch(yc){case 1:yc=0,bc=null,fu(e,t,a,1);break;case 2:case 9:if(na(a)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Lu(e)},a.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:na(a)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,fu(e,t,a,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?ah(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}yc=0,bc=null,fu(e,t,a,5);break;case 6:yc=0,bc=null,fu(e,t,a,6);break;case 8:tu(),Sc=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return Ei=Si=null,O.H=r,O.A=i,pc=n,null!==gc?0:(mc=null,vc=0,Pr(),Sc)}(e,t):lu(e,t,!0),a=r;;){if(0===i){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Xc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=a,Nc|=a,i=4;break e}a=Pc,Pc=i,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Cc,!wc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Dc+300-ce())){if(Zc(r,t,Cc,!wc),0!==Ce(r,0,!0))break e;Vc=t,r.timeoutHandle=kd(Jc.bind(null,r,n,Pc,Lc,jc,t,Cc,Nc,Ic,wc,a,"Throttled",-0,0),i)}else Jc(r,n,Pc,Lc,jc,t,Cc,Nc,Ic,wc,a,null,-0,0)}break}i=lu(e,t,!1),a=!1}Lu(e)}function Jc(e,t,n,r,i,a,s,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var p=(62914560&a)===a?Dc-ce():(4194048&a)===a?Rc-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&pd(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return Vc=a,e.cancelPendingCommit=p(gu.bind(null,e,t,a,n,r,i,s,o,l,u,d,null,h,f)),void Zc(e,a,s,!c)}gu(e,t,a,n,r,i,s,o,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Zn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-xe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Re(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else Ei=Si=null,os(e=gc),la=null,ca=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,_d(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,tu(),mc=e,gc=n=Vr(e.current,null),vc=t,yc=0,bc=null,wc=!1,xc=Ie(e,t),kc=!1,Ic=Cc=Tc=Nc=Ec=Sc=0,Pc=Ac=null,jc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),a=1<<i;t|=e[i],r&=~a}return _c=t,Pr(),n}function ru(e,t){qa=null,O.H=go,t===Xi||t===ea?(t=sa(),yc=3):t===Zi?(t=sa(),yc=4):yc=t===Do?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Sc=1,Co(e,Yr(t,e.current)))}function iu(){var e=Da.current;return null===e||((4194048&vc)===vc?null===Ra:((62914560&vc)===vc||0!==(536870912&vc))&&e===Ra)}function au(){var e=O.H;return O.H=go,null===e?go:e}function su(){var e=O.A;return O.A=hc,e}function ou(){Sc=4,wc||(4194048&vc)!==vc&&null!==Da.current||(xc=!0),0===(134217727&Ec)&&0===(134217727&Nc)||null===mc||Zc(mc,vc,Cc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=au(),a=su();mc===e&&vc===t||(Lc=null,nu(e,t)),t=!1;var s=Sc;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Da.current&&(t=!0);var c=yc;if(yc=0,bc=null,fu(e,o,l,c),n&&xc){s=0;break e}break;default:c=yc,yc=0,bc=null,fu(e,o,l,c)}}cu(),s=Sc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ei=Si=null,pc=r,O.H=i,O.A=a,null===gc&&(mc=null,vc=0,Pr()),s}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!oe();)du(gc)}function du(e){var t=ol(e.alternate,e,_c);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wo(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Wo(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:os(t);default:gl(n,t),t=ol(n,t=gc=Br(t,_c),_c)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ei=Si=null,os(t),la=null,ca=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Da.current)){switch(n.tag){case 31:case 13:return null===Ra?ou():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(s(435,n.tag))}return Eu(e,r,i),ou(),!1}if(hi)return null!==(t=Da.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&ki(Yr(e=Error(s(422),{cause:r}),n))):(r!==mi&&ki(Yr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),ka(e,i=Ao(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var a=Error(s(520),{cause:r});if(a=Yr(a,n),null===Ac?Ac=[a]:Ac.push(a),4!==Sc&&(Sc=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ka(n,e=Ao(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,jo(i=Po(i),e,n,r),ka(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vc))return Sc=1,Co(e,Yr(n,e.current)),void(gc=null)}catch(a){if(null!==i)throw gc=i,a;return Sc=1,Co(e,Yr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:xc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Da.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,_c);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Sc&&(Sc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Sc=6,gc=null}function gu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Fc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-xe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Ar,o,l,c),e===mc&&(gc=mc=null,vc=0),Uc=t,zc=e,Vc=n,Bc=a,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(fe,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=L.p,L.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,ar(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(a=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=So(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Su(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{pc=o,L.p=i,O.T=r}}Fc=1,vu(),yu(),bu()}}function vu(){if(1===Fc){Fc=0;var e=zc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Wl(t,e);var a=gd,s=ir(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&rr(o.ownerDocument.documentElement,o)){if(null!==l&&ar(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=nr(o,m),y=nr(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{pc=i,L.p=r,O.T=n}}e.current=t,Fc=2}}function yu(){if(2===Fc){Fc=0;var e=zc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Ol(e,t.alternate,t)}finally{pc=i,L.p=r,O.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,le();var e=zc,t=Uc,n=Vc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Uc=zc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Fe(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{O.T=t,L.p=i}}0!==(3&Vc)&&xu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wc?Kc++:(Kc=0,Wc=e):Kc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function xu(){return vu(),yu(),bu(),ku()}function ku(){if(5!==Fc)return!1;var e=zc,t=Bc;Bc=0;var n=Fe(Vc),r=O.T,i=L.p;try{L.p=32>n?32:n,O.T=null,n=qc,qc=null;var a=zc,o=Vc;if(Fc=0,Uc=zc=null,Vc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,cc(a.current),tc(a,a.current,o,n),pc=l,Mu(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,a)}catch(c){}return!0}finally{L.p=i,O.T=r,wu(e,t)}}function _u(e,t,n){t=Yr(n,t),null!==(e=wa(e,t=Ao(e.stateNode,t,2),2))&&(De(e,2),Lu(e))}function Su(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Yr(n,e),null!==(r=wa(t,n=Po(2),2))&&(jo(n,r,t,e),De(r,2),Lu(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===Sc||3===Sc&&(62914560&vc)===vc&&300>ce()-Dc?0===(2&pc)&&nu(e,0):Tc|=n,Ic===vc&&(Ic=0)),Lu(e)}function Tu(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(De(e,t),Lu(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}var Au=null,Pu=null,ju=!1,Du=!1,Ru=!1,Ou=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?Au=Pu=e:Pu=Pu.next=e),Du=!0,ju||(ju=!0,Ed(function(){0!==(6&pc)?ae(de,Fu):zu()}))}function Mu(e,t){if(!Ru&&Du){Ru=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=vc,0===(3&(a=Ce(r,r===mc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Ru=!1}}function Fu(){zu()}function zu(){Du=ju=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Ou);for(var t=ce(),n=null,r=Au;null!==r;){var i=r.next,a=Uu(r,t);0===a?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&a))&&(Du=!0)),r=i}0!==Fc&&5!==Fc||Mu(e,!1),0!==Ou&&(Ou=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-xe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ae(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=vc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Fe(n)){case 2:case 8:n=he;break;case 32:default:n=fe;break;case 268435456:n=me}return r=Vu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=Ce(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,r,t),Uu(e,ce()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function Bu(e,t){if(xu())return null;$c(e,t,!0)}function qu(){if(0===Ou){var e=Hi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Ou=e}return Ou}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:jt(""+e)}function Ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Er.length;Wu++){var Gu=Er[Wu];Nr(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Nr(vr,"onAnimationEnd"),Nr(yr,"onAnimationIteration"),Nr(br,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(wr,"onTransitionRun"),Nr(xr,"onTransitionStart"),Nr(kr,"onTransitionCancel"),Nr(_r,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function $u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Tr(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Tr(u)}i.currentTarget=null,a=l}}}}function Ju(e,t){var n=t[Ke];void 0===n&&(n=t[Ke]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,nt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Th(t)){case 2:var i=xh;break;case 8:i=kh;break;default:i=_h}n=i.bind(null,t,n,e),i=void 0,!qt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Je(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Ut(function(){var r=a,i=Ot(n),s=[];e:{var o=Sr.get(e);if(void 0!==o){var c=rn,u=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=un;break;case"focusout":u="blur",c=un;break;case"beforeblur":case"afterblur":c=un;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case vr:case yr:case br:c=dn;break;case _r:c=kn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Vt(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[He])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=ln,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Ze(c),p=null==u?o:Ze(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,Je(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(s,o,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(o=r?Ze(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Bn;else if(Ln(o))if(qn)y=Xn;else{y=$n;var b=Yn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&It(r.elementType)&&(y=Bn):y=Jn;switch(y&&(y=y(e,r))?Mn(s,y,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&xt(o,"number",o.value)),b=r?Ze(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(or=b,lr=r,cr=null);break;case"focusout":cr=lr=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(s,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(s,n,i)}var w;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(w=Qt()):(Wt="value"in(Kt=i)?Kt.value:Kt.textContent,Rn=!0)),0<(b=id(r,x)).length&&(x=new fn(x,e,null,n,i),s.push({event:x,listeners:b}),w?x.data=w:null!==(w=Dn(n))&&(x.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Pn=!0,An);case"textInput":return(e=t.data)===An&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!Nn&&jn(e,t)?(e=Qt(),Gt=Wt=Kt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=id(r,"onBeforeInput")).length&&(b=new fn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[qe]||null).action),s=r.submitter;s&&null!==(t=(t=s[qe]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new rn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=s?Ku(i,s):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Ku(i,s):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}$u(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Vt(e,n))&&r.unshift(rd(e,i,a)),null!=(i=Vt(e,t))&&r.push(rd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Vt(n,a))&&s.unshift(rd(n,c,l)):i||null!=(c=Vt(n,a))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ut(e,"class",r);break;case"tabIndex":ut(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ut(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){ut(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=jt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=jt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),ct(e,"popover",r);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ct(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=At.get(n)||n,r)}}function hd(e,t,n,r,i,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[qe]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ct(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,o,n,null)}}return a&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void wt(e,r,l,c,u,o,a,!1);case"select":for(a in Ju("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(o in Ju("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,o,l,n,null)}return void St(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)Ju(Qu[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,_d="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(Nd)}:kd;function Nd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Cd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Kh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Ye]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);Kh(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function jd(e){return"$?"===e.data||"$~"===e.data}function Dd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Ud=new Map,Vd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=L.d;L.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qd.r(e)},D:function(e){qd.D(e),Kd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Kd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var a=i;switch(t){case"style":a=Gd(e);break;case"script":a=$d(e)}Ud.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(a))||"script"===t&&r.querySelector(Jd(a))||(fd(t=r.createElement("link"),"link",e),tt(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=$d(e)}if(!Ud.has(a)&&(e=p({rel:"modulepreload",href:e},t),Ud.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(a)))return}fd(r=n.createElement("link"),"link",e),tt(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=et(n).hoistableScripts,i=$d(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=p({src:e,async:!0},t),(t=Ud.get(i))&&th(e,t),tt(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var i=et(r).hoistableStyles,a=Gd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Qd(a)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(a))&&eh(e,n);var l=s=r.createElement("link");tt(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=et(n).hoistableScripts,i=$d(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&th(e,t),tt(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Kd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Vd.has(i)||(Vd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),tt(t),r.head.appendChild(t)))}}function Wd(e,t,n,r){var i,a,o,l,c=(c=G.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=et(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=et(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),fd(a,"link",o),tt(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(n),(r=(n=et(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gd(e){return'href="'+yt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+yt(e)+'"]'}function Jd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,tt(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return tt(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var a=e.querySelector(Qd(i));if(a)return t.state.loading|=4,t.instance=a,tt(a),a;r=Yd(n),(i=Ud.get(i))&&eh(r,i),tt(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(a,"link",r),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=$d(n.src),(i=e.querySelector(Jd(a)))?(t.instance=i,tt(i),i):(r=n,(i=Ud.get(a))&&th(r=p({},n),i),tt(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ye]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:k,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function hh(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,a,s,o,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,o),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},va(a),e}function ph(e){return e?e=Mr:Mr}function mh(e,t,n,r,i,a){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=wa(e,r,t))&&(Yc(n,0,t),xa(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Yc(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Rr(e,t=Me(t));null!==n&&Yc(n,0,t),vh(e,t)}}var wh=!0;function xh(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=2,_h(e,t,n,r)}finally{L.p=a,O.T=i}}function kh(e,t,n,r){var i=O.T;O.T=null;var a=L.p;try{L.p=8,_h(e,t,n,r)}finally{L.p=a,O.T=i}}function _h(e,t,n,r){if(wh){var i=Sh(r);if(null===i)nd(e,t,r,Eh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ih=Mh(Ih,e,t,n,r,i),!0;case"dragenter":return Ah=Mh(Ah,e,t,n,r,i),!0;case"mouseover":return Ph=Mh(Ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jh.set(a,Mh(jh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dh.set(a,Mh(Dh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==i;){var a=Xe(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Te(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-xe(s);o.entanglements[1]|=l,s&=~l}Lu(a),0===(6&pc)&&(Oc=ce()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Rr(a,2))&&Yc(o,0,2),eu(),vh(a,2)}if(null===(a=Sh(r))&&nd(e,t,r,Eh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Sh(e){return Nh(e=Ot(e))}var Eh=null;function Nh(e){if(Eh=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Th(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case de:return 2;case he:return 8;case fe:case pe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Ch=!1,Ih=null,Ah=null,Ph=null,jh=new Map,Dh=new Map,Rh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(t.pointerId)}}function Mh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Xe(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sh(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Uh(e,t,n){zh(e)&&n.delete(t)}function Vh(){Ch=!1,null!==Ih&&zh(Ih)&&(Ih=null),null!==Ah&&zh(Ah)&&(Ah=null),null!==Ph&&zh(Ph)&&(Ph=null),jh.forEach(Uh),Dh.forEach(Uh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Nh(r||n))continue;break}var a=Xe(n);null!==a&&(e.splice(t,3),t-=3,to(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Kh(e){function t(t){return Bh(t,e)}null!==Ih&&Bh(Ih,e),null!==Ah&&Bh(Ah,e),null!==Ph&&Bh(Ph,e),jh.forEach(t),Dh.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[qe]||null;if("function"===typeof a)s||Hh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[qe]||null)o=s.formAction;else if(null!==Nh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[He]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Fh(e)}};var Yh=i.version;if("19.2.0"!==Yh)throw Error(s(527,Yh,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var $h={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ye=Jh.inject($h),be=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=Eo,a=No,l=To;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,a,l,Wh),e[He]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=Eo,l=No,c=To,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,a,l,c,Wh)).context=ph(null),n=t.current,(i=ba(r=Me(r=Gc()))).callback=null,wa(n,i,r),n=r,t.current.lanes=n,De(t,n),Lu(t),e[He]=t.current,ed(e),new Qh(t)},t.version="19.2.0"},7118:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7133:(e,t,n)=>{n.d(t,{d:()=>i});var r=n(5043);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,i]=(0,r.useState)(e);return(0,r.useEffect)(()=>{const n=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}},7719:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7784:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(2555),i=n(3986),a=n(5043);const s=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],u=(0,a.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:h="",children:f,iconNode:p}=e,m=(0,i.A)(e,c);return(0,a.createElement)("svg",(0,r.A)((0,r.A)((0,r.A)({ref:t},l),{},{width:s,height:s,stroke:n,strokeWidth:d?24*Number(u)/Number(s):u,className:o("lucide",h)},!f&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...p.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(f)?f:[f]])}),d=["className"],h=(e,t)=>{const n=(0,a.forwardRef)((n,l)=>{let{className:c}=n,h=(0,i.A)(n,d);return(0,a.createElement)(u,(0,r.A)({ref:l,iconNode:t,className:o("lucide-".concat((f=s(e),f.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),c)},h));var f});return n.displayName=s(e),n}},7819:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7925:(e,t,n)=>{n.d(t,{d:()=>s});var r=n(5043),i=n(6667),a=n(8629);function s(e){const[t,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return;const t=a.ON.gameSchedule(),r=(0,i.H9)(e,t),s=(0,i.aQ)(r,e=>{e.exists()?n(e.data()):n(null)},e=>{console.error("Error fetching game schedule:",e),n(null)});return()=>s()},[e]),t}},7950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8629:(e,t,n)=>{function r(){return"artifacts/".concat("undefined"!==typeof __app_id?__app_id:"default-app-id","/public/data")}n.d(t,{ON:()=>i});const i={players:()=>"".concat(r(),"/soccer_players"),playerPoints:()=>"".concat(r(),"/playerPoints"),teams:()=>"".concat(r(),"/teams/current"),gameSchedule:()=>"".concat(r(),"/gameSchedule/config"),users:()=>"".concat(r(),"/users"),notifications:()=>"".concat(r(),"/notifications"),userNotifications:()=>"".concat(r(),"/userNotifications"),kudos:()=>"".concat(r(),"/kudos"),motm:()=>"".concat(r(),"/manOfTheMatch"),motmAwards:()=>"".concat(r(),"/motmAwards"),goalsAssistsSubmissions:()=>"".concat(r(),"/goalsAssistsSubmissions"),questions:()=>"".concat(r(),"/questions"),completedGames:()=>"".concat(r(),"/completedGames/status"),gameResults:()=>"".concat(r(),"/gameResults"),teamAssignments:()=>"".concat(r(),"/teamAssignments/current")}},8693:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},8853:(e,t,n)=>{e.exports=n(5896)},8911:(e,t,n)=>{n.d(t,{Ah:()=>i,QH:()=>a,lP:()=>r});const r=["GK","LB","RB","CB","CDM","CM","CAM","ST","LW","RW"],i={GK:"Goalkeeper",LB:"Left Back",RB:"Right Back",CB:"Center Back",CDM:"Center Defensive Midfielder",CM:"Center Midfielder",CAM:"Center Attacking Midfielder",ST:"Striker",LW:"Left Winger",RW:"Right Winger"},a={1:"Newbie",2:"Rookie",3:"Beginner",4:"Intermediate",5:"Average",6:"Solid",7:"Advanced",8:"Veteran",9:"Elite",10:"Legend"}},9292:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},9606:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>i});var r=n(1776);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const a="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===a?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return this.component?this.component.multipleInstances?e:a:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9855:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},9989:(e,t,n)=>{n.d(t,{A:()=>r});const r=(0,n(7784).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{26:"89a82092",87:"b690a945",399:"f129d98b",453:"4f7232e5",461:"70437a5c",832:"5db3644b",927:"6804a589"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="equate:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/equate/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[s,o,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkequate=self.webpackChunkequate||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(5043),i=n(4391),a=n(2555),s=n(7784);const o=(0,s.A)("list-checks",[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]]);var l=n(5347),c=n(1130),u=n(2574),d=n(2489);const h=(0,s.A)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var f=n(614),p=n(7719),m=n(1150);(0,m.KO)("firebase","12.6.0","app");var g=n(2965),v=n(1776),y=n(9606),b=n(2799);const w="@firebase/installations",x="0.6.19",k=1e4,_="w:".concat(x),S="FIS_v2",E=36e5,N={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},T=new v.FA("installations","Installations",N);function C(e){return e instanceof v.g&&e.code.includes("request-failed")}function I(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function A(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function P(e,t){const n=(await t.json()).error;return T.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function j(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function D(e,t){let{refreshToken:n}=t;const r=j(e);return r.append("Authorization",function(e){return"".concat(S," ").concat(e)}(n)),r}async function R(e){const t=await e();return t.status>=500&&t.status<600?e():t}function O(e){return new Promise(t=>{setTimeout(t,e)})}const L=/^[cdef][\w-]{21}$/;function M(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return L.test(t)?t:""}catch(e){return""}}function F(e){return"".concat(e.appName,"!").concat(e.appId)}const z=new Map;function U(e,t){const n=F(e);V(n,t),function(e,t){const n=q();n&&n.postMessage({key:e,fid:t});H()}(n,t)}function V(e,t){const n=z.get(e);if(n)for(const r of n)r(t)}let B=null;function q(){return!B&&"BroadcastChannel"in self&&(B=new BroadcastChannel("[Firebase] FID Change"),B.onmessage=e=>{V(e.data.key,e.data.fid)}),B}function H(){0===z.size&&B&&(B.close(),B=null)}const K="firebase-installations-store";let W=null;function G(){return W||(W=(0,b.P2)("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(K)}})),W}async function Q(e,t){const n=F(e),r=(await G()).transaction(K,"readwrite"),i=r.objectStore(K),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||U(e,t.fid),t}async function Y(e){const t=F(e),n=(await G()).transaction(K,"readwrite");await n.objectStore(K).delete(t),await n.done}async function $(e,t){const n=F(e),r=(await G()).transaction(K,"readwrite"),i=r.objectStore(K),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||U(e,s.fid),s}async function J(e){let t;const n=await $(e.appConfig,n=>{const r=function(e){const t=e||{fid:M(),registrationStatus:0};return ee(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(T.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=I(n),s=j(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:S,appId:n.appId,sdkVersion:_},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await R(()=>fetch(a,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:A(e.authToken)}}throw await P("Create Installation",u)}(e,t);return Q(e.appConfig,n)}catch(n){throw C(n)&&409===n.customData.serverCode?await Y(e.appConfig):await Q(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:X(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function X(e){let t=await Z(e.appConfig);for(;1===t.registrationStatus;)await O(100),t=await Z(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await J(e);return n||t}return t}function Z(e){return $(e,e=>{if(!e)throw T.create("installation-not-found");return ee(e)})}function ee(e){return 1===(t=e).registrationStatus&&t.registrationTime+k<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function te(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(I(e),"/").concat(n,"/authTokens:generate")}(n,t),a=D(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:_,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await R(()=>fetch(i,l));if(c.ok){return A(await c.json())}throw await P("Generate Auth Token",c)}async function ne(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await $(e.appConfig,r=>{if(!ie(r))throw T.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+E}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await re(e.appConfig);for(;1===n.authToken.requestStatus;)await O(100),n=await re(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ne(e,t):r}(e,n),r;{if(!navigator.onLine)throw T.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return(0,a.A)((0,a.A)({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await te(e,t),r=(0,a.A)((0,a.A)({},t),{},{authToken:n});return await Q(e.appConfig,r),n}catch(n){if(!C(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=(0,a.A)((0,a.A)({},t),{},{authToken:{requestStatus:0}});await Q(e.appConfig,n)}else await Y(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function re(e){return $(e,e=>{if(!ie(e))throw T.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+k<Date.now()?(0,a.A)((0,a.A)({},e),{},{authToken:{requestStatus:0}}):e;var n})}function ie(e){return void 0!==e&&2===e.registrationStatus}async function ae(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await J(e);t&&await t}(n);return(await ne(n,t)).token}function se(e){return T.create("missing-app-config-values",{valueName:e})}const oe="installations",le=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw se("App Configuration");if(!e.name)throw se("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw se(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:(0,m.j6)(t,"heartbeat"),_delete:()=>Promise.resolve()}},ce=e=>{const t=e.getProvider("app").getImmediate(),n=(0,m.j6)(t,oe).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await J(t);return r?r.catch(console.error):ne(t).catch(console.error),n.fid}(n),getToken:e=>ae(n,e)}};(0,m.om)(new y.uA(oe,le,"PUBLIC")),(0,m.om)(new y.uA("installations-internal",ce,"PRIVATE")),(0,m.KO)(w,x),(0,m.KO)(w,x,"esm2020");const ue="analytics",de="https://www.googletagmanager.com/gtag/js",he=new g.Vy("@firebase/analytics"),fe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pe=new v.FA("analytics","Analytics",fe);function me(e){if(!e.startsWith(de)){const t=pe.create("invalid-gtag-resource",{gtagURL:e});return he.warn(t.message),""}return e}function ge(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function ve(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:me}),r=document.createElement("script"),i="".concat(de,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ye(e,t,n,r){return async function(i){try{for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await ge(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(a){he.error(a)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=s;await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await ge(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(o){he.error(o)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){he.error(l)}}}const be=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function we(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function xe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw pe.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw pe.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new _e;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),ke({appId:r,apiKey:i,measurementId:a},s,o,t)}async function ke(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:be;const{appId:s,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(pe.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(o)return he.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:o};throw c}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:we(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{var s;const t=await a.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(o){}throw pe.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(s),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof v.g)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(a.deleteThrottleMetadata(s),o)return he.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:o};throw c}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?(0,v.p9)(i,a.intervalMillis,30):(0,v.p9)(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return a.setThrottleMetadata(s,u),he.debug("Calling attemptFetch again in ".concat(r," millis")),ke(e,u,n,a)}}class _e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Se,Ee;function Ne(e){Ee=e}function Te(e){Se=e}async function Ce(e,t,n,r,i,a,s){var o;const l=xe(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&he.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>he.error(e)),t.push(l);const c=async function(){if(!(0,v.zW)())return he.warn(pe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,v.eX)()}catch(e){return he.warn(pe.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(de)&&n.src.includes(e))return n;return null})(a)||ve(a,u.measurementId),Ee&&(i("consent","default",Ee),Ne(void 0)),i("js",new Date);const h=null!==(o=null===s||void 0===s?void 0:s.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Se&&(i("set",Se),Te(void 0)),u.measurementId}class Ie{constructor(e){this.app=e}_delete(){return delete Ae[this.app.options.appId],Promise.resolve()}}let Ae={},Pe=[];const je={};let De,Re,Oe="dataLayer",Le="gtag",Me=!1;function Fe(e,t,n){!function(){const e=[];if((0,v.sr)()&&e.push("This is a browser extension environment."),(0,v.dM)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=pe.create("invalid-analytics-context",{errorInfo:t});he.warn(n.message)}}();const r=e.options.appId;if(!r)throw pe.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw pe.create("no-api-key");he.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Ae[r])throw pe.create("already-exists",{id:r});if(!Me){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Oe);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=ye(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(Ae,Pe,je,Oe,Le);Re=e,De=t,Me=!0}Ae[r]=Ce(e,Pe,je,t,De,Oe,n);return new Ie(e)}function ze(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,m.Sx)();e=(0,v.Ku)(e);const t=(0,m.j6)(e,ue);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,m.j6)(e,ue);if(n.isInitialized()){const e=n.getImmediate();if((0,v.bD)(t,n.getOptions()))return e;throw pe.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}function Ue(e,t,n){e=(0,v.Ku)(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Re,Ae[e.app.options.appId],t,n).catch(e=>he.error(e))}function Ve(e,t,n,r){e=(0,v.Ku)(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,(0,a.A)((0,a.A)({},r),{},{send_to:i}))}}(Re,Ae[e.app.options.appId],t,n,r).catch(e=>he.error(e))}const Be="@firebase/analytics",qe="0.10.19";(0,m.om)(new y.uA(ue,(e,t)=>{let{options:n}=t;return Fe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,m.om)(new y.uA("analytics-internal",function(e){try{const t=e.getProvider(ue).getImmediate();return{logEvent:(e,n,r)=>Ve(t,e,n,r),setUserProperties:(e,n)=>Ue(t,e,n)}}catch(t){throw pe.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,m.KO)(Be,qe),(0,m.KO)(Be,qe,"esm2020");var He=n(3986);const Ke=["providerId"],We=["uid","auth","stsTokenManager"],Ge=["providerId","signInMethod"];function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ye=Qe,$e=new v.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new g.Vy("@firebase/auth");function Xe(e){if(Je.logLevel<=g.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Je.error("Auth (".concat(m.MF,"): ").concat(e),...n)}}function Ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw rt(e,...n)}function et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rt(e,...n)}function tt(e,t,n){const r=(0,a.A)((0,a.A)({},Ye()),{},{[t]:n});return new v.FA("auth","Firebase",r).create(t,{appName:e.name})}function nt(e){return tt(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return $e.create(e,...n)}function it(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw rt(t,...r)}}function at(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xe(t),new Error(t)}function st(e,t){e||at(t)}function ot(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function lt(){return"http:"===ct()||"https:"===ct()}function ct(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ut{constructor(e,t){this.shortDelay=e,this.longDelay=t,st(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,v.jZ)()||(0,v.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(lt()||(0,v.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function dt(e,t){st(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ht{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mt=new ut(3e4,6e4);function gt(e,t){return e.tenantId&&!t.tenantId?(0,a.A)((0,a.A)({},t),{},{tenantId:e.tenantId}):t}async function vt(e,t,n,r){return yt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=(0,v.Am)((0,a.A)({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=(0,a.A)({method:t,headers:l},i);return(0,v.c1)()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,v.zJ)(e.emulatorConfig.host)&&(c.credentials="include"),ht.fetch()(await wt(e,e.config.apiHost,n,o),c)})}async function yt(e,t,n){e._canInitEmulator=!1;const r=(0,a.A)((0,a.A)({},ft),t);try{const t=new kt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw _t(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _t(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw _t(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw _t(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw tt(e,o,s);Ze(e,o)}}catch(i){if(i instanceof v.g)throw i;Ze(e,"network-request-failed",{message:String(i)})}}async function bt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await vt(e,t,n,r,i);return"mfaPendingCredential"in a&&Ze(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function wt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?dt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(pt.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function xt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(et(this.auth,"network-request-failed")),mt.get())})}}function _t(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=et(e,t,r);return i.customData._tokenResponse=n,i}function St(e){return void 0!==e&&void 0!==e.enterprise}class Et{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nt(e,t){return vt(e,"GET","/v2/recaptchaConfig",gt(e,t))}async function Tt(e,t){return vt(e,"POST","/v1/accounts:lookup",t)}function Ct(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function It(e){return 1e3*Number(e)}function At(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,v.u)(n);return e?JSON.parse(e):(Xe("Failed to decode base64 JWT payload"),null)}catch(i){return Xe("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Pt(e){const t=At(e);return it(t,"internal-error"),it("undefined"!==typeof t.exp,"internal-error"),it("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function jt(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof v.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Dt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Rt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ct(this.lastLoginAt),this.creationTime=Ct(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ot(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jt(e,Tt(n,{idToken:r}));it(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Lt(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Rt(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Lt(e){return e.map(e=>{let{providerId:t}=e,n=(0,He.A)(e,Ke);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it("undefined"!==typeof e.idToken,"internal-error"),it("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Pt(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){it(0!==e.length,"internal-error");const t=Pt(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await yt(e,{},async()=>{const n=(0,v.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await wt(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&(0,v.zJ)(e.emulatorConfig.host)&&(o.credentials="include"),ht.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Mt;return n&&(it("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(it("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(it("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return at("not implemented")}}function Ft(e,t){it("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class zt{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=(0,He.A)(e,We);this.providerId="firebase",this.proactiveRefresh=new Dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jt(this,this.stsTokenManager.getToken(this.auth,e));return it(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,v.Ku)(e),r=await n.getIdToken(t),i=At(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ct(It(i.auth_time)),issuedAtTime:Ct(It(i.iat)),expirationTime:Ct(It(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,v.Ku)(e);await Ot(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,a.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zt((0,a.A)((0,a.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ot(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,m.xZ)(this.auth.app))return Promise.reject(nt(this.auth));const e=await this.getIdToken();return await jt(this,async function(e,t){return vt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,a.A)((0,a.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,a.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:_}=t;it(b&&_,e,"internal-error");const S=Mt.fromJSON(this.name,_);it("string"===typeof b,e,"internal-error"),Ft(d,e.name),Ft(h,e.name),it("boolean"===typeof w,e,"internal-error"),it("boolean"===typeof x,e,"internal-error"),Ft(f,e.name),Ft(p,e.name),Ft(m,e.name),Ft(g,e.name),Ft(v,e.name),Ft(y,e.name);const E=new zt({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:S,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>(0,a.A)({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Mt;r.updateFromServerResponse(t);const i=new zt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ot(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];it(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Lt(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new Mt;s.updateFromIdToken(n);const o=new zt({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Rt(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const Ut=new Map;function Vt(e){st(e instanceof Function,"Expected a class definition");let t=Ut.get(e);return t?(st(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ut.set(e,t),t)}class Bt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bt.type="NONE";const qt=Bt;function Ht(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Kt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ht(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ht("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Tt(this.auth,{idToken:e}).catch(()=>{});return t?zt._fromGetAccountInfoResponse(this.auth,t,e):null}return zt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Kt(Vt(qt),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Vt(qt);const a=Ht(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Tt(e,{idToken:t}).catch(()=>{});if(!r)break;n=await zt._fromGetAccountInfoResponse(e,r,t)}else n=zt._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new Kt(i,e,n)):new Kt(i,e,n)}}function Wt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($t(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xt(t))return"Blackberry";if(Zt(t))return"Webos";if(Qt(t))return"Safari";if((t.includes("chrome/")||Yt(t))&&!t.includes("edge/"))return"Chrome";if(Jt(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Gt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/firefox\//i.test(e)}function Qt(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/crios\//i.test(e)}function $t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/iemobile/i.test(e)}function Jt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/android/i.test(e)}function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/blackberry/i.test(e)}function Zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/webos/i.test(e)}function en(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)();return en(e)||Jt(e)||Zt(e)||Xt(e)||/windows phone/i.test(e)||$t(e)}function nn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wt((0,v.ZQ)());break;case"Worker":t="".concat(Wt((0,v.ZQ)()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(m.MF,"/").concat(r)}class rn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class an{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class sn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ln(this),this.idTokenSubscription=new ln(this),this.beforeStateQueue=new rn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vt(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Kt.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Tt(this,{idToken:e}),n=await zt._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,m.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ot(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,m.xZ)(this.app))return Promise.reject(nt(this));const t=e?(0,v.Ku)(e):null;return t&&it(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,m.xZ)(this.app)?Promise.reject(nt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,m.xZ)(this.app)?Promise.reject(nt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vt(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return vt(e,"GET","/v2/passwordPolicy",gt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new an(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new v.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return vt(e,"POST","/v2/accounts:revokeToken",gt(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vt(e)||this._popupRedirectResolver;it(t,this,"argument-error"),this.redirectPersistenceManager=await Kt.create(this,[Vt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,m.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Je.logLevel<=g.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Je.warn("Auth (".concat(m.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function on(e){return(0,v.Ku)(e)}class ln{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,v.tD)(e=>this.observer=e)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function un(e){return cn.loadJS(e)}function dn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class hn{constructor(){this.enterprise=new fn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fn{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pn="NO_RECAPTCHA";class mn{constructor(e){this.type="recaptcha-enterprise",this.auth=on(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;St(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(pn)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new hn).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Nt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Et(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&St(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=cn.recaptchaEnterpriseScript;0!==t.length&&(t+=i),un(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function gn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new mn(e);let o;if(i)o=pn;else try{o=await s.verify(n)}catch(c){o=await s.verify(n,!0)}const l=(0,a.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function vn(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await gn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await gn(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await gn(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await gn(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function yn(e){const t=on(e),n=await Nt(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Et(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new mn(t).verify()}}function bn(e,t,n){const r=on(e);it(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=wn(t),{host:s,port:o}=function(e){const t=wn(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xn(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void it((0,v.bD)(c,r.config.emulator)&&(0,v.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,(0,v.zJ)(s)?((0,v.gE)("".concat(a,"//").concat(s).concat(l)),(0,v.P1)("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wn(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class kn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return at("not implemented")}_getIdTokenResponse(e){return at("not implemented")}_linkToIdToken(e,t){return at("not implemented")}_getReauthenticationResolver(e){return at("not implemented")}}async function _n(e,t){return vt(e,"POST","/v1/accounts:signUp",t)}async function Sn(e,t){return bt(e,"POST","/v1/accounts:signInWithPassword",gt(e,t))}class En extends kn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new En(e,t,"password")}static _fromEmailAndCode(e,t){return new En(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Sn,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return bt(e,"POST","/v1/accounts:signInWithEmailLink",gt(e,t))}(e,{email:this._email,oobCode:this._password});default:Ze(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_n,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return bt(e,"POST","/v1/accounts:signInWithEmailLink",gt(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ze(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nn(e,t){return bt(e,"POST","/v1/accounts:signInWithIdp",gt(e,t))}class Tn extends kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Tn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ze("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,He.A)(t,Ge);if(!n||!r)return null;const a=new Tn(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Nn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,v.Am)(t)}return e}}async function Cn(e,t){return vt(e,"POST","/v1/accounts:sendVerificationCode",gt(e,t))}const In={USER_NOT_FOUND:"user-not-found"};class An extends kn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new An({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new An({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return bt(e,"POST","/v1/accounts:signInWithPhoneNumber",gt(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await bt(e,"POST","/v1/accounts:signInWithPhoneNumber",gt(e,t));if(n.temporaryProof)throw _t(e,"account-exists-with-different-credential",n);return n}(e,(0,a.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return bt(e,"POST","/v1/accounts:signInWithPhoneNumber",gt(e,(0,a.A)((0,a.A)({},t),{},{operation:"REAUTH"})),In)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new An({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Pn{constructor(e){var t,n,r,i,a,s;const o=(0,v.I9)((0,v.hp)(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);it(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=(0,v.I9)((0,v.hp)(e)).link,n=t?(0,v.I9)((0,v.hp)(t)).deep_link_id:null,r=(0,v.I9)((0,v.hp)(e)).deep_link_id;return(r?(0,v.I9)((0,v.hp)(r)).link:null)||r||n||t||e}(e);try{return new Pn(t)}catch(n){return null}}}class jn{constructor(){this.providerId=jn.PROVIDER_ID}static credential(e,t){return En._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Pn.parseLink(t);return it(n,"argument-error"),En._fromEmailAndCode(e,n.code,n.tenantId)}}jn.PROVIDER_ID="password",jn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",jn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rn extends Dn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class On extends Rn{constructor(){super("facebook.com")}static credential(e){return Tn._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return On.credential(t.oauthAccessToken)}catch(n){return null}}}On.FACEBOOK_SIGN_IN_METHOD="facebook.com",On.PROVIDER_ID="facebook.com";class Ln extends Rn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Tn._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ln.credential(n,r)}catch(i){return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com",Ln.PROVIDER_ID="google.com";class Mn extends Rn{constructor(){super("github.com")}static credential(e){return Tn._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mn.credential(t.oauthAccessToken)}catch(n){return null}}}Mn.GITHUB_SIGN_IN_METHOD="github.com",Mn.PROVIDER_ID="github.com";class Fn extends Rn{constructor(){super("twitter.com")}static credential(e,t){return Tn._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fn.credential(n,r)}catch(i){return null}}}async function zn(e,t){return bt(e,"POST","/v1/accounts:signUp",gt(e,t))}Fn.TWITTER_SIGN_IN_METHOD="twitter.com",Fn.PROVIDER_ID="twitter.com";class Un{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await zt._fromIdTokenResponse(e,n,r),a=Vn(n);return new Un({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Vn(n);return new Un({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Vn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Bn extends v.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Bn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Bn(e,t,n,r)}}function qn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bn._fromErrorAndOperation(e,n,t,r);throw n})}async function Hn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await jt(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Un._forOperation(e,"link",r)}async function Kn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if((0,m.xZ)(r.app))return Promise.reject(nt(r));const i="reauthenticate";try{const a=await jt(e,qn(r,i,t,e),n);it(a.idToken,r,"internal-error");const s=At(a.idToken);it(s,r,"internal-error");const{sub:o}=s;return it(e.uid===o,r,"user-mismatch"),Un._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Ze(r,"user-mismatch"),a}}async function Wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,m.xZ)(e.app))return Promise.reject(nt(e));const r="signIn",i=await qn(e,r,t),a=await Un._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Gn(e,t){return Wn(on(e),t)}async function Qn(e){const t=on(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Yn(e,t){return vt(e,"POST","/v2/accounts/mfaEnrollment:start",gt(e,t))}new WeakMap;const $n="__sak";class Jn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($n,"1"),this.storage.removeItem($n),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xn extends Jn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,v.lT)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xn.type="LOCAL";const Zn=Xn;function er(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function tr(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class nr{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=tr(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return er(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=tr(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=tr(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=er(n);const i=setInterval(()=>{const e=er(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}nr.type="COOKIE";class rr extends Jn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rr.type="SESSION";const ir=rr;class ar{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ar(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ar.receivers=[];class or{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=sr("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function lr(){return window}function cr(){return"undefined"!==typeof lr().WorkerGlobalScope&&"function"===typeof lr().importScripts}const ur="firebaseLocalStorageDb",dr="firebaseLocalStorage",hr="fbase_key";class fr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pr(e,t){return e.transaction([dr],t?"readwrite":"readonly").objectStore(dr)}function mr(){const e=indexedDB.open(ur,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(dr,{keyPath:hr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(dr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ur);return new fr(e).toPromise()}(),t(await mr()))})})}async function gr(e,t,n){const r=pr(e,!0).put({[hr]:t,value:n});return new fr(r).toPromise()}function vr(e,t){const n=pr(e,!0).delete(t);return new fr(n).toPromise()}class yr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await mr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ar._getInstance(cr()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new or(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mr();return await gr(e,$n,"1"),await vr(e,$n),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=pr(e,!1).get(t),r=await new fr(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=pr(e,!1).getAll();return new fr(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}yr.type="LOCAL";const br=yr;function wr(e,t){return vt(e,"POST","/v2/accounts/mfaSignIn:start",gt(e,t))}dn("rcb"),new ut(3e4,6e4);const xr="recaptcha";async function kr(e,t,n){if(!e._getRecaptchaConfig())try{await yn(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){it("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=vn(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===pn){it((null===n||void 0===n?void 0:n.type)===xr,e,"argument-error");return Yn(e,await _r(e,t,n))}return Yn(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;it("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;it(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=vn(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===pn){it((null===n||void 0===n?void 0:n.type)===xr,e,"argument-error");return wr(e,await _r(e,t,n))}return wr(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=vn(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===pn){it((null===n||void 0===n?void 0:n.type)===xr,e,"argument-error");return Cn(e,await _r(e,t,n))}return Cn(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function _r(e,t,n){it(n.type===xr,e,"argument-error");const r=await n.verify();it("string"===typeof r,e,"argument-error");const i=(0,a.A)({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Sr{constructor(e){this.providerId=Sr.PROVIDER_ID,this.auth=on(e)}verifyPhoneNumber(e,t){return kr(this.auth,e,(0,v.Ku)(t))}static credential(e,t){return An._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Sr.credentialFromTaggedObject(t)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?An._fromTokenResponse(n,r):null}}function Er(e,t){return t?Vt(t):(it(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sr.PROVIDER_ID="phone",Sr.PHONE_SIGN_IN_METHOD="phone";class Nr extends kn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tr(e){return Wn(e.auth,new Nr(e),e.bypassAuthState)}function Cr(e){const{auth:t,user:n}=e;return it(n,t,"internal-error"),Kn(n,new Nr(e),e.bypassAuthState)}async function Ir(e){const{auth:t,user:n}=e;return it(n,t,"internal-error"),Hn(n,new Nr(e),e.bypassAuthState)}class Ar{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tr;case"linkViaPopup":case"linkViaRedirect":return Ir;case"reauthViaPopup":case"reauthViaRedirect":return Cr;default:Ze(this.auth,"internal-error")}}resolve(e){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pr=new ut(2e3,1e4);class jr extends Ar{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){st(1===this.filter.length,"Popup operations only handle one event");const e=sr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(et(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Pr.get())};e()}}jr.currentPopupAction=null;const Dr=new Map;class Rr extends Ar{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Dr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mr(t),r=Lr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Dr.set(this.auth._key(),e)}return this.bypassAuthState||Dr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Or(e,t){Dr.set(e._key(),t)}function Lr(e){return Vt(e._redirectPersistence)}function Mr(e){return Ht("pendingRedirect",e.config.apiKey,e.name)}async function Fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,m.xZ)(e.app))return Promise.reject(nt(e));const r=on(e),i=Er(r,t),a=new Rr(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class zr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Vr(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(et(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ur(e))}saveEventToCache(e){this.cachedEventUids.add(Ur(e)),this.lastProcessedEventTime=Date.now()}}function Ur(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Vr(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qr=/^https?/;async function Hr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return vt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Kr(r))return}catch(n){}Ze(e,"unauthorized-domain")}function Kr(e){const t=ot(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qr.test(n))return!1;if(Br.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wr=new ut(3e4,6e4);function Gr(){const e=lr().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qr(e){return new Promise((t,n)=>{var r,i;function a(){Gr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gr(),n(et(e,"network-request-failed"))},timeout:Wr.get()})}if(null!==(r=lr().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=lr().gapi)||void 0===i||!i.load){const t=dn("iframefcb");return lr()[t]=()=>{gapi.load?a():n(et(e,"network-request-failed"))},un("".concat(cn.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Yr=null,e})}let Yr=null;const $r=new ut(5e3,15e3),Jr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zr(e){const t=e.config;it(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?dt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:m.MF},i=Xr.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat((0,v.Am)(r).slice(1))}async function ei(e){const t=await function(e){return Yr=Yr||Qr(e),Yr}(e),n=lr().gapi;return it(n,e,"internal-error"),t.open({where:document.body,url:Zr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jr,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=et(e,"network-request-failed"),a=lr().setTimeout(()=>{r(i)},$r.get());function s(){lr().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const ti={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ni{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ri(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=(0,a.A)((0,a.A)({},ti),{},{width:r.toString(),height:i.toString(),top:s,left:o}),u=(0,v.ZQ)().toLowerCase();n&&(l=Yt(u)?"_blank":n),Gt(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return en(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ZQ)())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new ni(null);const h=window.open(t||"",l,d);it(h,e,"popup-blocked");try{h.focus()}catch(f){}return new ni(h)}const ii="__/auth/handler",ai="emulator/auth/handler",si=encodeURIComponent("fac");async function oi(e,t,n,r,i,a){it(e.config.authDomain,e,"auth-domain-config-required"),it(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:m.MF,eventId:i};if(t instanceof Dn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",(0,v.Im)(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Rn){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(si,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ii);return dt(t,ai)}(e),"?").concat((0,v.Am)(o).slice(1)).concat(c)}const li="webStorageSupport";const ci=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ir,this._completeRedirectFn=Fr,this._overrideRedirectResult=Or}async _openPopup(e,t,n,r){var i;st(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ri(e,await oi(e,t,n,ot(),r),sr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){lr().location.href=e}(await oi(e,t,n,ot(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(st(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await ei(e),n=new zr(e);return t.register("authEvent",t=>{it(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(li,{type:li},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[li];void 0!==i&&t(!!i),Ze(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tn()||Qt()||en()}};var ui="@firebase/auth",di="1.11.1";class hi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fi=(0,v.XA)("authIdTokenMaxAge")||300;let pi=null;function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,m.Sx)();const t=(0,m.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,m.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,v.bD)(r,null!==t&&void 0!==t?t:{}))return e;Ze(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ci,persistence:[br,Zn,ir]}),r=(0,v.XA)("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>fi)return;const r=null===t||void 0===t?void 0:t.token;pi!==r&&(pi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){(0,v.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){(0,v.Ku)(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=(0,v.Tj)("auth");return a&&bn(n,"http://".concat(a)),n}var gi;cn={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=et("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},gi="Browser",(0,m.om)(new y.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;it(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:gi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nn(gi)},c=new sn(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vt);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,m.om)(new y.uA("auth-internal",e=>(e=>new hi(e))(on(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,m.KO)(ui,di,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(gi)),(0,m.KO)(ui,di,"esm2020");var vi=n(6667);const yi=e=>"available"===e;var bi=n(8911),wi=n(2759);const xi=(0,s.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ki=(0,s.A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),_i=(0,s.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Si=(0,s.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var Ei=n(579);const Ni=e=>{let{auth:t,onSignIn:n,error:i,setError:a}=e;const[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1);return(0,Ei.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a(null),l.trim()&&u.trim()){if(s){if(u.length<6)return void a("Password must be at least 6 characters long.");if(u!==h)return void a("Passwords do not match.")}x(!0);try{let e;e=s?await async function(e,t,n){if((0,m.xZ)(e.app))return Promise.reject(nt(e));const r=on(e),i=vn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zn,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Qn(e),t}),s=await Un._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}(t,l.trim(),u):await function(e,t,n){return(0,m.xZ)(e.app)?Promise.reject(nt(e)):Gn((0,v.Ku)(e),jn.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Qn(e),t})}(t,l.trim(),u),n(e.user),c(""),d(""),f("")}catch(r){console.error("Authentication error:",r);let e="Authentication failed. Please try again.";"auth/email-already-in-use"===r.code?e="This email is already registered. Please sign in instead.":"auth/invalid-email"===r.code?e="Invalid email address.":"auth/weak-password"===r.code?e="Password is too weak. Please choose a stronger password.":"auth/user-not-found"===r.code?e="No account found with this email. Please sign up first.":"auth/wrong-password"===r.code?e="Incorrect password. Please try again.":"auth/too-many-requests"===r.code?e="Too many failed attempts. Please try again later.":r.message&&(e=r.message),a(e)}finally{x(!1)}}else a("Please fill in all fields.")},className:"bg-gradient-to-br from-white via-indigo-50/50 to-purple-50/50 p-8 rounded-2xl shadow-2xl max-w-md mx-auto mt-10 space-y-5 border-2 border-indigo-100 backdrop-blur-sm",children:[(0,Ei.jsx)("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent pb-3 mb-4 flex items-center justify-center border-b-2 border-indigo-200",children:s?(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)(xi,{className:"mr-3 text-indigo-600",size:28})," Sign Up"]}):(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)(ki,{className:"mr-3 text-indigo-600",size:28})," Sign In"]})}),(0,Ei.jsx)("p",{className:"text-sm text-slate-700 text-center font-medium bg-slate-100/50 px-4 py-2 rounded-lg",children:s?"Create a new account to get started":"Enter your credentials to sign in"}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{htmlFor:"email",className:"block text-sm font-bold text-slate-700 mb-2",children:"Email Address"}),(0,Ei.jsx)("input",{id:"email",type:"email",placeholder:"you@example.com",value:l,onChange:e=>c(e.target.value),required:!0,className:"w-full p-3.5 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 bg-white/80 shadow-sm"})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{htmlFor:"password",className:"block text-sm font-bold text-slate-700 mb-2",children:"Password"}),(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsx)("input",{id:"password",type:p?"text":"password",placeholder:s?"At least 6 characters":"Enter your password",value:u,onChange:e=>d(e.target.value),required:!0,className:"w-full p-3.5 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 pr-12 bg-white/80 shadow-sm"}),(0,Ei.jsx)("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-indigo-600 transition-colors",children:p?(0,Ei.jsx)(_i,{size:20}):(0,Ei.jsx)(Si,{size:20})})]})]}),s&&(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-bold text-slate-700 mb-2",children:"Confirm Password"}),(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsx)("input",{id:"confirmPassword",type:y?"text":"password",placeholder:"Confirm your password",value:h,onChange:e=>f(e.target.value),required:!0,className:"w-full p-3.5 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 pr-12 bg-white/80 shadow-sm"}),(0,Ei.jsx)("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-indigo-600 transition-colors",children:y?(0,Ei.jsx)(_i,{size:20}):(0,Ei.jsx)(Si,{size:20})})]})]}),i&&(0,Ei.jsx)("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md",children:i}),(0,Ei.jsx)("button",{type:"submit",disabled:w||0===l.trim().length||0===u.trim().length||s&&0===h.trim().length,className:"w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white font-bold py-4 px-6 rounded-xl hover:from-indigo-700 hover:via-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-gray-400 disabled:shadow-none flex items-center justify-center transform hover:scale-105 disabled:transform-none",children:w?s?"Creating Account...":"Signing In...":s?"Sign Up":"Sign In"}),(0,Ei.jsx)("div",{className:"text-center pt-4 border-t-2 border-indigo-200",children:(0,Ei.jsxs)("p",{className:"text-sm text-slate-600 font-medium",children:[s?"Already have an account?":"Don't have an account?"," ",(0,Ei.jsx)("button",{type:"button",onClick:()=>{o(!s),a(null),c(""),d(""),f("")},className:"text-indigo-600 hover:text-purple-600 font-bold bg-indigo-50 px-3 py-1 rounded-lg hover:bg-indigo-100 transition-all duration-200",children:s?"Sign In":"Sign Up"})]})})]})};var Ti=n(9292),Ci=n(6245),Ii=n(2580),Ai=n(9989),Pi=n(9855),ji=n(3944),Di=n(4918),Ri=n(5746),Oi=n(1360);const Li=e=>{let{value:t,onChange:n,disabled:r=!1,size:i="md"}=e;const a={sm:{track:"w-[72px] h-7",handle:"w-5 h-5",handleOffset:{unavailable:"translate-x-[3px]",no_response:"translate-x-[25px]",available:"translate-x-[47px]"},text:"text-[9px]",icon:"w-2.5 h-2.5"},md:{track:"w-[90px] h-9",handle:"w-7 h-7",handleOffset:{unavailable:"translate-x-[4px]",no_response:"translate-x-[31px]",available:"translate-x-[58px]"},text:"text-[10px]",icon:"w-3 h-3"},lg:{track:"w-[110px] h-11",handle:"w-9 h-9",handleOffset:{unavailable:"translate-x-[4px]",no_response:"translate-x-[37px]",available:"translate-x-[70px]"},text:"text-xs",icon:"w-3.5 h-3.5"}}[i];return(0,Ei.jsxs)("div",{className:"\n        relative ".concat(a.track," rounded-full cursor-pointer\n        ").concat((()=>{switch(t){case"unavailable":return"bg-gradient-to-r from-rose-100 via-rose-50 to-slate-100";case"no_response":return"bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100";case"available":return"bg-gradient-to-r from-slate-100 via-emerald-50 to-emerald-100";default:return"bg-slate-100"}})(),"\n        border-2 ").concat((()=>{switch(t){case"unavailable":return"border-rose-300/80";case"no_response":return"border-slate-300/80";case"available":return"border-emerald-300/80";default:return"border-slate-200"}})(),"\n        shadow-inner\n        transition-all duration-300 ease-out\n        ").concat(r?"opacity-50 cursor-not-allowed":"hover:shadow-md","\n        overflow-hidden\n      "),onClick:e=>{if(r)return;e.stopPropagation();const t=e.currentTarget.getBoundingClientRect(),i=e.clientX-t.left,a=t.width/3;n(i<a?"unavailable":i<2*a?"no_response":"available")},role:"slider","aria-valuenow":"unavailable"===t?0:"no_response"===t?1:2,"aria-valuemin":0,"aria-valuemax":2,"aria-label":"Availability toggle",tabIndex:r?-1:0,onKeyDown:e=>{r||("ArrowLeft"===e.key?"available"===t?n("no_response"):"no_response"===t&&n("unavailable"):"ArrowRight"===e.key&&("unavailable"===t?n("no_response"):"no_response"===t&&n("available")))},children:[(0,Ei.jsxs)("div",{className:"absolute inset-0 flex items-center justify-between px-2 pointer-events-none",children:[(0,Ei.jsx)("div",{className:"".concat(a.icon," flex items-center justify-center transition-opacity duration-200 ").concat("unavailable"===t?"opacity-0":"opacity-40"),children:(0,Ei.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-rose-500",children:(0,Ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,Ei.jsx)("div",{className:"".concat(a.icon," flex items-center justify-center transition-opacity duration-200 ").concat("no_response"===t?"opacity-0":"opacity-40"),children:(0,Ei.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-slate-500",children:(0,Ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})})}),(0,Ei.jsx)("div",{className:"".concat(a.icon," flex items-center justify-center transition-opacity duration-200 ").concat("available"===t?"opacity-0":"opacity-40"),children:(0,Ei.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-emerald-500",children:(0,Ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]}),(0,Ei.jsxs)("div",{className:"\n          absolute top-1/2 -translate-y-1/2\n          ".concat(a.handle," rounded-full\n          ").concat((()=>{switch(t){case"unavailable":return"bg-gradient-to-br from-rose-500 via-red-500 to-rose-600 shadow-rose-300/60";case"no_response":return"bg-gradient-to-br from-slate-400 via-slate-500 to-slate-600 shadow-slate-300/60";case"available":return"bg-gradient-to-br from-emerald-400 via-emerald-500 to-teal-600 shadow-emerald-300/60";default:return"bg-slate-400"}})(),"\n          shadow-lg\n          transition-all duration-300 ease-out\n          transform ").concat(a.handleOffset[t],"\n          flex items-center justify-center\n          ring-2 ring-white/50\n        "),children:["unavailable"===t&&(0,Ei.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"".concat(a.icon," text-white drop-shadow-sm"),children:(0,Ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"no_response"===t&&(0,Ei.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"".concat(a.icon," text-white drop-shadow-sm"),children:(0,Ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"})}),"available"===t&&(0,Ei.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"".concat(a.icon," text-white drop-shadow-sm"),children:(0,Ei.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]}),(0,Ei.jsx)("div",{className:"\n          absolute inset-0 rounded-full pointer-events-none\n          transition-opacity duration-300\n          ".concat("unavailable"===t?"bg-gradient-to-r from-rose-500/10 to-transparent":"","\n          ").concat("no_response"===t?"bg-gradient-to-r from-transparent via-slate-500/10 to-transparent":"","\n          ").concat("available"===t?"bg-gradient-to-r from-transparent to-emerald-500/10":"","\n        ")})]})};var Mi=n(8693);const Fi=(0,s.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),zi=e=>{let{player:t,onClose:n,onSave:i}=e;const[a,s]=(0,r.useState)(t.position),[o,l]=(0,r.useState)(t.skillLevel),[c,u]=(0,r.useState)(t.jerseyNumber),[d,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{s(t.position),l(t.skillLevel),u(t.jerseyNumber)},[t]);return(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-purple-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-purple-200/40 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-indigo-200/40 rounded-full blur-3xl"})]}),(0,Ei.jsx)("button",{onClick:n,className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg",children:(0,Ei.jsx)(Mi.A,{className:"w-6 h-6 text-white"})}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Edit Player"}),(0,Ei.jsx)("p",{className:"text-sm text-slate-600 font-medium",children:t.name})]})]}),(0,Ei.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m(null),void 0!==c&&null!==c){const e=Number(c);if(isNaN(e)||e<0||e>99||!Number.isInteger(e))return void m("Jersey number must be between 0 and 99.")}if(a!==t.position||o!==t.skillLevel||c!==t.jerseyNumber){h(!0);try{await i(t.id,{position:a,skillLevel:o,jerseyNumber:void 0!==c&&null!==c?Number(c):void 0}),n()}catch(r){m(r.message||"Failed to update player.")}finally{h(!1)}}else n()},className:"space-y-4",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsx)("select",{value:a,onChange:e=>s(e.target.value),className:"w-full p-3 appearance-none border-2 border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 transition duration-150 shadow-sm hover:shadow-md",disabled:d,children:bi.lP.map(e=>(0,Ei.jsxs)("option",{value:e,children:[e," - ",bi.Ah[e]]},e))}),(0,Ei.jsx)(Fi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Jersey Number ",(0,Ei.jsx)("span",{className:"text-xs font-normal text-gray-500",children:"(Optional)"})]}),(0,Ei.jsx)("input",{type:"number",placeholder:"Enter jersey number (0-99)",value:null!==c&&void 0!==c?c:"",onChange:e=>{const t=e.target.value;if(""===t)u(void 0);else{const e=parseInt(t);isNaN(e)||u(e)}m(null)},min:"0",max:"99",className:"w-full p-3 border-2 border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500 transition duration-150 shadow-sm hover:shadow-md placeholder:text-gray-400",disabled:d}),(0,Ei.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if no jersey number assigned"})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Skill Level:"," ",(0,Ei.jsxs)("span",{className:"font-semibold text-blue-600",children:[o," (",bi.QH[o],")"]})]}),(0,Ei.jsx)("input",{type:"range",min:"1",max:"10",value:o,onChange:e=>l(parseInt(e.target.value)),className:"w-full h-2.5 bg-gradient-to-r from-slate-200 to-slate-300 rounded-xl appearance-none cursor-pointer range-lg shadow-inner",disabled:d}),(0,Ei.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ei.jsx)("span",{children:"1 (Newbie)"}),(0,Ei.jsx)("span",{children:"10 (Legend)"})]})]}),p&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md",children:p}),(0,Ei.jsxs)("div",{className:"flex justify-end gap-3 pt-6",children:[(0,Ei.jsx)("button",{type:"button",onClick:n,disabled:d,className:"px-5 py-2.5 text-slate-700 bg-slate-200/80 hover:bg-slate-300 rounded-xl transition-all duration-200 disabled:opacity-50 font-semibold hover:scale-105 active:scale-95",children:"Cancel"}),(0,Ei.jsx)("button",{type:"submit",disabled:d,className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl hover:from-purple-700 hover:to-indigo-700 transition-all duration-200 disabled:bg-gray-400 flex items-center gap-2 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:d?"Saving...":(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)(Mi.A,{className:"w-4 h-4"})," Save Changes"]})})]})]})]})]})})},Ui=e=>{let{onClose:t,onAddPlayer:n}=e;const[i,a]=(0,r.useState)(""),[s,o]=(0,r.useState)("CM"),[l,c]=(0,r.useState)(5),[u,d]=(0,r.useState)(void 0),[h,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);return(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&t()},children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-emerald-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-24 -right-24 w-56 h-56 bg-emerald-300/30 rounded-full blur-3xl animate-pulse"}),(0,Ei.jsx)("div",{className:"absolute -bottom-20 -left-20 w-48 h-48 bg-green-300/30 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-teal-200/20 rounded-full blur-3xl"})]}),(0,Ei.jsx)("button",{onClick:t,className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,Ei.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-emerald-500 via-green-500 to-teal-500 flex items-center justify-center shadow-xl shadow-emerald-500/30",children:(0,Ei.jsx)(xi,{className:"w-7 h-7 text-white"})}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("h2",{className:"text-2xl sm:text-3xl font-black bg-gradient-to-r from-emerald-700 via-green-700 to-teal-700 bg-clip-text text-transparent mb-1",children:"Register New Player"}),(0,Ei.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Add a new player to the team"})]})]}),(0,Ei.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g(null),i.trim()){if(p(!0),g(null),void 0!==u&&null!==u){const e=Number(u);if(isNaN(e)||e<0||e>99||!Number.isInteger(e))return void g("Jersey number must be between 0 and 99.")}try{await n({name:i.trim(),position:s,skillLevel:l,jerseyNumber:void 0!==u&&null!==u?Number(u):void 0}),a(""),o("CM"),c(5),d(void 0),g(null),t()}catch(r){g(r.message||"Failed to add player.")}finally{p(!1)}}else g("Please enter a player name.")},className:"space-y-6",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,Ei.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Player Name"]}),(0,Ei.jsx)("input",{type:"text",placeholder:"Enter player's full name",value:i,onChange:e=>{a(e.target.value),g(null)},required:!0,className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl bg-white/90 backdrop-blur-sm focus:ring-4 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all duration-200 shadow-md hover:shadow-lg hover:border-emerald-300 placeholder:text-slate-400",disabled:h})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,Ei.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Position"]}),(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsx)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full p-4 text-base appearance-none border-2 border-slate-300/80 rounded-xl bg-white/90 backdrop-blur-sm focus:ring-4 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all duration-200 shadow-md hover:shadow-lg hover:border-emerald-300",disabled:h,children:bi.lP.map(e=>(0,Ei.jsxs)("option",{value:e,children:[e," - ",bi.Ah[e]]},e))}),(0,Ei.jsx)(Fi,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:20})]})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,Ei.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Jersey Number ",(0,Ei.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"(Optional)"})]}),(0,Ei.jsx)("input",{type:"number",placeholder:"Enter jersey number (0-99)",value:null!==u&&void 0!==u?u:"",onChange:e=>{const t=e.target.value;if(""===t)d(void 0);else{const e=parseInt(t);isNaN(e)||d(e)}g(null)},min:"0",max:"99",className:"w-full p-4 text-base border-2 border-slate-300/80 rounded-xl bg-white/90 backdrop-blur-sm focus:ring-4 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all duration-200 shadow-md hover:shadow-lg hover:border-emerald-300 placeholder:text-slate-400",disabled:h}),(0,Ei.jsx)("p",{className:"text-xs text-slate-500 mt-1.5 font-medium",children:"Leave empty if no jersey number assigned"})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[(0,Ei.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"Skill Level:"," ",(0,Ei.jsxs)("span",{className:"ml-2 text-base font-black text-emerald-600",children:[l," (",bi.QH[l],")"]})]}),(0,Ei.jsx)("input",{type:"range",min:"1",max:"10",value:l,onChange:e=>c(parseInt(e.target.value)),className:"w-full h-3 bg-gradient-to-r from-emerald-200 to-green-200 rounded-xl appearance-none cursor-pointer range-lg shadow-inner",disabled:h}),(0,Ei.jsxs)("div",{className:"flex justify-between text-xs text-slate-500 mt-2 font-medium",children:[(0,Ei.jsx)("span",{children:"1 (Newbie)"}),(0,Ei.jsx)("span",{children:"10 (Legend)"})]})]}),m&&(0,Ei.jsxs)("div",{className:"p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300/80 rounded-xl text-sm font-bold shadow-lg flex items-start gap-3 animate-in fade-in duration-200",children:[(0,Ei.jsx)("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,Ei.jsx)(f.A,{className:"w-3 h-3 text-white"})}),(0,Ei.jsx)("span",{className:"text-red-800",children:m})]}),(0,Ei.jsxs)("div",{className:"flex justify-end gap-3 pt-6",children:[(0,Ei.jsx)("button",{type:"button",onClick:t,disabled:h,className:"px-6 py-3 text-base font-bold text-slate-700 bg-slate-200/80 hover:bg-slate-300/80 rounded-xl transition-all duration-200 disabled:opacity-50 shadow-md hover:shadow-lg hover:scale-105 active:scale-95",children:"Cancel"}),(0,Ei.jsx)("button",{type:"submit",disabled:h||!i.trim(),className:"px-6 py-3 text-base font-black text-white bg-gradient-to-r from-emerald-600 via-green-600 to-teal-600 hover:from-emerald-700 hover:via-green-700 hover:to-teal-700 rounded-xl transition-all duration-300 disabled:opacity-50 flex items-center gap-2 shadow-xl shadow-emerald-500/30 hover:shadow-2xl hover:shadow-emerald-500/40 transform hover:scale-105 active:scale-95 disabled:hover:scale-100",children:h?"Saving...":(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)(Mi.A,{className:"w-5 h-5"})," Save Player"]})})]})]})]})]})})};var Vi=n(7118),Bi=n(8629);const qi=e=>{let{availablePlayers:t,db:n,isAdmin:i,teamCount:s}=e;const[o,l]=(0,r.useState)({}),[c,u]=(0,r.useState)(!0),[h,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),v=(0,r.useMemo)(()=>{const e=Math.min(Math.max(s,2),6),t=[];for(let n=0;n<e;n++){let r;r=2===e?0===n?"red":"blue":wi.kR[n%wi.kR.length];const i=(0,wi.HJ)(r);t.push({colorKey:r,label:i})}return t},[s]);(0,r.useEffect)(()=>{if(!n||!i)return;const e=Bi.ON.teamAssignments(),t=(0,vi.H9)(n,e),r=(0,vi.aQ)(t,e=>{if(e.exists()){const t=e.data();l(t.assignments||{})}else l({});u(!1)},e=>{console.error("Error loading team assignments:",e),u(!1)});return()=>r()},[n,i]);const y=async e=>{if(n&&i){p(!0);try{const t=Bi.ON.teamAssignments(),r=(0,vi.H9)(n,t),i={assignments:e,updatedAt:(new Date).toISOString()};await(0,vi.BN)(r,i,{merge:!0}),l(e)}catch(t){console.error("Error saving team assignments:",t),alert("Failed to save team assignments. Please try again.")}finally{p(!1)}}},b=(e,t)=>{const n=(0,a.A)({},o);null===t?delete n[e]:n[e]=t,y(n)},w=(0,r.useMemo)(()=>{const e={};return v.forEach(t=>{e[t.colorKey]=0}),Object.values(o).forEach(t=>{t&&(e[t]=(e[t]||0)+1)}),e},[o,v]),x=Object.values(w).reduce((e,t)=>e+t,0);return i?(0,Ei.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,Ei.jsxs)("button",{onClick:()=>g(!m),className:"w-full flex items-center justify-between p-4 bg-gradient-to-r from-indigo-100 to-purple-100 border-2 border-indigo-300/60 rounded-xl hover:shadow-lg transition-all duration-200",type:"button",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ei.jsx)("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg",children:(0,Ei.jsx)(d.A,{className:"w-5 h-5 text-white"})}),(0,Ei.jsxs)("div",{className:"text-left",children:[(0,Ei.jsx)("p",{className:"text-sm font-bold text-slate-800",children:"Pre-Assign Players to Teams"}),(0,Ei.jsx)("p",{className:"text-xs text-slate-600",children:v.map(e=>"".concat(e.label,": ").concat(w[e.colorKey]||0)).join(" \u2022 ")})]})]}),(0,Ei.jsxs)("div",{className:"flex items-center gap-2",children:[x>0&&(0,Ei.jsx)("span",{className:"px-2 py-1 bg-indigo-500 text-white text-xs font-bold rounded-lg",children:x}),(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 transition-transform duration-200 ".concat(m?"rotate-90":"")})]})]}),m&&(0,Ei.jsxs)("div",{className:"mt-3 p-4 bg-white/80 border-2 border-indigo-200/60 rounded-xl shadow-sm",children:[(0,Ei.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ei.jsxs)("p",{className:"text-xs font-semibold text-slate-700",children:["Assign players to teams before generating ",s," teams"]}),x>0&&(0,Ei.jsx)("button",{onClick:()=>{const e=v.map(e=>e.label).join(", ");window.confirm("Clear all team assignments? This will remove all player assignments to ".concat(e," teams."))&&y({})},disabled:h||c,className:"px-3 py-1.5 text-xs font-semibold text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors disabled:opacity-50",children:"Clear All"})]}),c?(0,Ei.jsx)("div",{className:"text-center py-4",children:(0,Ei.jsx)("div",{className:"inline-block w-6 h-6 border-2 border-indigo-300 border-t-indigo-600 rounded-full animate-spin"})}):0===t.length?(0,Ei.jsx)("p",{className:"text-sm text-slate-500 text-center py-4",children:"No available players to assign"}):(0,Ei.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar pr-2",children:t.map(e=>{const t=o[e.id]||null;return(0,Ei.jsxs)("div",{className:"flex items-center justify-between gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200 hover:border-indigo-300 transition-colors",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0 flex-wrap",children:[(0,Ei.jsx)(Vi.A,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),(0,Ei.jsx)("span",{className:"font-semibold text-slate-800 break-words leading-tight",children:e.name}),(0,Ei.jsx)("span",{className:"text-xs text-slate-500 px-2 py-0.5 bg-slate-200 rounded whitespace-nowrap",children:e.position}),(0,Ei.jsxs)("span",{className:"text-xs text-slate-500 px-2 py-0.5 bg-slate-200 rounded whitespace-nowrap",children:["S",e.skillLevel]})]}),(0,Ei.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0 flex-wrap justify-end",children:[v.map(n=>{const r=t===n.colorKey;return(0,Ei.jsx)("button",{onClick:()=>b(e.id,r?null:n.colorKey),disabled:h||c,className:"px-2.5 py-1.5 text-xs font-bold rounded-lg transition-all shadow-sm ".concat(((e,t)=>{const n={red:{selected:"bg-red-500 text-white",unselected:"bg-red-50 text-red-600 border border-red-200 hover:bg-red-100"},blue:{selected:"bg-blue-500 text-white",unselected:"bg-blue-50 text-blue-600 border border-blue-200 hover:bg-blue-100"},emerald:{selected:"bg-emerald-500 text-white",unselected:"bg-emerald-50 text-emerald-600 border border-emerald-200 hover:bg-emerald-100"},purple:{selected:"bg-purple-500 text-white",unselected:"bg-purple-50 text-purple-600 border border-purple-200 hover:bg-purple-100"},orange:{selected:"bg-orange-500 text-white",unselected:"bg-orange-50 text-orange-600 border border-orange-200 hover:bg-orange-100"},teal:{selected:"bg-teal-500 text-white",unselected:"bg-teal-50 text-teal-600 border border-teal-200 hover:bg-teal-100"},amber:{selected:"bg-amber-500 text-white",unselected:"bg-amber-50 text-amber-600 border border-amber-200 hover:bg-amber-100"},slate:{selected:"bg-slate-600 text-white",unselected:"bg-slate-50 text-slate-600 border border-slate-200 hover:bg-slate-100"},pink:{selected:"bg-pink-500 text-white",unselected:"bg-pink-50 text-pink-600 border border-pink-200 hover:bg-pink-100"}};return t?n[e].selected:n[e].unselected})(n.colorKey,r)," disabled:opacity-50"),children:n.label},n.colorKey)}),t&&(0,Ei.jsx)("button",{onClick:()=>b(e.id,null),disabled:h||c,className:"px-2 py-1.5 text-xs text-slate-600 hover:text-red-600 transition-colors disabled:opacity-50",title:"Clear assignment",children:(0,Ei.jsx)(f.A,{className:"w-4 h-4"})})]})]},e.id)})}),x>0&&(0,Ei.jsx)("div",{className:"mt-4 p-3 bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg",children:(0,Ei.jsxs)("p",{className:"text-xs font-semibold text-amber-800",children:["\u26a0\ufe0f ",x," player(s) will be assigned to their designated teams when you generate teams."]})})]})]}):null};var Hi=n(7925),Ki=n(3107),Wi=n(7133);const Gi=[2,3,4,5,6],Qi=e=>{let{availability:t,loading:n,availableCount:i,onSetAvailability:a,onGenerateTeams:s,onUpdatePlayer:l,onDeletePlayer:u,onAddPlayer:d,error:h,disabled:p=!1,isAdmin:m=!1,teamCount:g,onTeamCountChange:v,minPlayersRequired:y,canGenerateTeams:b,currentUserId:w,db:x,isActive:k=!1,onNavigateToLeaderboard:_,userEmail:S="",userRole:E="user",openMOTMModal:N=!1,openKudosModal:T=!1,openPointsModal:C=!1,onModalOpened:I}=e;const[A,P]=(0,r.useState)(null),[j,D]=(0,r.useState)(!1),[R,O]=(0,r.useState)(null),[L,M]=(0,r.useState)(""),[F,z]=(0,r.useState)(""),[U,V]=(0,r.useState)(""),[B,q]=(0,r.useState)("all"),[H,K]=(0,r.useState)(!1),W=(0,Hi.d)(x),[G,Q]=(0,r.useState)(!1),[Y,$]=(0,r.useState)(!1),[J,X]=(0,r.useState)(!1);(0,r.useEffect)(()=>{N&&(Q(!0),null===I||void 0===I||I("motm"))},[N,I]),(0,r.useEffect)(()=>{T&&($(!0),null===I||void 0===I||I("kudos"))},[T,I]),(0,r.useEffect)(()=>{C&&(X(!0),null===I||void 0===I||I("points"))},[C,I]);const[Z,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(""),[re,ie]=(0,r.useState)(!1),[ae,se]=(0,r.useState)(null),[oe,le]=(0,r.useState)(null),[ce,ue]=(0,r.useState)(""),[de,he]=(0,r.useState)(""),[fe,pe]=(0,r.useState)(!1),[me,ge]=(0,r.useState)(null),[ve,ye]=(0,r.useState)(""),[be,we]=(0,r.useState)(""),[xe,ke]=(0,r.useState)(""),[_e,Se]=(0,r.useState)(!1),[Ee,Ne]=(0,r.useState)(null),[Te,Ce]=(0,r.useState)(null),Ie=(0,r.useMemo)(()=>"admin"===E?t:t.filter(e=>e.userId!==w&&e.registeredBy!==w),[t,E,w]),Ae=(0,r.useCallback)(e=>!!m||!!w&&(e.userId===w||e.registeredBy===w),[m,w]),Pe=(0,r.useMemo)(()=>{if(!w)return[...t].sort((e,t)=>e.name.localeCompare(t.name,void 0,{sensitivity:"base"}));const e=t.find(e=>e.userId===w),n=t.filter(e=>e.userId!==w&&e.registeredBy===w),r=t.filter(e=>e.userId!==w&&e.registeredBy!==w);return[...e?[e]:[],...n,...[...r].sort((e,t)=>e.name.localeCompare(t.name,void 0,{sensitivity:"base"}))]},[t,w]),je=(0,Wi.d)(L,300),De=(0,r.useMemo)(()=>Pe.filter(e=>!(je.trim()&&!e.name.toLowerCase().includes(je.toLowerCase()))&&((!F||e.position===F)&&((!U||e.skillLevel===U)&&(!("available"===B&&!e.isAvailable)&&("unavailable"!==B||!e.isAvailable))))),[Pe,je,F,U,B]),Re=(0,r.useMemo)(()=>{let e=0;return L.trim()&&e++,F&&e++,U&&e++,"all"!==B&&e++,e},[L,F,U,B]),Oe=(0,r.useCallback)(()=>{M(""),z(""),V(""),q("all")},[]),Le=(0,r.useCallback)((e,t)=>{e.stopPropagation(),P(t)},[]),Me=(0,r.useCallback)((e,t)=>{e.stopPropagation(),O(t)},[]),Fe=(0,r.useCallback)(async()=>{R&&(await u(R.id),O(null))},[R,u]),ze=(0,r.useCallback)(async(e,t)=>{await l(e,t),P(null)},[l]);return(0,Ei.jsxs)("div",{className:"relative overflow-hidden backdrop-blur-xl p-4 sm:p-6 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] ".concat(k?"bg-gradient-to-br from-indigo-50/95 via-purple-50/95 to-indigo-50/95 border-l-2 border-r-2 border-b-2 border-indigo-500/70":"bg-white/90 border border-white/70 border-t-0"),children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 opacity-70",children:[(0,Ei.jsx)("div",{className:"absolute -top-16 -right-10 w-48 h-48 bg-cyan-200/50 blur-[90px]"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-indigo-200/50 blur-[80px]"})]}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,Ei.jsxs)("div",{className:"flex-1",children:[(0,Ei.jsxs)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold tracking-tight bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent pb-2 flex items-center gap-2",children:[(0,Ei.jsx)(o,{className:"text-indigo-600 flex-shrink-0",size:20}),(0,Ei.jsx)("span",{className:"whitespace-nowrap",children:"Weekly Availability Poll"})]}),(0,Ei.jsx)("p",{className:"text-xs sm:text-sm font-medium text-slate-600 mt-2",children:"Toggle players who are available to play this week."})]}),(0,Ei.jsxs)("button",{onClick:()=>D(!0),disabled:p,className:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold py-2.5 sm:py-3 px-4 sm:px-6 rounded-2xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-gray-400 disabled:shadow-none flex items-center justify-center whitespace-nowrap w-full sm:w-auto transform hover:scale-105 text-sm sm:text-base",children:[(0,Ei.jsx)(xi,{className:"mr-2",size:16})," ",(0,Ei.jsx)("span",{className:"sm:inline",children:"Register Player"})]})]}),(0,Ei.jsx)("div",{className:"min-h-[400px]",children:n?(0,Ei.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,Ei.jsx)("div",{className:"h-11 bg-gradient-to-r from-slate-200 to-slate-300 rounded-xl"}),(0,Ei.jsx)("div",{className:"flex items-center justify-between",children:(0,Ei.jsx)("div",{className:"h-9 w-24 bg-gradient-to-r from-slate-200 to-slate-300 rounded-xl"})}),(0,Ei.jsx)("div",{className:"space-y-3 max-h-96 overflow-hidden p-4",style:{minHeight:"300px"},children:[1,2,3,4,5].map(e=>(0,Ei.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-4 rounded-2xl bg-gradient-to-r from-slate-100 to-gray-100 border-2 border-slate-300",children:[(0,Ei.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,Ei.jsx)("div",{className:"h-5 bg-gradient-to-r from-slate-300 to-slate-400 rounded w-3/4"}),(0,Ei.jsx)("div",{className:"h-4 bg-gradient-to-r from-slate-200 to-slate-300 rounded w-2/3"})]}),(0,Ei.jsx)("div",{className:"flex items-center gap-2 flex-shrink-0",children:(0,Ei.jsx)("div",{className:"h-10 w-24 bg-gradient-to-r from-slate-300 to-slate-400 rounded-xl"})})]},e))})]}):0===t.length?(0,Ei.jsxs)("div",{className:"text-center p-8 bg-gradient-to-br from-slate-100 to-blue-50 rounded-2xl border-2 border-dashed border-indigo-200 min-h-[400px] flex flex-col items-center justify-center",children:[(0,Ei.jsx)("p",{className:"text-slate-600 mb-4 font-medium",children:"No players registered yet."}),(0,Ei.jsxs)("button",{onClick:()=>D(!0),disabled:p,className:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-semibold py-3 px-6 rounded-2xl hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:bg-gray-400 disabled:shadow-none flex items-center mx-auto transform hover:scale-105",children:[(0,Ei.jsx)(xi,{className:"mr-2",size:18})," Register Player"]})]}):(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsxs)("div",{className:"mb-4 space-y-3 animate-in fade-in duration-300",children:[(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsx)(Ti.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),(0,Ei.jsx)("input",{type:"text",placeholder:"Search players by name...",value:L,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-10 py-2.5 border-2 border-indigo-200 rounded-xl focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md text-sm font-medium"}),L&&(0,Ei.jsx)("button",{onClick:()=>M(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-slate-100 rounded-full transition",type:"button",children:(0,Ei.jsx)(Ci.A,{className:"text-slate-400 hover:text-slate-600",size:18})})]}),(0,Ei.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ei.jsxs)("button",{onClick:()=>K(!H),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm transition-all duration-200 ".concat(H?"bg-indigo-600 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"),type:"button",children:[(0,Ei.jsx)(Ii.A,{size:16}),"Filters",Re>0&&(0,Ei.jsx)("span",{className:"bg-white text-indigo-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:Re})]}),Re>0&&(0,Ei.jsxs)("button",{onClick:Oe,className:"text-xs font-semibold text-slate-600 hover:text-indigo-600 transition-colors flex items-center gap-1",type:"button",children:[(0,Ei.jsx)(Ci.A,{size:14}),"Clear filters"]})]}),H&&(0,Ei.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 p-4 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border-2 border-indigo-200 shadow-sm",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide",children:"Position"}),(0,Ei.jsxs)("select",{value:F,onChange:e=>z(e.target.value),className:"w-full p-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition duration-150 bg-white text-sm font-medium",children:[(0,Ei.jsx)("option",{value:"",children:"All Positions"}),bi.lP.map(e=>(0,Ei.jsxs)("option",{value:e,children:[e," - ",bi.Ah[e]]},e))]})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide",children:"Skill Level"}),(0,Ei.jsxs)("select",{value:U,onChange:e=>V(e.target.value?Number(e.target.value):""),className:"w-full p-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition duration-150 bg-white text-sm font-medium",children:[(0,Ei.jsx)("option",{value:"",children:"All Skills"}),[1,2,3,4,5,6,7,8,9,10].map(e=>(0,Ei.jsxs)("option",{value:e,children:[e," - ",bi.QH[e]]},e))]})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5 uppercase tracking-wide",children:"Availability"}),(0,Ei.jsxs)("select",{value:B,onChange:e=>q(e.target.value),className:"w-full p-2 border-2 border-indigo-200 rounded-lg focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition duration-150 bg-white text-sm font-medium",children:[(0,Ei.jsx)("option",{value:"all",children:"All Players"}),(0,Ei.jsx)("option",{value:"available",children:"Available Only"}),(0,Ei.jsx)("option",{value:"unavailable",children:"Unavailable Only"})]})]})]})]}),Re>0&&De.length>0&&(0,Ei.jsxs)("div",{className:"text-xs sm:text-sm text-slate-600 font-medium mb-2 px-1",children:["Showing ",De.length," of ",Pe.length," player",1!==De.length?"s":""]}),0===De.length?(0,Ei.jsxs)("div",{className:"text-center p-8 bg-gradient-to-br from-slate-100 to-amber-50 rounded-2xl border-2 border-dashed border-amber-200 min-h-[200px] flex flex-col items-center justify-center",children:[(0,Ei.jsx)("p",{className:"text-slate-600 mb-2 font-medium",children:"No players match your filters."}),Re>0&&(0,Ei.jsx)("button",{onClick:Oe,className:"text-sm text-indigo-600 hover:text-indigo-700 font-semibold underline",type:"button",children:"Clear filters to see all players"})]}):(0,Ei.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto p-4 custom-scrollbar",style:{minHeight:"300px",contain:"layout style paint",willChange:"scroll-position"},children:De.map(e=>{const t=Ae(e),n=e.availabilityStatus;return(0,Ei.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-4 rounded-2xl transition-all duration-200 ".concat(t?"cursor-pointer":"cursor-default"," ").concat((()=>{switch(n){case"available":return"bg-gradient-to-r from-emerald-50 via-teal-50 to-cyan-50 border-2 border-emerald-300 shadow-md";case"no_response":return"bg-gradient-to-r from-slate-50 via-gray-50 to-slate-100 border-2 border-slate-300 shadow-sm";default:return"bg-gradient-to-r from-rose-50 via-red-50 to-slate-100 border-2 border-rose-200 shadow-sm"}})()," ").concat(t?"hover:shadow-lg hover:scale-[1.01]":""),style:{contain:"layout style paint",contentVisibility:"auto"},children:[(0,Ei.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ei.jsx)("p",{className:"font-bold text-base sm:text-lg break-words leading-tight ".concat("available"===n?"text-slate-800":"text-slate-600"),children:e.name}),(0,Ei.jsx)("span",{className:"flex-shrink-0 px-2 py-0.5 rounded-lg text-[10px] font-bold uppercase tracking-wide ".concat("available"===n?"bg-emerald-500/20 text-emerald-700 border border-emerald-400/50":"no_response"===n?"bg-slate-400/20 text-slate-600 border border-slate-400/50":"bg-rose-500/20 text-rose-700 border border-rose-400/50"),children:"available"===n?"Playing":"no_response"===n?"No Vote":"Out"}),void 0!==e.jerseyNumber&&null!==e.jerseyNumber&&(0,Ei.jsxs)("span",{className:"flex-shrink-0 px-2.5 py-1 rounded-xl text-xs font-black shadow-md border-2 border-white/30 ".concat("available"===n?"bg-gradient-to-br from-indigo-500 via-purple-600 to-indigo-700 text-white":"no_response"===n?"bg-gradient-to-br from-slate-400 via-slate-500 to-slate-600 text-white":"bg-gradient-to-br from-slate-300 to-slate-400 text-slate-800"),children:["#",e.jerseyNumber]})]}),(0,Ei.jsxs)("p",{className:"text-xs mt-1 break-words ".concat("available"===n?"text-slate-600":"text-slate-500"),children:[(0,Ei.jsxs)("span",{className:"hidden sm:inline",children:[e.position," (",bi.Ah[e.position],") \u2022 "]}),(0,Ei.jsxs)("span",{className:"sm:hidden",children:[e.position," \u2022 "]}),"Skill: ",e.skillLevel," (",bi.QH[e.skillLevel],")"]})]}),(0,Ei.jsxs)("div",{className:"flex items-center space-x-1.5 sm:space-x-2 md:space-x-3 flex-shrink-0 sm:ml-auto",children:[m&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("button",{onClick:t=>Le(t,e),className:"p-2 sm:p-2.5 bg-gradient-to-br from-purple-500 to-indigo-600 text-white hover:from-purple-600 hover:to-indigo-700 rounded-xl transition-colors duration-150 shadow-md hover:shadow-lg",title:"Edit player",children:(0,Ei.jsx)(Ai.A,{size:14,className:"sm:w-4 sm:h-4"})}),(0,Ei.jsx)("button",{onClick:t=>Me(t,e),className:"p-2 sm:p-2.5 bg-gradient-to-br from-red-500 to-rose-600 text-white hover:from-red-600 hover:to-rose-700 rounded-xl transition-colors duration-150 shadow-md hover:shadow-lg",title:"Delete player",children:(0,Ei.jsx)(Pi.A,{size:14,className:"sm:w-4 sm:h-4"})})]}),(0,Ei.jsx)(Li,{value:n,onChange:t=>a(e.id,t),disabled:!t,size:"md"})]})]},e.id)})})]})}),m&&x&&(0,Ei.jsx)(qi,{availablePlayers:De.filter(e=>e.isAvailable),db:x,isAdmin:m,teamCount:g})]}),(0,Ei.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-5 border-t-2 border-indigo-200 flex flex-col gap-4 bg-gradient-to-r from-slate-50 to-blue-50 -mx-4 sm:-mx-6 px-4 sm:px-6 pb-3 sm:pb-2 rounded-b-xl sm:rounded-b-2xl",children:[(0,Ei.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,Ei.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,Ei.jsx)("p",{className:"text-sm sm:text-base md:text-lg font-bold text-slate-700",children:"Total Available:"}),(0,Ei.jsx)("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xl sm:text-2xl font-extrabold px-3 sm:px-4 py-1 sm:py-1.5 rounded-2xl shadow-lg",children:i})]}),m&&(0,Ei.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3 w-full sm:w-auto",children:[(0,Ei.jsx)("label",{className:"text-xs sm:text-sm font-semibold text-slate-600 uppercase tracking-wide",children:"Teams to Generate"}),(0,Ei.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ei.jsx)("select",{value:g,onChange:e=>v(Number(e.target.value)),className:"border-2 border-indigo-200 rounded-2xl px-3 py-2 text-sm font-semibold text-slate-700 bg-white shadow-sm focus:outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200",disabled:p,children:Gi.map(e=>(0,Ei.jsxs)("option",{value:e,children:[e," Teams"]},e))}),(0,Ei.jsx)("span",{className:"text-[11px] sm:text-xs text-slate-500 font-medium",children:"Red & Blue when set to 2"})]}),(0,Ei.jsxs)("span",{className:"text-[11px] text-slate-500 font-semibold",children:["Need at least ",y," players \u2022"," ",b?"Ready to generate":"".concat(Math.max(y-i,0)," more needed")]})]})]})]}),m?(0,Ei.jsxs)("button",{onClick:s,disabled:!b||n||p,className:"bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 text-white font-bold py-2.5 sm:py-3.5 px-4 sm:px-6 md:px-8 rounded-2xl hover:from-purple-700 hover:via-indigo-700 hover:to-blue-700 transition-all duration-300 shadow-xl hover:shadow-2xl flex items-center justify-center disabled:bg-gray-400 disabled:shadow-none transform hover:scale-105 disabled:transform-none w-full text-sm sm:text-base",children:[(0,Ei.jsx)(c.A,{className:"mr-2",size:18})," ",(0,Ei.jsx)("span",{children:"Generate Teams"})]}):(0,Ei.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 italic font-medium bg-slate-100 px-3 sm:px-4 py-2 rounded-xl text-center sm:text-left w-full",children:"Only admins can generate teams"})]}),h&&(0,Ei.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-2xl text-sm font-semibold shadow-md",children:h}),A&&(0,Ei.jsx)(zi,{player:A,onClose:()=>P(null),onSave:ze}),j&&(0,Ei.jsx)(Ui,{onClose:()=>D(!1),onAddPlayer:d}),R&&(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-md mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-red-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-red-200/40 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-rose-200/40 rounded-full blur-3xl"})]}),(0,Ei.jsx)("button",{onClick:()=>O(null),className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-red-500 to-rose-600 flex items-center justify-center shadow-lg",children:(0,Ei.jsx)(Pi.A,{className:"w-6 h-6 text-white"})}),(0,Ei.jsx)("h2",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Delete Player?"})]}),(0,Ei.jsxs)("p",{className:"text-sm sm:text-base text-slate-600 mb-6 pl-1",children:["Are you sure you want to delete ",(0,Ei.jsx)("span",{className:"font-semibold text-slate-800",children:R.name}),"? This action cannot be undone."]}),(0,Ei.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-2 sm:justify-end",children:[(0,Ei.jsx)("button",{onClick:()=>O(null),className:"px-5 py-2.5 bg-slate-200/80 text-slate-800 font-semibold rounded-xl hover:bg-slate-300 transition-all duration-200 hover:scale-105 active:scale-95",children:"Cancel"}),(0,Ei.jsxs)("button",{onClick:Fe,className:"px-5 py-2.5 bg-gradient-to-r from-red-500 to-rose-600 text-white font-semibold rounded-xl hover:from-red-600 hover:to-rose-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 flex items-center gap-2",children:[(0,Ei.jsx)(Pi.A,{className:"w-4 h-4"}),"Delete Player"]})]})]})]})}),G&&(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&(Q(!1),se(null),ee(""),ne(""))},children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-yellow-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-yellow-200/40 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-amber-200/40 rounded-full blur-3xl"})]}),(0,Ei.jsx)("button",{onClick:()=>{Q(!1),se(null),ee(""),ne("")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-amber-600 flex items-center justify-center shadow-lg",children:(0,Ei.jsx)(ji.A,{className:"w-6 h-6 text-white"})}),(0,Ei.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Nominate Man of the Match"})]}),(0,Ei.jsxs)("div",{className:"mb-6 p-4 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-200/60 rounded-xl shadow-sm",children:[(0,Ei.jsx)("p",{className:"text-sm font-semibold text-yellow-800 mb-1",children:"Game:"}),(0,Ei.jsx)("p",{className:"text-sm text-yellow-700 font-medium",children:"Today's Game"})]}),(0,Ei.jsxs)("div",{className:"space-y-4",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player"}),(0,Ei.jsxs)("select",{value:Z,onChange:e=>{ee(e.target.value),se(null)},className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:border-yellow-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",required:!0,disabled:re,children:[(0,Ei.jsx)("option",{value:"",children:"Select a player"}),Ie.map(e=>(0,Ei.jsx)("option",{value:e.id,children:e.name},e.id))]}),"admin"!==E&&0===Ie.length&&(0,Ei.jsx)("p",{className:"mt-2 text-xs text-slate-500 italic",children:"You cannot nominate yourself or players you registered."})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason (Optional)"}),(0,Ei.jsx)("textarea",{value:te,onChange:e=>{ne(e.target.value),se(null)},placeholder:"Why did this player deserve Man of the Match?",rows:4,className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-yellow-500/50 focus:border-yellow-500 transition duration-150 resize-none bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",disabled:re})]}),ae&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md",children:ae}),oe&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-300 text-emerald-700 rounded-xl text-sm font-semibold shadow-md",children:oe}),(0,Ei.jsxs)("button",{onClick:async()=>{if(Z)if(x&&w&&S){se(null),ie(!0);try{const e=Bi.ON.motm(),n=(0,vi.rJ)(x,e),r=t.find(e=>e.id===Z);if(!r)throw new Error("Player not found");const i=(0,Ki.X2)((null===W||void 0===W?void 0:W.schedule)||null)||(new Date).toDateString();if(await(0,vi.gS)(n,{gameDate:i,nominatedPlayerId:Z,nominatedPlayerName:r.name,nominatedBy:w,nominatedByEmail:S,reason:te.trim()||void 0,createdAt:vi.Dc.now()}),r.userId){const e=Bi.ON.userNotifications(),t=(0,vi.rJ)(x,e);await(0,vi.gS)(t,{userId:r.userId,type:"motm",message:"".concat(S," nominated you for Man of the Match!"),fromUserEmail:S,relatedPlayerId:Z,relatedPlayerName:r.name,createdAt:vi.Dc.now(),read:!1})}le("Nomination submitted successfully!"),ee(""),ne(""),Q(!1),setTimeout(()=>le(null),3e3)}catch(e){console.error("Error submitting nomination:",e),se("Failed to submit nomination: ".concat(e.message))}finally{ie(!1)}}else se("Missing required information.");else se("Please select a player.")},disabled:re||!Z,className:"w-full flex items-center justify-center gap-2 px-5 py-3 text-base font-bold text-white bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ei.jsx)(ji.A,{size:20})," ",re?"Submitting...":"Submit Nomination"]})]})]})]})}),Y&&(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&($(!1),ge(null),ue(""),he(""))},children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-pink-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-pink-200/40 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-rose-200/40 rounded-full blur-3xl"})]}),(0,Ei.jsx)("button",{onClick:()=>{$(!1),ge(null),ue(""),he("")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg",children:(0,Ei.jsx)(Di.A,{className:"w-6 h-6 text-white"})}),(0,Ei.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Give Kudos"})]}),(0,Ei.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(ce&&de.trim())if(x&&w&&S){ge(null),pe(!0);try{const e=Bi.ON.kudos(),n=(0,vi.rJ)(x,e),r=t.find(e=>e.id===ce);if(!r)throw new Error("Player not found");if(await(0,vi.gS)(n,{fromUserId:w,fromUserEmail:S,toPlayerId:ce,toPlayerName:r.name,message:de.trim(),createdAt:vi.Dc.now()}),r.userId){const e=Bi.ON.userNotifications(),t=(0,vi.rJ)(x,e);await(0,vi.gS)(t,{userId:r.userId,type:"kudos",message:"".concat(S," gave you kudos!"),fromUserEmail:S,relatedPlayerId:ce,relatedPlayerName:r.name,createdAt:vi.Dc.now(),read:!1})}ue(""),he(""),$(!1),ge(null)}catch(e){console.error("Error submitting kudos:",e),ge("Failed to submit kudos. Please try again.")}finally{pe(!1)}}else ge("Missing required information.");else ge("Please select a player and enter a message.")})()},className:"space-y-4",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player"}),(0,Ei.jsxs)("select",{value:ce,onChange:e=>{ue(e.target.value),ge(null)},className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-pink-500/50 focus:border-pink-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",required:!0,disabled:fe,children:[(0,Ei.jsx)("option",{value:"",children:"Select a player"}),Ie.map(e=>(0,Ei.jsx)("option",{value:e.id,children:e.name},e.id))]}),"admin"!==E&&0===Ie.length&&(0,Ei.jsx)("p",{className:"mt-2 text-xs text-slate-500 italic",children:"You cannot give kudos to yourself or players you registered."})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Message"}),(0,Ei.jsx)("textarea",{value:de,onChange:e=>{he(e.target.value),ge(null)},placeholder:"e.g., Great goal today! Amazing teamwork in defense...",rows:4,className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-pink-500/50 focus:border-pink-500 transition duration-150 resize-none bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",required:!0,disabled:fe})]}),me&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md",children:me}),(0,Ei.jsxs)("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-5 py-3 text-base font-bold text-white bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",disabled:fe,children:[(0,Ei.jsx)(Ri.A,{size:20})," ",fe?"Sending...":"Send Kudos"]})]})]})]})}),J&&(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",onClick:e=>{e.target===e.currentTarget&&(X(!1),Ne(null),ye(""),we(""),ke(""))},children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-amber-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",onClick:e=>e.stopPropagation(),children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-amber-200/40 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-orange-200/40 rounded-full blur-3xl"})]}),(0,Ei.jsx)("button",{onClick:()=>{X(!1),Ne(null),ye(""),we(""),ke("")},className:"absolute top-4 right-4 sm:top-5 sm:right-5 z-30 w-10 h-10 sm:w-11 sm:h-11 flex items-center justify-center bg-white/95 backdrop-blur-sm border-2 border-slate-200/60 rounded-full shadow-lg hover:shadow-xl hover:bg-white hover:border-slate-300 transition-all duration-200 hover:scale-110 active:scale-95 group",type:"button","aria-label":"Close modal",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-lg",children:(0,Ei.jsx)(Oi.A,{className:"w-6 h-6 text-white"})}),(0,Ei.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Add Points"})]}),(0,Ei.jsxs)("div",{className:"space-y-4",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player"}),(0,Ei.jsxs)("select",{value:ve,onChange:e=>{ye(e.target.value),Ne(null)},className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",required:!0,disabled:_e,children:[(0,Ei.jsx)("option",{value:"",children:"Select a player"}),Ie.map(e=>(0,Ei.jsx)("option",{value:e.id,children:e.name},e.id))]}),"admin"!==E&&0===Ie.length&&(0,Ei.jsx)("p",{className:"mt-2 text-xs text-slate-500 italic",children:"You cannot add points for yourself or players you registered."})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),(0,Ei.jsx)("input",{type:"number",value:be,onChange:e=>{we(e.target.value),Ne(null)},placeholder:"Enter points (1-5)",min:"1",max:"5",className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",required:!0,disabled:_e}),(0,Ei.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Rate player performance from 1 to 5 based on today's game."})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason / Performance Note"}),(0,Ei.jsx)("textarea",{value:xe,onChange:e=>{ke(e.target.value),Ne(null)},placeholder:"e.g., Great goal, Excellent defense, Man of the match performance...",rows:4,className:"w-full p-3 border-2 border-slate-300 rounded-xl focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 resize-none bg-white/80 backdrop-blur-sm shadow-sm hover:shadow-md",required:!0,disabled:_e})]}),Ee&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md",children:Ee}),Te&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-300 text-emerald-700 rounded-xl text-sm font-semibold shadow-md",children:Te}),(0,Ei.jsxs)("button",{onClick:async()=>{if(!ve||!be||!xe.trim())return void Ne("Please fill in all fields.");if(!x||!w||!S)return void Ne("Missing required information.");const e=parseInt(be);if(isNaN(e)||e<1||e>5)Ne("Points must be between 1 and 5.");else{Ne(null),Se(!0);try{const n="".concat(Bi.ON.playerPoints(),"/").concat(ve),r=(0,vi.H9)(x,n),i=t.find(e=>e.id===ve);if(!i)throw new Error("Player not found");const a=await(0,vi.x7)(r);let s=0,o=[];if(a.exists()){const e=a.data();s=e.totalPoints||0,o=e.pointsHistory||[]}const l=(new Date).toDateString(),c=s+e,u={points:e,reason:xe.trim(),addedBy:S,addedAt:vi.Dc.now(),matchDate:l};await(0,vi.BN)(r,{playerId:ve,playerName:i.name,totalPoints:c,pointsHistory:[...o,u]},{merge:!1}),Ce("Points added successfully!"),ye(""),we(""),ke(""),X(!1),setTimeout(()=>Ce(null),3e3)}catch(n){console.error("Error adding points:",n),Ne("Failed to add points: ".concat(n.message))}finally{Se(!1)}}},disabled:_e||!ve||!be||!xe.trim(),className:"w-full flex items-center justify-center gap-2 px-5 py-3 text-base font-bold text-white bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ei.jsx)(Oi.A,{size:20})," ",_e?"Adding...":"Add Points"]})]})]})]})})]})};var Yi=n(7819);const $i=e=>{let{userEmail:t,onRegister:n}=e;const[i,a]=(0,r.useState)(""),[s,o]=(0,r.useState)("CM"),[l,c]=(0,r.useState)(5),[u,d]=(0,r.useState)(void 0),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null);return(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-[9999] overflow-y-auto animate-in fade-in duration-200",children:(0,Ei.jsxs)("div",{className:"bg-gradient-to-br from-slate-50/98 via-white/98 to-slate-50/98 backdrop-blur-xl w-[calc(100%-2rem)] max-w-full sm:max-w-2xl mx-4 my-4 sm:my-8 max-h-[90vh] sm:max-h-[85vh] rounded-3xl shadow-[0_25px_70px_rgba(15,23,42,0.4)] border-2 border-amber-200/60 p-5 sm:p-6 md:p-8 relative overflow-y-auto animate-in slide-in-from-bottom-4 duration-300",children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-amber-200/40 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-36 h-36 bg-yellow-200/40 rounded-full blur-3xl"})]}),(0,Ei.jsxs)("div",{className:"relative z-10",children:[(0,Ei.jsxs)("div",{className:"flex items-start gap-3 mb-6",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-600 flex items-center justify-center shadow-lg flex-shrink-0",children:(0,Ei.jsx)(Yi.A,{className:"w-6 h-6 text-white"})}),(0,Ei.jsxs)("div",{className:"flex-1",children:[(0,Ei.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:"Welcome! Please Register"}),(0,Ei.jsx)("p",{className:"text-sm text-slate-600 mt-1 font-medium",children:"You need to register as a player before accessing the dashboard."})]})]}),(0,Ei.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 border-2 border-blue-200/60 rounded-xl shadow-sm",children:(0,Ei.jsxs)("p",{className:"text-sm text-blue-800 font-semibold",children:[(0,Ei.jsx)("span",{className:"font-bold",children:"Email:"})," ",t]})}),(0,Ei.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m(null),i.trim()){if(void 0!==u&&null!==u){const e=Number(u);if(isNaN(e)||e<0||e>99||!Number.isInteger(e))return void m("Jersey number must be between 0 and 99.")}f(!0),m(null);try{await n({name:i.trim(),position:s,skillLevel:l,jerseyNumber:void 0!==u&&null!==u?Number(u):void 0}),m(null)}catch(t){m(t.message||"Failed to register. Please try again."),f(!1)}}else m("Please enter your name.")},className:"space-y-4",children:[(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Your Name ",(0,Ei.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Ei.jsx)("input",{type:"text",placeholder:"Enter your full name",value:i,onChange:e=>{a(e.target.value),m(null)},required:!0,className:"w-full p-3 border-2 border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 shadow-sm hover:shadow-md",disabled:h})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsx)("select",{value:s,onChange:e=>o(e.target.value),className:"w-full p-3 appearance-none border-2 border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 shadow-sm hover:shadow-md",disabled:h,children:bi.lP.map(e=>(0,Ei.jsxs)("option",{value:e,children:[e," - ",bi.Ah[e]]},e))}),(0,Ei.jsx)(Fi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Jersey Number ",(0,Ei.jsx)("span",{className:"text-xs font-normal text-gray-500",children:"(Optional)"})]}),(0,Ei.jsx)("input",{type:"number",placeholder:"Enter jersey number (0-99)",value:null!==u&&void 0!==u?u:"",onChange:e=>{const t=e.target.value;if(""===t)d(void 0);else{const e=parseInt(t);isNaN(e)||d(e)}m(null)},min:"0",max:"99",className:"w-full p-3 border-2 border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition duration-150 shadow-sm hover:shadow-md placeholder:text-gray-400",disabled:h}),(0,Ei.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if no jersey number assigned"})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Skill Level:"," ",(0,Ei.jsxs)("span",{className:"font-semibold text-blue-600",children:[l," (",bi.QH[l],")"]})]}),(0,Ei.jsx)("input",{type:"range",min:"1",max:"10",value:l,onChange:e=>c(parseInt(e.target.value)),className:"w-full h-2.5 bg-gradient-to-r from-slate-200 to-slate-300 rounded-xl appearance-none cursor-pointer range-lg shadow-inner",disabled:h}),(0,Ei.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ei.jsx)("span",{children:"1 (Newbie)"}),(0,Ei.jsx)("span",{children:"10 (Legend)"})]})]}),p&&(0,Ei.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-50 to-rose-50 border-2 border-red-300 text-red-700 rounded-xl text-sm font-semibold shadow-md",children:p}),(0,Ei.jsx)("div",{className:"flex justify-end pt-6",children:(0,Ei.jsx)("button",{type:"submit",disabled:h||!i.trim(),className:"px-6 py-3 bg-gradient-to-r from-amber-600 to-yellow-600 text-white rounded-xl hover:from-amber-700 hover:to-yellow-700 transition-all duration-200 disabled:bg-gray-400 flex items-center gap-2 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:h?"Registering...":(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)(xi,{className:"w-5 h-5"})," Complete Registration"]})})})]})]})]})})},Ji=(0,s.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Xi=r.memo(e=>{let{userEmail:t,userRole:n,playerName:i,onSignOut:a}=e;const[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),u=(0,r.useRef)(null),h=(e,t)=>{if(e){const t=e.trim().split(/\s+/);if(t.length>=2)return(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase();if(1===t.length){const e=t[0];return e.length>=2?(e.charAt(0)+e.charAt(1)).toUpperCase():e.charAt(0).toUpperCase()}}return t?t.charAt(0).toUpperCase():"?"},f=(e=>{if(!e)return"from-indigo-500 to-purple-600";const t=e.split("").reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0),n=["from-indigo-500 to-purple-600","from-blue-500 to-cyan-600","from-purple-500 to-pink-600","from-emerald-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600"];return n[Math.abs(t)%n.length]})(t);return(0,r.useEffect)(()=>{if(s&&u.current){const e=u.current.getBoundingClientRect(),t=Math.min(360,window.innerWidth-16),n=window.innerWidth-e.right,r=e.left;let i=n;n<8&&(i=window.innerWidth-r-t),i=Math.max(8,Math.min(i,window.innerWidth-t-8));const a=200,s=window.innerHeight-e.bottom;let o=e.bottom+8;s<a&&e.top>a&&(o=e.top-a-8),c({top:Math.max(8,o),right:i})}else c(null)},[s]),(0,Ei.jsxs)("div",{className:"relative",children:[(0,Ei.jsxs)("button",{ref:u,onClick:()=>o(!s),className:"relative w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br ".concat(f," flex items-center justify-center text-white font-bold text-lg sm:text-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 border-2 border-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2"),"aria-label":"User menu",children:[h(i,t||void 0),"admin"===n&&(0,Ei.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full border-2 border-white flex items-center justify-center",children:(0,Ei.jsx)(d.A,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-white"})})]}),s&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"fixed inset-0 z-[110]",onClick:()=>o(!1)}),l&&(0,Ei.jsxs)("div",{className:"fixed w-[280px] sm:w-[320px] md:w-[360px] max-w-[calc(100vw-1rem)] bg-white/98 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-200/60 z-[120] overflow-visible animate-in fade-in slide-in-from-top-2 duration-200",style:{top:"".concat(l.top,"px"),right:"".concat(l.right,"px"),left:"auto",maxHeight:"calc(100vh - 16px)",overflowY:"auto"},children:[(0,Ei.jsxs)("div",{className:"bg-gradient-to-br ".concat(f," p-4 sm:p-5 md:p-6 text-white relative overflow-hidden rounded-t-3xl"),children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-black/10 rounded-t-3xl"}),(0,Ei.jsxs)("div",{className:"relative flex items-center gap-3 sm:gap-4",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full bg-white/25 backdrop-blur-sm flex items-center justify-center text-white font-bold text-xl sm:text-2xl border-[3px] border-white/40 shadow-xl ring-2 ring-white/20 flex-shrink-0",children:h(i,t||void 0)}),(0,Ei.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ei.jsx)("p",{className:"font-bold text-sm sm:text-base md:text-lg truncate drop-shadow-md mb-1",children:t||"User"}),i&&(0,Ei.jsx)("p",{className:"text-xs sm:text-sm text-white/90 truncate font-medium mb-1.5",children:i}),"admin"===n&&(0,Ei.jsxs)("div",{className:"flex items-center gap-1.5 mt-2 px-2 sm:px-2.5 py-0.5 sm:py-1 bg-white/20 backdrop-blur-sm rounded-full border border-white/30 w-fit",children:[(0,Ei.jsx)(d.A,{className:"w-3 sm:w-3.5 h-3 sm:h-3.5"}),(0,Ei.jsx)("span",{className:"text-[10px] sm:text-xs font-bold",children:"Administrator"})]})]})]})]}),(0,Ei.jsx)("div",{className:"p-3 sm:p-4 bg-gradient-to-b from-slate-50/50 to-white border-t border-slate-200/50 rounded-b-3xl",children:(0,Ei.jsxs)("button",{onClick:()=>{o(!1),a()},className:"w-full flex items-center justify-center gap-2 sm:gap-2.5 px-4 sm:px-5 py-3 sm:py-3.5 text-xs sm:text-sm font-bold text-white bg-gradient-to-r from-red-500 via-red-600 to-rose-600 hover:from-red-600 hover:via-red-700 hover:to-rose-700 rounded-2xl transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] border border-red-400/30 min-h-[44px]",children:[(0,Ei.jsx)(Ji,{className:"w-4 h-4 flex-shrink-0"}),(0,Ei.jsx)("span",{children:"Sign Out"})]})})]})]})]})});Xi.displayName="ProfileMenu";const Zi=Xi,ea=(0,s.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ta=r.memo(()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),a=(0,r.useRef)(null);return(0,r.useEffect)(()=>{e&&a.current?setTimeout(()=>{if(a.current){const e=a.current.getBoundingClientRect(),t=Math.min(420,window.innerWidth-32),n=window.innerWidth-e.right,r=e.left;let s=n;n<16&&(s=window.innerWidth-r-t),s=Math.max(16,Math.min(s,window.innerWidth-t-16));const o=150,l=window.innerHeight-e.bottom;let c=e.bottom+12;l<o&&e.top>o&&(c=e.top-o-12),i({top:Math.max(16,c),right:s})}},10):i(null)},[e]),(0,Ei.jsxs)("div",{className:"relative flex-shrink-0",ref:a,children:[(0,Ei.jsx)("button",{onClick:()=>t(!e),className:"relative w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center text-slate-300 hover:text-white hover:bg-white/20 transition-all duration-300 hover:scale-110 border border-white/20 focus:outline-none focus:ring-2 focus:ring-white/50","aria-label":"App information",children:(0,Ei.jsx)(ea,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"fixed inset-0 z-[110]",onClick:()=>t(!1)}),n&&(0,Ei.jsxs)("div",{className:"fixed w-[min(calc(100vw-2rem),400px)] sm:w-[420px] bg-gradient-to-br from-slate-800/95 via-slate-900/95 to-slate-800/95 backdrop-blur-xl text-white text-xs sm:text-sm rounded-3xl shadow-2xl pointer-events-auto z-[120] border border-slate-700/60 p-4 sm:p-5 transition-all duration-200",style:{top:"".concat(n.top,"px"),right:"".concat(n.right,"px"),left:"auto",maxHeight:"calc(100vh - 32px)",overflowY:"auto"},children:[(0,Ei.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-2",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ei.jsx)(ea,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-400 flex-shrink-0"}),(0,Ei.jsx)("h3",{className:"font-bold text-sm sm:text-base text-amber-300",children:"About Sagarmatha FC"})]}),(0,Ei.jsx)("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-white transition-colors flex-shrink-0","aria-label":"Close",children:(0,Ei.jsx)(f.A,{size:18})})]}),(0,Ei.jsx)("p",{className:"leading-relaxed text-slate-200 whitespace-normal break-words",children:"Manage Sagarmatha FC players, track availability, and generate fair teams. The Player Roster is shared. Sign-in required for access."}),(0,Ei.jsx)("div",{className:"absolute right-6 -top-2 w-0 h-0 border-l-[8px] border-r-[8px] border-b-[8px] border-transparent border-b-slate-900"})]})]})]})});ta.displayName="InfoTooltip";const na=ta,ra=r.memo(e=>{let{db:t}=e;const[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),l=(0,r.useRef)([]);(0,r.useEffect)(()=>{l.current=s},[s]),(0,r.useEffect)(()=>{if(!t)return;const e=Bi.ON.notifications(),n=(0,vi.rJ)(t,e),r=(0,vi.P)(n,(0,vi.My)("createdAt","desc")),s=(0,vi.aQ)(r,e=>{const t=e.docs.map(e=>(0,a.A)({id:e.id},e.data())).filter(e=>e.isCritical&&!l.current.includes(e.id));i(t.slice(0,3))},e=>{console.error("Error fetching notifications:",e)});return()=>s()},[t]);const c=(0,r.useCallback)(e=>{o(t=>t.includes(e)?t:[...t,e])},[]);return(0,Ei.jsx)("div",{className:"max-w-5xl mx-auto px-2 sm:px-3 md:px-4 space-y-2",style:{minHeight:0===n.length?"0px":"auto",contain:"layout style paint"},children:n.map(e=>(0,Ei.jsxs)("div",{className:"bg-gradient-to-r from-red-500 via-orange-500 to-red-600 text-white p-3 sm:p-4 rounded-2xl shadow-lg border-2 border-red-400 flex items-start justify-between gap-3 animate-in fade-in slide-in-from-top duration-300",children:[(0,Ei.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,Ei.jsx)(p.A,{className:"w-5 h-5 sm:w-6 sm:h-6 flex-shrink-0 mt-0.5"}),(0,Ei.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ei.jsx)("h3",{className:"font-bold text-sm sm:text-base mb-1",children:e.title}),(0,Ei.jsx)("p",{className:"text-xs sm:text-sm text-white/95 whitespace-pre-wrap",children:e.message})]})]}),(0,Ei.jsx)("button",{onClick:()=>c(e.id),className:"text-white/80 hover:text-white transition-colors flex-shrink-0","aria-label":"Dismiss notification",children:(0,Ei.jsx)(f.A,{size:20})})]},e.id))})});ra.displayName="NotificationsBanner";const ia=ra;function aa(e){return 3===function(e,t){const n=Math.abs(t.getTime()-e.getTime());return Math.floor(n/864e5)}(new Date,e)}async function sa(e,t){if(!e)return!1;try{const n=Bi.ON.notifications(),r=(0,vi.rJ)(e,n),i=(0,vi.P)(r,(0,vi._M)("type","==","game_reminder"),(0,vi._M)("gameDate","==",t));return!(await(0,vi.GG)(i)).empty}catch(n){return console.error("Error checking reminder status:",n),!1}}async function oa(e,t,n){if(e&&t)try{const r=function(e){if(!e||!e.schedule||0===Object.keys(e.schedule).length)return[];const t=new Date,n=[];for(let i=0;i<7;i++){const a=new Date(t);a.setDate(t.getDate()+i);const s=a.getDay();if(e.schedule[s]){var r;const[t,i]=e.schedule[s].split(":").map(Number),o=new Date(a);o.setHours(t,i,0,0);const l=null===(r=e.location)||void 0===r?void 0:r[s];n.push({date:o,dayOfWeek:s,location:l})}}return n}(t);for(const t of r)if(aa(t.date)){const r=t.date.toDateString();if(await sa(e,r))continue;const i=t.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),a=t.date.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),s=t.location?" at ".concat(t.location):"",o="Game reminder: Your next game is on ".concat(a," at ").concat(i).concat(s,". Don't forget to update your availability!"),l=Bi.ON.notifications(),c=(0,vi.rJ)(e,l);await(0,vi.gS)(c,{type:"game_reminder",title:"Game Reminder - 3 Days",message:o,gameDate:r,gameDateTime:vi.Dc.fromDate(t.date),location:t.location||"",createdAt:vi.Dc.now(),readBy:[]});const u=Bi.ON.userNotifications(),d=(0,vi.rJ)(e,u),h=n.filter(e=>e.userId).map(e=>(0,vi.gS)(d,{userId:e.userId,type:"game_reminder",message:o,gameDate:r,gameDateTime:vi.Dc.fromDate(t.date),location:t.location||"",createdAt:vi.Dc.now(),read:!1}));await Promise.all(h)}}catch(r){throw console.error("Error sending game reminders:",r),r}}const la=(0,r.lazy)(()=>n.e(87).then(n.bind(n,2087))),ca=(0,r.lazy)(()=>n.e(26).then(n.bind(n,26))),ua=(0,r.lazy)(()=>n.e(927).then(n.bind(n,5927))),da=(0,r.lazy)(()=>n.e(461).then(n.bind(n,9461))),ha=(0,r.lazy)(()=>n.e(832).then(n.bind(n,7832))),fa=(0,r.lazy)(()=>n.e(399).then(n.bind(n,4399))),pa={apiKey:"AIzaSyASFx_hSsJ2Rq9qdJuaND7fsRy-Vlsc34c",authDomain:"team-balancer-f196a.firebaseapp.com",projectId:"team-balancer-f196a",storageBucket:"team-balancer-f196a.firebasestorage.app",messagingSenderId:"203717528050",appId:"1:203717528050:web:b44ab600e2255cdea3836b",measurementId:"G-FL3HFEJYNE"};function ma(){var e;const[t,n]=(0,r.useState)(null),[i,s]=(0,r.useState)(null),[g,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(!1),[x,k]=(0,r.useState)(null),[_,S]=(0,r.useState)("user"),[E,N]=(0,r.useState)([]),[T,C]=(0,r.useState)(null),[I,A]=(0,r.useState)(!0),[P,j]=(0,r.useState)(2),[D,R]=(0,r.useState)("poll"),[O,L]=(0,r.useState)(null),[M,F]=(0,r.useState)(null),[z,U]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),[q,H]=(0,r.useState)(!1),[K,W]=(0,r.useState)(!1),G=(0,r.useCallback)(e=>"poll"===e?0:"leaderboard"===e?1:"teams"===e?2:"questions"===e?3:4,[]),Q=(0,r.useCallback)(e=>{if(D!==e){const t=G(D),n=G(e);(0,r.startTransition)(()=>{L(n>t?"left":"right"),setTimeout(()=>{(0,r.startTransition)(()=>{R(e),setTimeout(()=>L(null),500)})},50)})}},[D,G]),[Y,$]=(0,r.useState)(!0),[J,X]=(0,r.useState)(null),[Z,ee]=(0,r.useState)(!0),[te,ne]=(0,r.useState)(null);(0,r.useEffect)(()=>{if("undefined"===typeof window)return;const e=localStorage.getItem("preferredTeamCount");if(e){const t=parseInt(e,10);if(!Number.isNaN(t)){const e=Math.min(Math.max(t,2),6);j(e)}}},[]),(0,r.useEffect)(()=>{"undefined"!==typeof window&&localStorage.setItem("preferredTeamCount",P.toString())},[P]),(0,r.useEffect)(()=>{(0,vi.He)("debug");try{const e=pa,t=(0,m.Wp)(e);"undefined"!==typeof window&&"requestIdleCallback"in window?requestIdleCallback(()=>{try{ze(t)}catch(e){console.warn("Analytics initialization failed:",e)}}):setTimeout(()=>{try{ze(t)}catch(e){console.warn("Analytics initialization failed:",e)}},1e3);const r=(0,vi.aU)(t),i=mi(t);s(r),n(i);const a=function(e,t,n,r){return(0,v.Ku)(e).onAuthStateChanged(t,n,r)}(i,async e=>{if(e){if(y(e.uid),k(e.email),r&&e.email)try{const t="undefined"!==typeof __app_id?__app_id:"default-app-id",n="artifacts/".concat(t,"/public/data/users/").concat(e.uid),i=(0,vi.H9)(r,n),a=await(0,vi.x7)(i);if(a.exists()){const t=a.data();await(0,vi.BN)(i,{email:e.email,role:t.role||"user",lastLogin:vi.Dc.now()},{merge:!0})}else await(0,vi.BN)(i,{email:e.email,role:"user",lastLogin:vi.Dc.now()},{merge:!0})}catch(M){console.error("Error creating/updating user document:",M)}"true"===localStorage.getItem("userRegistered_".concat(e.uid))?(X(!0),ee(!1)):(X(null),ee(!1))}else y(null),k(null),X(null),ee(!1);w(!0)});return()=>a()}catch(e){console.error("Firebase Initialization Error:",e),$(!1)}},[]);const re=(0,r.useCallback)(e=>{(0,r.startTransition)(()=>{j(e),F(null)})},[]);(0,r.useEffect)(()=>{if(!i||!g)return void S("user");(async()=>{try{const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t="artifacts/".concat(e,"/public/data/users/").concat(g),n=(0,vi.H9)(i,t),r=await(0,vi.x7)(n);if(r.exists()){const e="admin"===r.data().role?"admin":"user";S(e)}else S("user")}catch(M){console.error("Error fetching user role:",M),S("user")}})()},[i,g]),(0,r.useEffect)(()=>{if(!i)return;const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t="artifacts/".concat(e,"/public/data/gameSchedule/config"),n=(0,vi.H9)(i,t),r=(0,vi.aQ)(n,async e=>{if(e.exists()){const t=e.data();if(ne(t),t.schedule&&E.length>0){const e=new Date,n=e.getDay(),r=t.schedule;if(r[n]){const[t,a]=r[n].split(":").map(Number),s=new Date(e);if(s.setHours(t,a,0,0),e>s){const t=(0,Ki.sq)(e),n=E.filter(e=>e.isAvailable&&e.userId);Promise.all(n.map(e=>(0,Ki.E5)(i,e.id,e.name,t).catch(t=>console.error("Error awarding points to ".concat(e.name,":"),t)))).catch(()=>{})}}}}else ne(null)},e=>{console.error("Error fetching game schedule:",e)});return()=>r()},[i,E]),(0,r.useEffect)(()=>{if(!i||!te)return;const e=async()=>{try{const e=new Date,t=new Date(e);t.setDate(t.getDate()-1);const n=t.getDay();if(te.schedule&&te.schedule[n]){const e=t.toDateString();await(0,Ki.zq)(i,e)}}catch(e){console.error("Error processing MOTM awards:",e)}};e();const t=setInterval(e,36e5);return()=>clearInterval(t)},[i,te]),(0,r.useEffect)(()=>{if(!i||!te||0===E.length)return;const e=async()=>{try{const e=new Date,t=new Date(e);t.setDate(t.getDate()-1);const n=t.getDay();if(te.schedule&&te.schedule[n]){const t="undefined"!==typeof __app_id?__app_id:"default-app-id",n="availability_reset_".concat(t),r=localStorage.getItem(n),a=e.toDateString();if(r===a)return;const s=E.filter(e=>"available"===e.availabilityStatus||!0===e.isAvailable);if(s.length>0){console.log("Resetting ".concat(s.length," players to 'no_response' after game day"));const e=s.map(async e=>{const n="artifacts/".concat(t,"/public/data/soccer_players/").concat(e.id),r=(0,vi.H9)(i,n);await(0,vi.mZ)(r,{availabilityStatus:"no_response",isAvailable:!1})});await Promise.all(e),localStorage.setItem(n,a),console.log("Availability reset complete")}}}catch(e){console.error("Error resetting availability:",e)}};e();const t=setInterval(e,36e5);return()=>clearInterval(t)},[i,te,E]),(0,r.useEffect)(()=>{if(!i||!te||!g||"admin"!==_)return;const e=async()=>{try{const e=E.map(e=>({id:e.id,userId:e.userId||void 0}));await oa(i,te,e)}catch(e){console.error("Error sending game reminders:",e)}};e();const t=setInterval(e,216e5);return()=>clearInterval(t)},[i,te,g,_,E]);(0,r.useEffect)(()=>{if(!i)return;$(!0);const e=Bi.ON.players(),t=(0,vi.rJ)(i,e),n=(0,vi.aQ)(t,e=>{const t=e.docs.map(e=>{const t=e.data(),n=Math.max(1,Math.min(10,t.skillLevel||5)),r=bi.lP.includes(t.position)?t.position:"CM",i=t.availabilityStatus?t.availabilityStatus:(e=>!0===e?"available":!1===e?"unavailable":"no_response")(t.isAvailable),a=yi(i);return{id:e.id,name:t.name||"",skillLevel:n,position:r,isAvailable:a,availabilityStatus:i,jerseyNumber:void 0!==t.jerseyNumber&&null!==t.jerseyNumber?Number(t.jerseyNumber):void 0,userId:t.userId||void 0,registeredBy:t.registeredBy||void 0}});N(t),$(!1)},e=>{console.error("Firestore Listener Error:",e),$(!1)});return()=>n()},[i]),(0,r.useEffect)(()=>{if(!i)return;let e=!0;A(!0);const t=Bi.ON.teams(),n=(0,vi.H9)(i,t),r=(0,vi.aQ)(n,t=>{if(e&&(e=!1),!t.exists())return C(e=>null),void A(!1);const n=t.data();let r,i=null;Array.isArray(n.teams)?(i=n.teams.map((e,t)=>{const r=n.teams&&2===n.teams.length?0===t?"blue":"red":wi.kR[t%wi.kR.length];return(0,a.A)((0,a.A)({},e),{},{players:e.players||[],colorKey:e.colorKey||r})}),r=n.generatedAt):n.teamA&&n.teamB&&(i=[(0,a.A)((0,a.A)({},n.teamA),{},{colorKey:n.teamA.colorKey||"blue"}),(0,a.A)((0,a.A)({},n.teamB),{},{colorKey:n.teamB.colorKey||"red"})],r=n.generatedAt),C(e=>{if(null===i)return null===e?e:null;if(e&&e.teams.length===i.length&&e.generatedAt===r){const t=e.teams.every((e,t)=>{var n,r;const a=i[t];if(e.name!==a.name||e.totalSkill!==a.totalSkill||e.colorKey!==a.colorKey||((null===(n=e.players)||void 0===n?void 0:n.length)||0)!==((null===(r=a.players)||void 0===r?void 0:r.length)||0))return!1;if(e.players&&a.players){const t=e.players.map(e=>null===e||void 0===e?void 0:e.id).filter(Boolean).sort().join(","),n=a.players.map(e=>null===e||void 0===e?void 0:e.id).filter(Boolean).sort().join(",");if(t!==n)return!1}return!0});if(t)return e}return{teams:i,generatedAt:r}}),A(!1)},e=>{console.error("Firestore Teams Listener Error:",e),A(!1)});return()=>r()},[i]);const ie=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i)throw F("Database connection not ready. Please wait."),new Error("Database connection not ready. Please wait.");const n=await(async e=>{if(!i)return!1;try{const t="undefined"!==typeof __app_id?__app_id:"default-app-id",n="artifacts/".concat(t,"/public/data/soccer_players"),r=(0,vi.rJ)(i,n),a=await(0,vi.GG)(r),s=e.trim().toLowerCase();return a.docs.some(e=>{var t;return((null===(t=e.data().name)||void 0===t?void 0:t.toLowerCase())||"")===s})}catch(M){return console.error("Error checking player name:",M),!1}})(e.name);if(n){const t='A player with the name "'.concat(e.name,'" is already registered. Please use a different name.');throw new Error(t)}F(null);const r="undefined"!==typeof __app_id?__app_id:"default-app-id",a="artifacts/".concat(r,"/public/data/soccer_players"),s=(0,vi.rJ)(i,a);try{const n={name:e.name.trim(),position:e.position,skillLevel:e.skillLevel,isAvailable:!0};void 0!==e.jerseyNumber&&null!==e.jerseyNumber&&(n.jerseyNumber=e.jerseyNumber),t&&g?n.userId=g:!t&&g&&(n.registeredBy=g),await(0,vi.gS)(s,n),F(null),t&&(X(!0),ee(!1),F(null),g&&localStorage.setItem("userRegistered_".concat(g),"true"))}catch(o){console.error("Error adding document: ",o);throw F("Failed to save player to database."),o}};(0,r.useEffect)(()=>{(async()=>{if(!i||!g)return X(null),void ee(!1);ee(!0);try{const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t="artifacts/".concat(e,"/public/data/soccer_players"),n=(0,vi.rJ)(i,t),r=(0,vi.P)(n,(0,vi._M)("userId","==",g)),a=!(await(0,vi.GG)(r)).empty;X(a),g&&localStorage.setItem("userRegistered_".concat(g),a.toString())}catch(M){console.error("Error checking user registration:",M),X(!1)}finally{ee(!1)}})()},[g,i]);const ae=(0,r.useCallback)(async()=>{if(i)try{const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t="artifacts/".concat(e,"/public/data/teams/current"),n=(0,vi.H9)(i,t);await(0,vi.kd)(n)}catch(M){console.error("Error clearing teams:",M)}},[i]),se=(0,r.useCallback)(async()=>{if("admin"!==_||!i)return F("Only admins can reset availability."),{success:!1,count:0};try{const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t=E.filter(e=>"available"===e.availabilityStatus||!0===e.isAvailable);if(0===t.length)return{success:!0,count:0,message:"No players with 'Playing' status to reset."};(0,r.startTransition)(()=>{N(e=>e.map(e=>"available"===e.availabilityStatus||!0===e.isAvailable?(0,a.A)((0,a.A)({},e),{},{isAvailable:!1,availabilityStatus:"no_response"}):e))});const n=t.map(async t=>{const n="artifacts/".concat(e,"/public/data/soccer_players/").concat(t.id),r=(0,vi.H9)(i,n);await(0,vi.mZ)(r,{availabilityStatus:"no_response",isAvailable:!1})});return await Promise.all(n),await ae(),{success:!0,count:t.length,message:"Reset ".concat(t.length," player(s) to 'No Vote' status."),players:t.map(e=>e.name)}}catch(e){return console.error("Error resetting availability:",e),F("Failed to reset availability."),{success:!1,count:0,message:"Failed to reset availability."}}},[E,_,i,ae]),oe=(0,r.useCallback)(async(e,t)=>{const n=E.find(t=>t.id===e);if(!n)return;if("admin"!==_&&g){if(!(n.userId===g||n.registeredBy===g))return void(0,r.startTransition)(()=>{F("You can only change availability for your own player or players you registered.")})}const s=yi(t);(0,r.startTransition)(()=>{N(n=>n.map(n=>n.id===e?(0,a.A)((0,a.A)({},n),{},{isAvailable:s,availabilityStatus:t}):n)),F(null)}),i&&Promise.resolve().then(async()=>{try{const n="undefined"!==typeof __app_id?__app_id:"default-app-id",r="artifacts/".concat(n,"/public/data/soccer_players/").concat(e),a=(0,vi.H9)(i,r);await(0,vi.mZ)(a,{availabilityStatus:t,isAvailable:s}),await ae()}catch(n){console.error("Error updating availability: ",n),(0,r.startTransition)(()=>{F("Failed to update availability.")})}})},[E,_,g,i,ae]),le=(0,r.useMemo)(()=>E.filter(e=>e.isAvailable),[E]),ce=le.length,ue=Math.max(P,2),de=ce>=ue,he=(0,r.useCallback)(async()=>{if("admin"!==_)return void F("Only adminS can generate teams.");F(null);const e=Math.min(Math.max(P,2),6);e!==P&&j(e);const t=Math.max(e,2);if(le.length<t)return void F("Need at least ".concat(t," available players to create ").concat(e," team(s)."));if(!i)return void F("Database connection not ready. Please wait.");let n={};try{const e=Bi.ON.teamAssignments(),t=(0,vi.H9)(i,e),r=await(0,vi.x7)(t);if(r.exists()){const e=r.data();n=e.assignments||{}}}catch(M){console.error("Error loading team assignments:",M)}const r=[...le].sort((e,t)=>t.skillLevel-e.skillLevel),a=Array.from({length:e},(t,n)=>{const r=(t=>2===e?0===t?"red":"blue":wi.kR[t%wi.kR.length])(n);let i;if(2===e)i=0===n?"Red Team":"Blue Team";else{const e=(0,wi.HJ)(r);i="".concat(e," Team")}return{name:i,players:[],totalSkill:0,colorKey:r}}),s=new Map;a.forEach((e,t)=>{e.colorKey&&s.set(e.colorKey,t)});const o=[],l=[];r.forEach(e=>{const t=n[e.id];if(t){const n=s.get(t);void 0!==n?o.push({player:e,teamIndex:n}):l.push(e)}else l.push(e)}),o.forEach(e=>{let{player:t,teamIndex:n}=e;a[n].players.push(t),a[n].totalSkill+=t.skillLevel}),l.forEach(e=>{let t=0;for(let n=1;n<a.length;n++){const e=a[n],r=a[t];(e.totalSkill<r.totalSkill||e.totalSkill===r.totalSkill&&e.players.length<r.players.length)&&(t=n)}a[t].players.push(e),a[t].totalSkill+=e.skillLevel});const c={teams:a.map(e=>{const t={name:e.name,totalSkill:e.totalSkill,players:e.players.map(e=>{const t={id:e.id,name:e.name,position:e.position,skillLevel:e.skillLevel,isAvailable:e.isAvailable};return void 0!==e.userId&&(t.userId=e.userId),void 0!==e.registeredBy&&(t.registeredBy=e.registeredBy),void 0!==e.jerseyNumber&&null!==e.jerseyNumber&&(t.jerseyNumber=e.jerseyNumber),t})};return void 0!==e.colorKey&&(t.colorKey=e.colorKey),t}),generatedAt:(new Date).toISOString()};try{const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t="artifacts/".concat(e,"/public/data/teams/current"),n=(0,vi.H9)(i,t);await(0,vi.BN)(n,c,{merge:!1}),R("teams"),F(null)}catch(M){console.error("Error saving teams:",M);const t=(null===M||void 0===M?void 0:M.message)||"Unknown error occurred";F("Failed to save teams to database: ".concat(t))}},[_,P,le,i]),fe=b&&i,pe=(0,r.useMemo)(()=>{var e;return null===(e=E.find(e=>e.userId===g))||void 0===e?void 0:e.name},[E,g]);return(0,Ei.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 font-sans",children:[(0,Ei.jsxs)("div",{className:"fixed inset-0 pointer-events-none z-0",style:{contain:"layout style paint",willChange:"auto"},"aria-hidden":"true",children:[(0,Ei.jsx)("div",{className:"absolute -top-24 -right-16 w-72 sm:w-96 h-72 sm:h-96 bg-pink-500/30 blur-[130px] opacity-70",style:{contain:"layout style paint"}}),(0,Ei.jsx)("div",{className:"absolute top-1/3 -left-24 w-80 h-80 bg-indigo-500/20 blur-[140px]",style:{contain:"layout style paint"}}),(0,Ei.jsx)("div",{className:"absolute bottom-0 right-1/3 w-96 h-96 bg-blue-500/10 blur-[160px]",style:{contain:"layout style paint"}}),(0,Ei.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(120deg,rgba(255,255,255,0.02)_25%,transparent_25%)]",style:{contain:"layout style paint"}})]}),(0,Ei.jsxs)("div",{className:"relative z-10 px-2 sm:px-4 md:px-6 lg:px-10 pb-4 sm:pb-6 space-y-4 sm:space-y-6 safe-area-top",style:{contain:"layout style paint"},children:[(0,Ei.jsxs)("header",{className:"max-w-5xl mx-auto relative bg-gradient-to-br from-slate-900/95 via-slate-800/95 to-slate-900/95 backdrop-blur-xl rounded-3xl sm:rounded-[2rem] p-5 sm:p-6 md:p-8 lg:p-10 shadow-2xl border-2 border-slate-700/60 z-20 overflow-hidden",children:[(0,Ei.jsxs)("div",{className:"absolute inset-0",children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/20 via-transparent to-red-900/20"}),(0,Ei.jsxs)("svg",{className:"absolute bottom-0 left-0 w-full h-24 sm:h-32 opacity-40",viewBox:"0 0 1200 150",preserveAspectRatio:"none",children:[(0,Ei.jsx)("path",{d:"M0,150 L150,100 L300,110 L450,70 L600,85 L750,50 L900,65 L1050,45 L1200,60 L1200,150 Z",fill:"url(#mountainGradient1)"}),(0,Ei.jsx)("path",{d:"M0,150 L100,120 L250,100 L400,90 L550,75 L700,60 L850,50 L1000,55 L1200,50 L1200,150 Z",fill:"url(#mountainGradient2)"}),(0,Ei.jsxs)("defs",{children:[(0,Ei.jsxs)("linearGradient",{id:"mountainGradient1",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ei.jsx)("stop",{offset:"0%",stopColor:"#d97706",stopOpacity:"0.5"}),(0,Ei.jsx)("stop",{offset:"100%",stopColor:"#1e40af",stopOpacity:"0.3"})]}),(0,Ei.jsxs)("linearGradient",{id:"mountainGradient2",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ei.jsx)("stop",{offset:"0%",stopColor:"#dc2626",stopOpacity:"0.4"}),(0,Ei.jsx)("stop",{offset:"100%",stopColor:"#1e3a8a",stopOpacity:"0.2"})]})]})]}),(0,Ei.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl -mr-48 -mt-48"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl -ml-40 -mb-40"}),(0,Ei.jsx)("div",{className:"absolute top-1/2 left-1/3 w-64 h-64 bg-red-500/8 rounded-full blur-2xl"})]}),g&&x&&(0,Ei.jsxs)("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4 md:top-6 md:right-6 flex items-center gap-1.5 sm:gap-2 md:gap-3 z-30",style:{overflow:"visible"},children:[(0,Ei.jsx)(r.Suspense,{fallback:(0,Ei.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 animate-pulse"}),children:(0,Ei.jsx)(fa,{db:i,userId:g})}),(0,Ei.jsx)(na,{}),(0,Ei.jsx)(Zi,{userEmail:x,userRole:_,playerName:pe,onSignOut:async()=>{t&&(await function(e){return(0,v.Ku)(e).signOut()}(t),g&&localStorage.removeItem("userRegistered_".concat(g)),y(null),k(null),S("user"),C(null),X(null),R("poll"))}})]}),(0,Ei.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:[(0,Ei.jsxs)("div",{className:"relative group",children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-amber-400 to-amber-500 rounded-full blur-xl opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),(0,Ei.jsxs)("div",{className:"relative w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 lg:w-36 lg:h-36 rounded-full bg-white/10 backdrop-blur-sm shadow-2xl border-[3px] border-amber-300/70 flex items-center justify-center transform hover:scale-110 hover:rotate-3 transition-all duration-300 overflow-hidden ring-4 ring-amber-500/20",style:{aspectRatio:"1 / 1"},children:[(0,Ei.jsx)("img",{src:"".concat("/equate","/club-logo.png"),alt:"Sagarmatha FC Logo",className:"w-full h-full object-cover rounded-full",width:"144",height:"144",loading:"eager",style:{aspectRatio:"1 / 1",objectFit:"cover"},onError:e=>{console.error("Failed to load club logo from:",e.currentTarget.src)}}),(0,Ei.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white/30 via-transparent to-transparent pointer-events-none"}),(0,Ei.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-amber-400/40 animate-pulse"})]})]}),(0,Ei.jsx)("div",{className:"text-center space-y-2 sm:space-y-3 md:space-y-4 px-2",children:(0,Ei.jsxs)("h1",{className:"flex flex-col items-center gap-2 sm:gap-3",children:[(0,Ei.jsxs)("span",{className:"inline-flex items-center text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black tracking-tight flex-wrap justify-center",children:[(0,Ei.jsx)("span",{className:"bg-gradient-to-r from-amber-400 via-amber-300 to-amber-400 bg-clip-text text-transparent drop-shadow-lg",children:"Sagarmatha"}),(0,Ei.jsx)("span",{className:"mx-1.5 sm:mx-2 md:mx-3 text-slate-300",children:"FC"})]}),(0,Ei.jsxs)("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2 md:gap-3 mt-1 flex-wrap px-2",children:[(0,Ei.jsx)("div",{className:"h-px w-6 sm:w-8 md:w-12 bg-gradient-to-r from-transparent via-amber-500/60 to-amber-500/60"}),(0,Ei.jsx)("span",{className:"uppercase tracking-[0.15em] sm:tracking-[0.2em] text-[10px] sm:text-xs md:text-sm text-slate-400 font-semibold px-2 sm:px-3 py-1 sm:py-1.5 bg-slate-800/50 backdrop-blur-sm rounded-full border border-slate-700/50 whitespace-nowrap",children:"Excellence Through Unity"}),(0,Ei.jsx)("div",{className:"h-px w-6 sm:w-8 md:w-12 bg-gradient-to-l from-transparent via-amber-500/60 to-amber-500/60"})]})]})})]})]}),!fe&&(0,Ei.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 z-50",children:(0,Ei.jsxs)("div",{className:"text-center px-4",children:[(0,Ei.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-6",children:[(0,Ei.jsx)("div",{className:"absolute inset-0 border-4 border-indigo-200/30 rounded-full"}),(0,Ei.jsx)("div",{className:"absolute inset-0 border-4 border-transparent border-t-indigo-600 rounded-full animate-spin"})]}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("p",{className:"font-bold text-xl sm:text-2xl bg-gradient-to-r from-indigo-400 via-purple-400 to-indigo-400 bg-clip-text text-transparent mb-2",children:"Loading Sagarmatha FC..."}),(0,Ei.jsx)("p",{className:"text-sm text-slate-400 font-medium",children:"Please wait while we set everything up"})]})]})}),fe&&!g&&t&&(0,Ei.jsx)(Ni,{auth:t,onSignIn:async e=>{if(y(e.uid),k(e.email),F(null),i&&e.email)try{const t="undefined"!==typeof __app_id?__app_id:"default-app-id",n="artifacts/".concat(t,"/public/data/users/").concat(e.uid),r=(0,vi.H9)(i,n),a=await(0,vi.x7)(r);if(a.exists()){const t=a.data();await(0,vi.BN)(r,{email:e.email,role:t.role||"user",lastLogin:vi.Dc.now()},{merge:!0})}else await(0,vi.BN)(r,{email:e.email,role:"user",lastLogin:vi.Dc.now()},{merge:!0})}catch(M){console.error("Error creating/updating user document:",M)}"true"===localStorage.getItem("userRegistered_".concat(e.uid))?(X(!0),ee(!1)):(X(null),ee(!1))},error:M,setError:F}),fe&&g&&(0,Ei.jsxs)(Ei.Fragment,{children:[i&&(0,Ei.jsx)(ia,{db:i}),g&&(0,Ei.jsx)(r.Suspense,{fallback:(0,Ei.jsx)("div",{className:"max-w-5xl mx-auto mb-4 px-2 sm:px-3 md:px-4",children:(0,Ei.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 animate-pulse",children:[(0,Ei.jsx)("div",{className:"h-6 bg-slate-200 rounded w-1/3 mb-3"}),(0,Ei.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]})}),children:(0,Ei.jsx)(ha,{db:i,teams:(null===T||void 0===T?void 0:T.teams)||[],userRole:_,userId:g,userEmail:x||"",players:E,onNavigateToLeaderboard:()=>Q("leaderboard")})}),(0,Ei.jsx)("div",{className:"max-w-5xl mx-auto mb-2 px-2 mt-2 sm:mt-0 sm:mb-0 relative",style:{display:"block",zIndex:45},children:(0,Ei.jsxs)("button",{onClick:e=>{e.stopPropagation(),U(!z)},type:"button",style:{position:"relative",zIndex:45},className:"w-full flex items-center justify-between p-3 backdrop-blur-xl rounded-2xl shadow-lg border transition-all duration-200 sm:hidden ".concat("poll"===D?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-indigo-500/50":"leaderboard"===D||"teams"===D?"bg-gradient-to-r from-amber-500 to-orange-500 text-white border-amber-500/50":"questions"===D?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white border-blue-500/50":"admin"===D?"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-purple-500/50":"bg-white/80 text-slate-700 border-white/60"),children:[(0,Ei.jsxs)("span",{className:"font-semibold flex items-center gap-2",children:["poll"===D&&(0,Ei.jsx)(o,{className:"w-4 h-4"}),"leaderboard"===D&&(0,Ei.jsx)(l.A,{className:"w-4 h-4"}),"teams"===D&&(0,Ei.jsx)(c.A,{className:"w-4 h-4"}),"questions"===D&&(0,Ei.jsx)(u.A,{className:"w-4 h-4"}),"admin"===D&&(0,Ei.jsx)(d.A,{className:"w-4 h-4"}),"poll"===D&&(0,Ei.jsxs)(Ei.Fragment,{children:["Availability ",(0,Ei.jsxs)("span",{className:"ml-1",children:["(",ce,")"]})]}),"leaderboard"===D&&"Statistics","teams"===D&&"Teams","questions"===D&&"Questions","admin"===D&&"Admin"]}),(0,Ei.jsx)(h,{className:"w-5 h-5"})]})}),z&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 sm:hidden transition-opacity duration-300",onClick:()=>U(!1)}),(0,Ei.jsxs)("div",{className:"fixed top-0 left-0 right-0 bg-gradient-to-br from-slate-50/95 via-white/95 to-slate-50/95 backdrop-blur-xl rounded-b-3xl shadow-[0_20px_60px_rgba(15,23,42,0.3)] border-b-2 border-slate-200/60 z-50 sm:hidden max-h-[85vh] overflow-y-auto animate-in slide-in-from-top duration-300",children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-b-3xl",children:[(0,Ei.jsx)("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-indigo-200/30 rounded-full blur-3xl"}),(0,Ei.jsx)("div",{className:"absolute -bottom-16 -left-16 w-32 h-32 bg-purple-200/30 rounded-full blur-3xl"})]}),(0,Ei.jsxs)("div",{className:"relative p-5 sm:p-6 space-y-3",children:[(0,Ei.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-4 border-b-2 border-slate-200/60",children:[(0,Ei.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ei.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-600 to-indigo-500 flex items-center justify-center shadow-lg ring-2 ring-indigo-200/50",children:(0,Ei.jsx)(h,{className:"w-6 h-6 text-white"})}),(0,Ei.jsxs)("div",{children:[(0,Ei.jsx)("h2",{className:"font-bold text-xl bg-gradient-to-r from-slate-800 via-indigo-700 to-slate-800 bg-clip-text text-transparent",children:"Navigation"}),(0,Ei.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Choose a section"})]})]}),(0,Ei.jsx)("button",{onClick:()=>U(!1),className:"w-10 h-10 flex items-center justify-center hover:bg-slate-200/60 rounded-xl transition-all duration-200 hover:scale-110 active:scale-95 group","aria-label":"Close menu",children:(0,Ei.jsx)(f.A,{className:"w-5 h-5 text-slate-600 group-hover:text-slate-800 transition-colors"})})]}),(0,Ei.jsxs)("div",{className:"space-y-2.5",children:[(0,Ei.jsxs)("button",{onClick:()=>{Q("poll"),U(!1)},className:"w-full flex items-center gap-3 p-4 rounded-2xl transition-all duration-300 transform ".concat("poll"===D?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-xl scale-[1.02] border-2 border-indigo-500/50":"bg-white/80 backdrop-blur-sm text-slate-700 hover:bg-indigo-50/80 hover:scale-[1.01] border border-slate-200/60 shadow-md hover:shadow-lg"),children:[(0,Ei.jsx)("div",{className:"p-2 rounded-xl ".concat("poll"===D?"bg-white/20":"bg-indigo-100"),children:(0,Ei.jsx)(o,{className:"w-5 h-5 ".concat("poll"===D?"text-white":"text-indigo-600")})}),(0,Ei.jsxs)("span",{className:"font-semibold flex-1 text-left",children:["Availability ",(0,Ei.jsxs)("span",{className:"ml-1",children:["(",ce,")"]})]})]}),(0,Ei.jsxs)("button",{onClick:()=>{Q("leaderboard"),U(!1)},className:"w-full flex items-center gap-3 p-4 rounded-2xl transition-all duration-300 transform ".concat("leaderboard"===D?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-xl scale-[1.02] border-2 border-amber-500/50":"bg-white/80 backdrop-blur-sm text-slate-700 hover:bg-amber-50/80 hover:scale-[1.01] border border-slate-200/60 shadow-md hover:shadow-lg"),children:[(0,Ei.jsx)("div",{className:"p-2 rounded-xl ".concat("leaderboard"===D?"bg-white/20":"bg-amber-100"),children:(0,Ei.jsx)(l.A,{className:"w-5 h-5 ".concat("leaderboard"===D?"text-white":"text-amber-600")})}),(0,Ei.jsx)("span",{className:"font-semibold flex-1 text-left",children:"Statistics"})]}),(0,Ei.jsxs)("button",{onClick:()=>{Q("teams"),U(!1)},disabled:!T||!T.teams||0===T.teams.length,className:"w-full flex items-center gap-3 p-4 rounded-2xl transition-all duration-300 transform disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:scale-100 ".concat("teams"===D?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-xl scale-[1.02] border-2 border-amber-500/50":"bg-white/80 backdrop-blur-sm text-slate-700 hover:bg-amber-50/80 hover:scale-[1.01] border border-slate-200/60 shadow-md hover:shadow-lg"),children:[(0,Ei.jsx)("div",{className:"p-2 rounded-xl ".concat("teams"===D?"bg-white/20":"bg-amber-100"),children:(0,Ei.jsx)(c.A,{className:"w-5 h-5 ".concat("teams"===D?"text-white":"text-amber-600")})}),(0,Ei.jsx)("span",{className:"font-semibold flex-1 text-left",children:"Teams"})]}),(0,Ei.jsxs)("button",{onClick:()=>{Q("questions"),U(!1)},className:"w-full flex items-center gap-3 p-4 rounded-2xl transition-all duration-300 transform ".concat("questions"===D?"bg-gradient-to-r from-blue-500 to-cyan-600 text-white shadow-xl scale-[1.02] border-2 border-blue-500/50":"bg-white/80 backdrop-blur-sm text-slate-700 hover:bg-blue-50/80 hover:scale-[1.01] border border-slate-200/60 shadow-md hover:shadow-lg"),children:[(0,Ei.jsx)("div",{className:"p-2 rounded-xl ".concat("questions"===D?"bg-white/20":"bg-blue-100"),children:(0,Ei.jsx)(u.A,{className:"w-5 h-5 ".concat("questions"===D?"text-white":"text-blue-600")})}),(0,Ei.jsx)("span",{className:"font-semibold flex-1 text-left",children:"Questions"})]}),"admin"===_&&(0,Ei.jsxs)("button",{onClick:()=>{Q("admin"),U(!1)},className:"w-full flex items-center gap-3 p-4 rounded-2xl transition-all duration-300 transform ".concat("admin"===D?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl scale-[1.02] border-2 border-purple-500/50":"bg-white/80 backdrop-blur-sm text-slate-700 hover:bg-purple-50/80 hover:scale-[1.01] border border-slate-200/60 shadow-md hover:shadow-lg"),children:[(0,Ei.jsx)("div",{className:"p-2 rounded-xl ".concat("admin"===D?"bg-white/20":"bg-purple-100"),children:(0,Ei.jsx)(d.A,{className:"w-5 h-5 ".concat("admin"===D?"text-white":"text-purple-600")})}),(0,Ei.jsx)("span",{className:"font-semibold flex-1 text-left",children:"Admin"})]})]})]})]})]}),(0,Ei.jsxs)("nav",{className:"max-w-5xl mx-auto hidden sm:flex flex-row justify-center items-stretch bg-gradient-to-b from-white/95 via-white/90 to-white/95 backdrop-blur-2xl rounded-t-2xl sm:rounded-t-3xl rounded-b-none p-2.5 sm:p-3 md:p-3.5 shadow-[0_10px_40px_rgba(15,23,42,0.15),0_0_0_1px_rgba(255,255,255,0.5)_inset] gap-1.5 sm:gap-2 mb-0 relative z-[100]",style:{height:"72px",contain:"layout style paint",boxSizing:"border-box"},children:[(0,Ei.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[3px] bg-gradient-to-r from-indigo-400/30 via-purple-400/40 to-indigo-400/30 rounded-t-2xl sm:rounded-t-3xl"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-slate-300/30 to-transparent"}),(0,Ei.jsxs)("button",{onClick:e=>{e.stopPropagation(),Q("poll")},type:"button",className:"group relative px-5 sm:px-6 md:px-7 lg:px-9 py-3 sm:py-3.5 md:py-4 min-h-[52px] font-semibold rounded-xl sm:rounded-2xl sm:rounded-l-2xl sm:rounded-r-none transition-all duration-300 text-sm sm:text-base md:text-lg relative z-[101] overflow-hidden ".concat("poll"===D?"bg-gradient-to-br from-indigo-600 via-purple-600 to-indigo-700 text-white shadow-[0_8px_24px_rgba(99,102,241,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-indigo-400/50":"bg-white/60 text-slate-700 hover:bg-gradient-to-br hover:from-indigo-50/80 hover:via-purple-50/80 hover:to-indigo-50/80 hover:text-indigo-800 hover:shadow-lg hover:ring-1 hover:ring-indigo-200/50 border border-transparent hover:border-indigo-100/50"),children:["poll"===D&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/25 via-white/10 to-transparent"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-white/40 to-transparent"})]}),(0,Ei.jsxs)("span",{className:"relative flex items-center justify-center gap-2.5",children:[(0,Ei.jsx)(o,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-all duration-300 ".concat("poll"===D?"scale-110 drop-shadow-lg":"group-hover:scale-110 text-indigo-600")}),(0,Ei.jsx)("span",{className:"hidden sm:inline font-semibold",children:"Availability"}),(0,Ei.jsx)("span",{className:"sm:hidden font-semibold",children:"Avail"}),(0,Ei.jsx)("span",{className:"px-2.5 py-1 rounded-lg text-xs font-bold transition-all duration-300 ".concat("poll"===D?"bg-white/30 text-white shadow-md backdrop-blur-sm":"bg-indigo-100/80 text-indigo-700 group-hover:bg-indigo-200/80"),children:ce})]})]}),(0,Ei.jsxs)("button",{onClick:e=>{e.stopPropagation(),Q("leaderboard")},type:"button",className:"group relative px-5 sm:px-6 md:px-7 lg:px-9 py-3 sm:py-3.5 md:py-4 min-h-[52px] font-semibold rounded-xl sm:rounded-none transition-all duration-300 text-sm sm:text-base md:text-lg relative z-[101] overflow-hidden ".concat("leaderboard"===D?"bg-gradient-to-br from-amber-500 via-orange-500 to-amber-600 text-white shadow-[0_8px_24px_rgba(245,158,11,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-amber-400/50":"bg-white/60 text-slate-700 hover:bg-gradient-to-br hover:from-amber-50/80 hover:via-orange-50/80 hover:to-amber-50/80 hover:text-amber-800 hover:shadow-lg hover:ring-1 hover:ring-amber-200/50 border border-transparent hover:border-amber-100/50"),children:["leaderboard"===D&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/25 via-white/10 to-transparent"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-white/40 to-transparent"})]}),(0,Ei.jsxs)("span",{className:"relative flex items-center justify-center gap-2.5",children:[(0,Ei.jsx)(l.A,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-all duration-300 ".concat("leaderboard"===D?"scale-110 drop-shadow-lg":"group-hover:scale-110 text-amber-600")}),(0,Ei.jsx)("span",{className:"font-semibold",children:"Statistics"})]})]}),(0,Ei.jsxs)("button",{onClick:e=>{e.stopPropagation(),Q("teams")},type:"button",disabled:!T||!T.teams||0===T.teams.length,className:"group relative px-5 sm:px-6 md:px-7 lg:px-9 py-3 sm:py-3.5 md:py-4 min-h-[52px] font-semibold transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed text-sm sm:text-base md:text-lg rounded-xl sm:rounded-none relative z-[101] overflow-hidden ".concat("teams"===D?"bg-gradient-to-br from-amber-500 via-orange-500 to-amber-600 text-white shadow-[0_8px_24px_rgba(245,158,11,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-amber-400/50":"bg-white/60 text-slate-700 hover:bg-gradient-to-br hover:from-amber-50/80 hover:via-orange-50/80 hover:to-amber-50/80 hover:text-amber-800 hover:shadow-lg hover:ring-1 hover:ring-amber-200/50 border border-transparent hover:border-amber-100/50"),children:["teams"===D&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/25 via-white/10 to-transparent"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-white/40 to-transparent"})]}),(0,Ei.jsxs)("span",{className:"relative flex items-center justify-center gap-2.5",children:[(0,Ei.jsx)(c.A,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-all duration-300 ".concat("teams"===D?"scale-110 drop-shadow-lg":"group-hover:scale-110 text-amber-600")}),(0,Ei.jsx)("span",{className:"font-semibold",children:"Teams"})]})]}),(0,Ei.jsxs)("button",{onClick:e=>{e.stopPropagation(),Q("questions")},type:"button",className:"group relative px-5 sm:px-6 md:px-7 lg:px-9 py-3 sm:py-3.5 md:py-4 min-h-[52px] font-semibold rounded-xl sm:rounded-none transition-all duration-300 text-sm sm:text-base md:text-lg relative z-[101] overflow-hidden ".concat("questions"===D?"bg-gradient-to-br from-blue-500 via-cyan-600 to-blue-600 text-white shadow-[0_8px_24px_rgba(59,130,246,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-blue-400/50":"bg-white/60 text-slate-700 hover:bg-gradient-to-br hover:from-blue-50/80 hover:via-cyan-50/80 hover:to-blue-50/80 hover:text-blue-800 hover:shadow-lg hover:ring-1 hover:ring-blue-200/50 border border-transparent hover:border-blue-100/50"),children:["questions"===D&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/25 via-white/10 to-transparent"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-white/40 to-transparent"})]}),(0,Ei.jsxs)("span",{className:"relative flex items-center justify-center gap-2.5",children:[(0,Ei.jsx)(u.A,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-all duration-300 ".concat("questions"===D?"scale-110 drop-shadow-lg":"group-hover:scale-110 text-blue-600")}),(0,Ei.jsx)("span",{className:"hidden sm:inline font-semibold",children:"Questions"}),(0,Ei.jsx)("span",{className:"sm:hidden font-semibold",children:"Q&A"})]})]}),(0,Ei.jsxs)("button",{onClick:e=>{e.stopPropagation(),Q("admin")},type:"button",className:"group relative px-5 sm:px-6 md:px-7 lg:px-9 py-3 sm:py-3.5 md:py-4 min-h-[52px] font-semibold rounded-xl sm:rounded-r-2xl sm:rounded-l-none transition-all duration-300 text-sm sm:text-base md:text-lg relative z-[101] overflow-hidden ".concat("admin"===_?"admin"===D?"bg-gradient-to-br from-purple-600 via-pink-600 to-purple-700 text-white shadow-[0_8px_24px_rgba(168,85,247,0.4),0_0_0_1px_rgba(255,255,255,0.1)_inset] ring-2 ring-purple-400/50":"bg-white/60 text-slate-700 hover:bg-gradient-to-br hover:from-purple-50/80 hover:via-pink-50/80 hover:to-purple-50/80 hover:text-purple-800 hover:shadow-lg hover:ring-1 hover:ring-purple-200/50 border border-transparent hover:border-purple-100/50":"opacity-0 pointer-events-none invisible"),disabled:"admin"!==_,"aria-hidden":"admin"!==_,children:["admin"===D&&"admin"===_&&(0,Ei.jsxs)(Ei.Fragment,{children:[(0,Ei.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/25 via-white/10 to-transparent"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-to-r from-transparent via-white/40 to-transparent"})]}),(0,Ei.jsxs)("span",{className:"relative flex items-center justify-center gap-2.5",children:[(0,Ei.jsx)(d.A,{className:"w-5 h-5 sm:w-6 sm:h-6 transition-all duration-300 ".concat("admin"===D?"scale-110 drop-shadow-lg":"group-hover:scale-110 text-purple-600")}),(0,Ei.jsx)("span",{className:"font-semibold",children:"Admin"})]})]})]}),(0,Ei.jsxs)("main",{className:"max-w-5xl mx-auto px-2 sm:px-3 md:px-4 relative",style:{minHeight:"600px",contain:"layout style paint"},children:[(0,Ei.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-slate-300/30 to-transparent"}),(0,Ei.jsxs)("div",{className:"transition-all duration-500 ease-in-out ".concat("left"===O?"translate-x-full opacity-0 pointer-events-none":"right"===O?"-translate-x-full opacity-0 pointer-events-none":"translate-x-0 opacity-100"),style:{willChange:O?"transform, opacity":"auto",contain:"layout style paint"},children:["poll"===D&&(0,Ei.jsx)(Qi,{availability:E,loading:Y,availableCount:ce,onSetAvailability:oe,onGenerateTeams:he,onUpdatePlayer:async(e,t)=>{if(!i)return void F("Database connection not ready. Please wait.");F(null);const n="undefined"!==typeof __app_id?__app_id:"default-app-id",r="artifacts/".concat(n,"/public/data/soccer_players/").concat(e),a=(0,vi.H9)(i,r);try{const e={};void 0!==t.position&&(e.position=t.position),void 0!==t.skillLevel&&(e.skillLevel=t.skillLevel),void 0!==t.jerseyNumber&&(null===t.jerseyNumber||void 0===t.jerseyNumber?e.jerseyNumber=(0,vi.CL)():e.jerseyNumber=t.jerseyNumber),await(0,vi.mZ)(a,e),F(null)}catch(s){console.error("Error updating document: ",s),F("Failed to update player in database.")}},onDeletePlayer:async e=>{if(!i)return void F("Database connection not ready. Please wait.");if("admin"!==_)return void F("Only admins can delete players.");F(null);const t="undefined"!==typeof __app_id?__app_id:"default-app-id",n="artifacts/".concat(t,"/public/data/soccer_players/").concat(e),r=(0,vi.H9)(i,n);try{await(0,vi.kd)(r),await ae(),F(null)}catch(a){console.error("Error deleting player: ",a),F("Failed to delete player from database.")}},onAddPlayer:e=>ie(e,!1),error:M,disabled:!g,isAdmin:"admin"===_,teamCount:P,onTeamCountChange:re,minPlayersRequired:ue,canGenerateTeams:de,currentUserId:g,db:i,isActive:"poll"===D,onNavigateToLeaderboard:()=>Q("leaderboard"),userEmail:x||"",userRole:_,openMOTMModal:V,openKudosModal:q,openPointsModal:K,onModalOpened:e=>{"motm"===e&&B(!1),"kudos"===e&&H(!1),"points"===e&&W(!1)}}),"teams"===D&&(0,Ei.jsx)(r.Suspense,{fallback:(0,Ei.jsx)("div",{className:"relative overflow-hidden backdrop-blur-xl p-8 sm:p-12 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] bg-gradient-to-br from-amber-50/95 via-orange-50/95 to-amber-50/95 border-l-2 border-r-2 border-b-2 border-amber-500/70 min-h-[400px]",children:(0,Ei.jsxs)("div",{className:"relative z-10 text-center py-12 sm:py-16",children:[(0,Ei.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 mb-6 bg-gradient-to-br from-amber-100 to-orange-100 rounded-3xl shadow-xl animate-pulse",children:(0,Ei.jsx)(c.A,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-600"})}),(0,Ei.jsx)("div",{className:"h-8 bg-amber-200 rounded w-64 mx-auto mb-4 animate-pulse"}),(0,Ei.jsx)("div",{className:"h-4 bg-amber-200 rounded w-96 mx-auto animate-pulse"})]})}),children:I?(0,Ei.jsx)(la,{teams:[],generatedAt:void 0,onBack:()=>Q("poll"),isActive:"teams"===D,isLoading:!0}):T&&(null===(e=T.teams)||void 0===e?void 0:e.length)>0?(0,Ei.jsx)(la,{teams:T.teams,generatedAt:T.generatedAt,onBack:()=>Q("poll"),isActive:"teams"===D,isLoading:!1}):(0,Ei.jsxs)("div",{className:"relative overflow-hidden backdrop-blur-xl p-8 sm:p-12 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] bg-gradient-to-br from-amber-50/95 via-orange-50/95 to-amber-50/95 border-l-2 border-r-2 border-b-2 border-amber-500/70 min-h-[400px]",children:[(0,Ei.jsxs)("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[(0,Ei.jsx)("div",{className:"absolute -top-10 right-0 w-56 h-56 bg-amber-200/60 blur-[110px]"}),(0,Ei.jsx)("div",{className:"absolute bottom-0 left-4 w-64 h-64 bg-pink-200/50 blur-[120px]"})]}),(0,Ei.jsxs)("div",{className:"relative z-10 text-center py-12 sm:py-16",children:[(0,Ei.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 mb-6 bg-gradient-to-br from-amber-100 to-orange-100 rounded-3xl shadow-xl",children:(0,Ei.jsx)(c.A,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-600"})}),(0,Ei.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-3",children:"No Teams Generated Yet"}),(0,Ei.jsx)("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:"Teams will appear here once an admin generates them from the Availability tab."}),(0,Ei.jsxs)("button",{onClick:()=>Q("poll"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:[(0,Ei.jsx)(o,{className:"w-5 h-5"}),"Go to Availability"]})]})]})}),"questions"===D&&g&&(0,Ei.jsx)(r.Suspense,{fallback:(0,Ei.jsx)("div",{className:"relative overflow-hidden backdrop-blur-xl p-8 sm:p-12 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] bg-gradient-to-br from-blue-50/95 via-cyan-50/95 to-blue-50/95 border-l-2 border-r-2 border-b-2 border-blue-500/70 min-h-[400px]",children:(0,Ei.jsxs)("div",{className:"relative z-10 text-center py-12 sm:py-16",children:[(0,Ei.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 mb-6 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-3xl shadow-xl animate-pulse",children:(0,Ei.jsx)(u.A,{className:"w-10 h-10 sm:w-12 sm:h-12 text-blue-600"})}),(0,Ei.jsx)("div",{className:"h-8 bg-blue-200 rounded w-64 mx-auto mb-4 animate-pulse"}),(0,Ei.jsx)("div",{className:"h-4 bg-blue-200 rounded w-96 mx-auto animate-pulse"})]})}),children:(0,Ei.jsx)(ua,{db:i,userId:g,userEmail:x||"",userRole:_,isActive:"questions"===D})}),"leaderboard"===D&&g&&(0,Ei.jsx)(r.Suspense,{fallback:(0,Ei.jsx)("div",{className:"relative overflow-hidden backdrop-blur-xl p-8 sm:p-12 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] bg-gradient-to-br from-amber-50/95 via-orange-50/95 to-amber-50/95 border-l-2 border-r-2 border-b-2 border-amber-500/70 min-h-[400px]",children:(0,Ei.jsxs)("div",{className:"relative z-10 text-center py-12 sm:py-16",children:[(0,Ei.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 mb-6 bg-gradient-to-br from-amber-100 to-orange-100 rounded-3xl shadow-xl animate-pulse",children:(0,Ei.jsx)(l.A,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-600"})}),(0,Ei.jsx)("div",{className:"h-8 bg-amber-200 rounded w-64 mx-auto mb-4 animate-pulse"}),(0,Ei.jsx)("div",{className:"h-4 bg-amber-200 rounded w-96 mx-auto animate-pulse"})]})}),children:(0,Ei.jsx)(da,{db:i,userId:g,userEmail:x||"",userRole:_,players:E,isActive:"leaderboard"===D})}),"admin"===D&&"admin"===_&&g&&(0,Ei.jsx)(r.Suspense,{fallback:(0,Ei.jsx)("div",{className:"relative overflow-hidden backdrop-blur-xl p-8 sm:p-12 rounded-b-3xl rounded-t-none shadow-[0_20px_60px_rgba(15,23,42,0.15)] -mt-[1px] bg-gradient-to-br from-purple-50/95 via-pink-50/95 to-purple-50/95 border-l-2 border-r-2 border-b-2 border-purple-500/70 min-h-[400px]",children:(0,Ei.jsxs)("div",{className:"relative z-10 text-center py-12 sm:py-16",children:[(0,Ei.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 sm:w-24 sm:h-24 mb-6 bg-gradient-to-br from-purple-100 to-pink-100 rounded-3xl shadow-xl animate-pulse",children:(0,Ei.jsx)(d.A,{className:"w-10 h-10 sm:w-12 sm:h-12 text-purple-600"})}),(0,Ei.jsx)("div",{className:"h-8 bg-purple-200 rounded w-64 mx-auto mb-4 animate-pulse"}),(0,Ei.jsx)("div",{className:"h-4 bg-purple-200 rounded w-96 mx-auto animate-pulse"})]})}),children:(0,Ei.jsx)(ca,{db:i,userId:g,userEmail:x||"",userRole:_,onRoleUpdate:()=>{if(!i||!g)return;(async()=>{try{const e="undefined"!==typeof __app_id?__app_id:"default-app-id",t="artifacts/".concat(e,"/public/data/users/").concat(g),n=(0,vi.H9)(i,t),r=await(0,vi.x7)(n);if(r.exists()){const e="admin"===r.data().role?"admin":"user";S(e)}else S("user")}catch(M){console.error("Error refreshing user role:",M)}})()},players:E,isActive:"admin"===D,onResetAvailability:se})})]})]})]}),fe&&g&&M&&(0,Ei.jsx)("div",{className:"max-w-5xl mx-auto mt-4 px-4",children:(0,Ei.jsxs)("div",{className:"relative p-4 sm:p-5 bg-gradient-to-r from-red-50 via-rose-50 to-red-50 border-2 border-red-300/80 text-red-800 rounded-2xl text-sm sm:text-base font-semibold text-center shadow-xl shadow-red-500/20 backdrop-blur-sm animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,Ei.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 via-rose-500 to-red-500 rounded-t-2xl"}),(0,Ei.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ei.jsx)(p.A,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600 flex-shrink-0"}),(0,Ei.jsx)("span",{children:M}),(0,Ei.jsx)("button",{onClick:()=>F(null),className:"absolute top-2 right-2 p-1.5 hover:bg-red-100 rounded-lg transition-colors duration-200","aria-label":"Dismiss error",children:(0,Ei.jsx)(f.A,{className:"w-4 h-4 text-red-600"})})]})]})}),fe&&g&&!Z&&!J&&x&&(0,Ei.jsx)($i,{userEmail:x,onRegister:async e=>{await ie(e,!0)}}),fe&&g&&Z&&(0,Ei.jsx)("div",{className:"max-w-4xl mx-auto mt-8 text-center p-10",children:(0,Ei.jsxs)("div",{className:"inline-flex flex-col items-center gap-4 p-8 bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-xl",children:[(0,Ei.jsxs)("div",{className:"relative w-16 h-16",children:[(0,Ei.jsx)("div",{className:"absolute inset-0 border-4 border-white/20 rounded-full"}),(0,Ei.jsx)("div",{className:"absolute inset-0 border-4 border-transparent border-t-white rounded-full animate-spin"})]}),(0,Ei.jsx)("p",{className:"font-bold text-lg sm:text-xl text-white drop-shadow-lg",children:"Checking registration..."})]})})]})]})}const ga=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,Ei.jsx)(r.StrictMode,{children:(0,Ei.jsx)(ma,{})})),ga()})();
//# sourceMappingURL=main.a49436f3.js.map